{"version":3,"file":"static/js/63.dff4fbcf.chunk.js","mappings":"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","sources":["ui-component/cards/MainCard.js","views/twitch/revoking-tokens/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { forwardRef } from 'react';\n\n// material-ui\nimport { useTheme } from '@mui/material/styles';\nimport { Card, CardContent, CardHeader, Divider, Typography } from '@mui/material';\n\n// constant\nconst headerSX = {\n  '& .MuiCardHeader-action': { mr: 0 }\n};\n\n// ==============================|| CUSTOM MAIN CARD ||============================== //\n\nconst MainCard = forwardRef(\n  (\n    {\n      border = true,\n      boxShadow,\n      children,\n      content = true,\n      contentClass = '',\n      contentSX = {},\n      darkTitle,\n      secondary,\n      shadow,\n      sx = {},\n      title,\n      ...others\n    },\n    ref\n  ) => {\n    const theme = useTheme();\n\n    return (\n      <Card\n        ref={ref}\n        {...others}\n        sx={{\n          border: border ? '1px solid' : 'none',\n          borderColor: theme.palette.primary[200] + 25,\n          ':hover': {\n            boxShadow: boxShadow ? shadow || '0 2px 14px 0 rgb(32 40 45 / 8%)' : 'inherit'\n          },\n          ...sx\n        }}\n      >\n        {/* card header and action */}\n        {title && <CardHeader sx={headerSX} title={darkTitle ? <Typography variant=\"h3\">{title}</Typography> : title} action={secondary} />}\n\n        {/* content & header divider */}\n        {title && <Divider />}\n\n        {/* card content */}\n        {content && (\n          <CardContent sx={contentSX} className={contentClass}>\n            {children}\n          </CardContent>\n        )}\n        {!content && children}\n      </Card>\n    );\n  }\n);\n\nMainCard.propTypes = {\n  border: PropTypes.bool,\n  boxShadow: PropTypes.bool,\n  children: PropTypes.node,\n  content: PropTypes.bool,\n  contentClass: PropTypes.string,\n  contentSX: PropTypes.object,\n  darkTitle: PropTypes.bool,\n  secondary: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\n  shadow: PropTypes.string,\n  sx: PropTypes.object,\n  title: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object])\n};\n\nexport default MainCard;\n","import { Typography, TextField, Button, Grid } from '@mui/material';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { useState } from 'react';\r\n\r\nconst Page = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState(false);\r\n  const [outputData, setOutputData] = useState(null);\r\n  const [outputError, setOutputError] = useState(null);\r\n  const [hovered, setHovered] = useState(false);\r\n\r\n  const handleClick = async () => {\r\n    if (message.trim() === '') {\r\n      setError(true);\r\n    } else {\r\n      setError(false);\r\n      try {\r\n        const data = await validateTokenAndRevoke(message);\r\n\r\n        setOutputData(data);\r\n        setOutputError(null);\r\n      } catch (err) {\r\n        setOutputData(null);\r\n        setOutputError(err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const validateTokenAndRevoke = async (token) => {\r\n    const validateResponse = await fetch('https://id.twitch.tv/oauth2/validate', {\r\n      headers: {\r\n        Authorization: `OAuth ${token}`\r\n      }\r\n    });\r\n\r\n    const validateData = await validateResponse.json();\r\n\r\n    if (!validateResponse.ok) {\r\n      switch (validateData.message) {\r\n        case 'invalid access token':\r\n          throw new Error('Invalid access token');\r\n        default:\r\n          throw new Error(validateData.message || 'Validate token failed');\r\n      }\r\n    }\r\n\r\n    const revokeResponse = await fetch('https://id.twitch.tv/oauth2/revoke', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: `client_id=${validateData.client_id}&token=${token}`\r\n    });\r\n\r\n    if (!revokeResponse.ok) {\r\n      throw new Error('Revoke Token failed');\r\n    }\r\n\r\n    return validateData;\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleClick();\r\n    }\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    setHovered(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHovered(false);\r\n  };\r\n\r\n  return (\r\n    <MainCard title=\"Revoking Tokens\">\r\n      <Grid container spacing={2} alignItems=\"center\">\r\n        <Grid item xs={9}>\r\n          <TextField\r\n            fullWidth\r\n            id=\"standard-basic\"\r\n            label=\"OAuth Token\"\r\n            type=\"password\"\r\n            variant=\"standard\"\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            error={error}\r\n            helperText={error ? 'This field is required' : ''}\r\n            onKeyPress={handleKeyPress}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Button variant=\"contained\" fullWidth onClick={handleClick}>\r\n            Revoke\r\n          </Button>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          {outputData && (\r\n            <div style={{ padding: '5px', marginTop: '10px' }}>\r\n              <Typography variant=\"body2\" component=\"pre\">\r\n                <code>\r\n                  The token was successfully revoked.\r\n                  <br />\r\n                  <br />\r\n                  Login: <span style={{ color: '#00B8D9' }}>{outputData.login}</span> - (ID:{' '}\r\n                  <span style={{ color: '#00B8D9' }}>{outputData.user_id}</span>)\r\n                  <br />\r\n                  Token:{' '}\r\n                  <span\r\n                    className={hovered ? '' : 'blur-on-hover'}\r\n                    style={{ color: '#00B8D9' }}\r\n                    onMouseEnter={handleMouseEnter}\r\n                    onMouseLeave={handleMouseLeave}\r\n                  >\r\n                    {message}\r\n                  </span>\r\n                  <br />\r\n                  ClientID: <span style={{ color: '#00B8D9' }}>{outputData.client_id}</span>\r\n                  <br />\r\n                  Scopes: <span style={{ color: '#00B8D9' }}>{outputData.scopes.join(', ')}</span>\r\n                </code>\r\n              </Typography>\r\n            </div>\r\n          )}\r\n          {outputError && (\r\n            <Typography variant=\"body2\" style={{ color: 'red', marginTop: '10px' }}>\r\n              {outputError}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </MainCard>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"names":["headerSX","mr","MainCard","forwardRef","_ref","ref","border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title","others","theme","useTheme","_jsxs","Card","borderColor","palette","primary","_jsx","CardHeader","Typography","variant","action","Divider","CardContent","className","Page","message","setMessage","useState","error","setError","outputData","setOutputData","outputError","setOutputError","hovered","setHovered","handleClick","async","trim","data","validateTokenAndRevoke","err","validateResponse","fetch","headers","Authorization","token","validateData","json","ok","Error","method","body","client_id","Grid","container","spacing","alignItems","item","xs","TextField","fullWidth","id","label","type","value","onChange","e","target","helperText","onKeyPress","key","Button","onClick","style","padding","marginTop","component","color","login","user_id","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","scopes","join"],"sourceRoot":""}