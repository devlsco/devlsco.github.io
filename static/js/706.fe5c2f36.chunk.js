"use strict";(self.webpackChunkpage=self.webpackChunkpage||[]).push([[706],{1706:function(t,e,i){i.r(e);var o=i(2791);e.default=()=>{(0,o.useEffect)((()=>{(async()=>{try{const i=new URLSearchParams(window.location.hash.substring(1)).get("access_token");if(i){const o=await t(i),r=await e(o.user_id,i,o.client_id),a={access_token:i,client_id:o.client_id,id:r.id,login:r.login,description:r.description,profile_image_url:r.profile_image_url};localStorage.setItem("login",JSON.stringify(a)),window.open(`${window.location.origin}/dashboard`,"_self")}else window.open(`${window.location.origin}/dashboard`,"_self")}catch(i){console.error(i)}})()}),[]);const t=async t=>{try{const e=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Invalid access token");return await e.json()}catch(e){console.error(e)}},e=async(t,e,i)=>{try{const o=await fetch(`https://api.twitch.tv/helix/users?id=${t}`,{headers:{Authorization:"Bearer "+e,"Client-ID":i}});if(!o.ok)throw new Error("Error getting user");return(await o.json()).data[0]}catch(o){console.error(o)}};return null}}}]);
//# sourceMappingURL=706.fe5c2f36.chunk.js.map