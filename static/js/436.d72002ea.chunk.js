"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[436],{1436:function(e,t,a){a.r(t);var n=a(1979),r=a(4507),i=a(4605),l=a.n(i),s=a(2791),o=a(8870),c=a(890),d=a(1889),h=a(7391),u=a(6377),g=a(3044),m=a(6151),p=a(43),x=a(625),f=a(4070),j=a(5228),_=a(3896),b=a(4746),y=a(184);const w=(0,n.Z)({palette:{mode:"dark"}}),v=s.forwardRef((function(e,t){return(0,y.jsx)(f.Z,{elevation:6,ref:t,variant:"filled",...e})}));function S(e){const{children:t,value:a,index:n,...r}=e;return(0,y.jsx)("div",{role:"tabpanel",hidden:a!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...r,children:a===n&&(0,y.jsx)(o.Z,{sx:{p:3},children:(0,y.jsx)(c.Z,{children:t})})})}function Z(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}async function C(e){if(!localStorage.getItem("login"))return;const t=await fetch(`https://api.twitch.tv/helix/users?id=${encodeURIComponent(e.trim())}`,{responseType:"json",throwHttpErrors:!1,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("login")).access_token,"Client-ID":JSON.parse(localStorage.getItem("login")).client_id}}),a=await t.json();if(!t.ok)throw new Error(a.message?`${a.error}, ${a.message}`:t.statusText);if(!a.data[0])throw new Error("Channel not found.");return a.data[0]}t.default=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[i,f]=(0,s.useState)({name:"",id:null,avatarUrl:""}),[I,k]=(0,s.useState)(""),[O,$]=(0,s.useState)(!1),[D,U]=(0,s.useState)(!1),[N,T]=(0,s.useState)(""),[J,P]=(0,s.useState)(""),[A,E]=(0,s.useState)(null),[R,z]=(0,s.useState)(null),[W,B]=(0,s.useState)(null),[H,L]=(0,s.useState)(0);(0,s.useEffect)((()=>{document.title="LsCo Software - Dashboard"}),[]),(0,s.useEffect)((()=>{if(!A)return;(async()=>{try{const e=await C(A.name.split(" ")[3]);B(null),z(e)}catch(e){B(e.message),z(null)}})()}),[A]),(0,s.useEffect)((()=>{(async()=>{const e=JSON.parse(localStorage.getItem("login"));if(null!==localStorage.getItem("login"))try{const t=await fetch(`https://api.twitch.tv/helix/channels?broadcaster_id=${e.id}`,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("login")).access_token,"Client-ID":JSON.parse(localStorage.getItem("login")).client_id}}),a=await t.json();if(t.ok&&a.data.length>0){const e=a.data[0];f({name:e.game_name.length?e.game_name:"None",id:e.game_id.length?e.game_id:0,avatarUrl:""}),k(e.title)}}catch(t){console.error(t)}})()}),[]);const q=()=>{$(!0)},F=(e,t)=>{"clickaway"!==t&&$(!1)},V=(e,t)=>{"clickaway"!==t&&U(!1)};return(0,y.jsxs)(b.Z,{title:"Dashboard",description:"Here you can update the stream or get info about a user.",children:[(0,y.jsx)(o.Z,{children:(0,y.jsxs)(j.Z,{value:H,onChange:(e,t)=>{L(t)},"aria-label":"basic tabs example",children:[(0,y.jsx)(_.Z,{label:"Stream Dashboard",...Z(0)}),(0,y.jsx)(_.Z,{label:"Userinfo",...Z(1)})]})}),(0,y.jsx)(S,{value:H,index:0,children:(0,y.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(r.Z,{theme:w,children:(0,y.jsx)(h.Z,{fullWidth:!0,id:"outlined-basic",label:"Title",variant:"outlined",value:I,onChange:e=>k(e.target.value),autoFocus:!0})})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(r.Z,{theme:w,children:(0,y.jsx)(u.Z,{value:i,options:e,getOptionLabel:e=>e.name,onChange:(e,t)=>{f(null!==t&&void 0!==t?t:{name:"",id:null,avatarUrl:""})},isOptionEqualToValue:(e,t)=>e.id===t.id,renderInput:e=>(0,y.jsx)(h.Z,{...e,fullWidth:!0,id:"outlined-basic",label:"Game",variant:"outlined",onChange:e=>{(async e=>{if(!localStorage.getItem("login"))return t([]);if(""!==e.trim()){const a=await fetch(`https://api.twitch.tv/helix/search/categories?query=${decodeURIComponent(e)}&first=15`,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("login")).access_token,"Client-ID":JSON.parse(localStorage.getItem("login")).client_id}}),n=await a.json();a.ok?t(n.data.map((e=>({name:e.name,id:e.id,avatarUrl:e.box_art_url.replace("500","520")})))):t([])}else t([])})(e.target.value)}}),renderOption:(e,t)=>(0,y.jsx)("li",{...e,children:(0,y.jsxs)(o.Z,{display:"flex",alignItems:"center",children:[(0,y.jsx)(g.Z,{variant:"square",src:t.avatarUrl,alt:t.name,sx:{width:35,height:45,marginRight:1}}),t.name]})})})})}),(0,y.jsx)(d.ZP,{item:!0,children:(0,y.jsx)(m.Z,{variant:"text",fullWidth:!0,onClick:async()=>{const e=JSON.parse(localStorage.getItem("login"));if(!e)return T("Log in with your Twitch account to use this tool"),void q();const t=decodeURIComponent(e.id);try{var a;const n=await fetch(`https://api.twitch.tv/helix/channels?broadcaster_id=${t}`,{method:"PATCH",headers:{Authorization:"Bearer "+e.access_token,"Client-ID":e.client_id,"Content-Type":"application/json"},body:JSON.stringify({game_id:null!==(a=i.id)&&void 0!==a?a:0,title:I.length?I:" "})});if(n.ok)P("Successfully updated your title & game."),U(!0);else{const e=await n.json();T(e.message),q()}}catch(n){console.error(n)}},children:"Update"})})]})}),(0,y.jsx)(S,{value:H,index:1,children:(0,y.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(r.Z,{theme:w,children:(0,y.jsx)(u.Z,{options:a,getOptionLabel:e=>e.name,onChange:(e,t)=>{E(t)},renderInput:e=>(0,y.jsx)(h.Z,{...e,fullWidth:!0,id:"outlined-basic",label:"User information",variant:"outlined",onChange:e=>{(async e=>{if(!localStorage.getItem("login"))return n([]);if(""!==e.trim()){const t=await fetch(`https://api.twitch.tv/helix/search/channels?query=${e}&first=25`,{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("login")).access_token,"Client-ID":JSON.parse(localStorage.getItem("login")).client_id}}),a=await t.json();t.ok?n(a.data.map((e=>({name:`${new RegExp("^\\w+$").test(e.display_name)?e.display_name:e.broadcaster_login} - ID: ${e.id}`,avatarUrl:e.thumbnail_url.replace("300x300","50x50")})))):n([])}else n([])})(e.target.value)},autoFocus:!0}),renderOption:(e,t)=>(0,y.jsx)("li",{...e,children:(0,y.jsxs)(o.Z,{display:"flex",alignItems:"center",children:[(0,y.jsx)(g.Z,{src:t.avatarUrl,alt:t.name,sx:{width:25,height:25,marginRight:1}}),t.name]})})})})}),(0,y.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(r.Z,{theme:w,children:(0,y.jsx)(h.Z,{fullWidth:!0,id:"outlined-basic",label:"Channel by ID",variant:"outlined",onChange:e=>{(async e=>{""!==e.trim()&&(async()=>{try{const t=await C(e);B(null),z(t)}catch(t){B(t.message),z(null)}})()})(e.target.value)}})})}),(0,y.jsxs)(d.ZP,{item:!0,xs:12,children:[W&&(0,y.jsx)(c.Z,{variant:"body2",style:{color:"red",marginTop:"10px",textAlign:"center"},children:W}),!localStorage.getItem("login")&&(0,y.jsx)(c.Z,{variant:"body2",style:{color:"red",marginTop:"10px",textAlign:"center"},children:"Log in with your Twitch account to use this tool"}),R&&(0,y.jsxs)(o.Z,{sx:{backgroundColor:"rgb(250,250,250,0.1)",borderRadius:"5px",padding:"15px",whiteSpace:"pre-wrap",maxWidth:"100%",overflowX:"auto"},children:[(0,y.jsxs)(c.Z,{variant:"body2",component:"pre",children:[(0,y.jsx)("strong",{children:"id:"})," ",R.id,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"login:"})," ",R.login,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"display_name:"})," ",R.display_name,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"type:"})," ",""===R.type?"default":R.type,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"broadcaster_type:"})," ",""===R.broadcaster_type?"default":R.broadcaster_type,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"description:"})," ",""===R.description?"default":R.description,(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"profile_image_url:"})," ",""===R.profile_image_url?"default":(0,y.jsx)(p.Z,{target:"_blank",href:R.profile_image_url,children:R.profile_image_url}),(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"offline_image_url:"})," ",""===R.offline_image_url?"default":(0,y.jsx)(p.Z,{target:"_blank",href:R.offline_image_url,children:R.offline_image_url}),(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:"created_at:"})," ",R.created_at," (",(G=new Date(R.created_at).getTime(),l()(Date.now()-G,{units:["y","mo","d","h","m","s"],largest:4,round:!0,spacer:" ",conjunction:" and ",serialComma:!1,zero:"0"}))," ago)"]}),(0,y.jsx)(m.Z,{variant:"contained",color:"primary",href:`https://www.twitch.tv/${R.login}`,target:"_blank",rel:"noopener noreferrer",style:{marginTop:"10px"},children:"Visit Channel"})]})]})]})}),(0,y.jsx)(x.Z,{open:O,autoHideDuration:2500,onClose:F,children:(0,y.jsx)(v,{onClose:F,severity:"error",sx:{width:"100%"},children:N})}),(0,y.jsx)(x.Z,{open:D,autoHideDuration:1500,onClose:V,children:(0,y.jsx)(v,{onClose:V,severity:"success",sx:{width:"100%"},children:J})})]});var G}}}]);
//# sourceMappingURL=436.d72002ea.chunk.js.map