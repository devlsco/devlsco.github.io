"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[63],{4063:function(e,t,n){n.r(t);var s=n(1889),r=n(7391),o=n(6151),i=n(890),a=n(4746),l=n(2791),c=n(9276),d=n(184);t.default=()=>{const[e,t]=(0,l.useState)(""),[n,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(null),[x,f]=(0,l.useState)(null),[k,j]=(0,l.useState)(!1);(0,l.useEffect)((()=>{document.title="LsCo Software - Revoking Tokens"}),[]);const w=async()=>{if(""===e.trim())h(!0),p(null),f("This field is required");else try{const t=await v(e);h(!1),p(t),f(null)}catch(t){h(!0),p(null),f(t.message)}},v=async e=>{const t=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:`OAuth ${e}`}}),n=await t.json();if(!t.ok){if("invalid access token"===n.message)throw new Error("Invalid access token");throw new Error(n.message||"Validate token failed")}if(!(await fetch("https://id.twitch.tv/oauth2/revoke",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`client_id=${n.client_id}&token=${e}`})).ok)throw new Error("Revoke Token failed");return n};return(0,d.jsx)(a.Z,{title:"Revoking Tokens",description:"If you no longer needs an access token, you can revoke it.",children:(0,d.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,d.jsx)(s.ZP,{item:!0,xs:9,children:(0,d.jsx)(r.Z,{fullWidth:!0,id:"standard-basic",label:"OAuth Token",type:"password",variant:"filled",value:e,onChange:e=>t(e.target.value),error:n,helperText:x,onKeyPress:e=>{"Enter"===e.key&&w()}})}),(0,d.jsx)(s.ZP,{item:!0,xs:3,children:(0,d.jsx)(o.Z,{variant:"contained",fullWidth:!0,onClick:w,children:"Revoke"})}),(0,d.jsx)(s.ZP,{item:!0,xs:12,children:u&&(0,d.jsx)(c.Z,{fullWidth:!0,sx:{backgroundColor:"rgb(250,250,250,0.1)",padding:"2.5px",paddingX:"15px",whiteSpace:"pre-wrap",maxWidth:"100%",overflowX:"auto"},children:(0,d.jsx)("div",{style:{padding:"5px",marginTop:"10px"},children:(0,d.jsx)(i.Z,{variant:"body2",component:"pre",children:(0,d.jsxs)("code",{children:["The token was successfully revoked.",(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),"Login: ",(0,d.jsx)("span",{style:{color:"#00B8D9"},children:u.login})," - (ID:"," ",(0,d.jsx)("span",{style:{color:"#00B8D9"},children:u.user_id}),")",(0,d.jsx)("br",{}),"Token:"," ",(0,d.jsx)("span",{className:k?"":"blur-on-hover",style:{color:"#00B8D9"},onMouseEnter:()=>{j(!0)},onMouseLeave:()=>{j(!1)},children:e}),(0,d.jsx)("br",{}),"ClientID: ",(0,d.jsx)("span",{style:{color:"#00B8D9"},children:u.client_id}),(0,d.jsx)("br",{}),"Scopes: ",(0,d.jsx)("span",{style:{color:"#00B8D9"},children:u.scopes?u.scopes.join(", "):"No scopes"})]})})})})})]})})}},9276:function(e,t,n){const s=(0,n(3814).Z)();t.Z=s}}]);
//# sourceMappingURL=63.6374e078.chunk.js.map