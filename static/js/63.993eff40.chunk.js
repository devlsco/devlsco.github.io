"use strict";(self.webpackChunkpage=self.webpackChunkpage||[]).push([[63],{4063:function(e,t,n){n.r(t);var s=n(1979),o=n(4507),i=n(1889),r=n(7391),a=n(6151),l=n(890),c=n(6999),d=n(2791),h=n(9276),u=n(184);const p=(0,s.Z)({palette:{mode:"dark"}});t.default=()=>{const[e,t]=(0,d.useState)(""),[n,s]=(0,d.useState)(!1),[x,k]=(0,d.useState)(null),[f,j]=(0,d.useState)(null),[w,v]=(0,d.useState)(!1);(0,d.useEffect)((()=>{document.title="LsCo Software - Revoking Tokens"}),[]);const g=async()=>{if(""===e.trim())s(!0),k(null),j("This field is required");else try{const t=await y(e);s(!1),k(t),j(null)}catch(t){s(!0),k(null),j(t.message)}},y=async e=>{const t=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:`OAuth ${e}`}}),n=await t.json();if(!t.ok){if("invalid access token"===n.message)throw new Error("Invalid access token");throw new Error(n.message||"Validate token failed")}if(!(await fetch("https://id.twitch.tv/oauth2/revoke",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`client_id=${n.client_id}&token=${e}`})).ok)throw new Error("Revoke Token failed");return n};return(0,u.jsx)(c.Z,{title:"Revoking Tokens",description:"If you no longer needs an access token, you can revoke it.",children:(0,u.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,u.jsx)(i.ZP,{item:!0,xs:12,children:(0,u.jsx)(o.Z,{theme:p,children:(0,u.jsx)(r.Z,{fullWidth:!0,id:"outlined-basic",label:"OAuth Token",type:"password",variant:"outlined",value:e,onChange:e=>t(e.target.value),error:n,helperText:f,onKeyPress:e=>{"Enter"===e.key&&g()}})})}),(0,u.jsx)(i.ZP,{item:!0,xs:12,children:(0,u.jsx)(a.Z,{variant:"contained",fullWidth:!0,onClick:g,children:"Revoke"})}),(0,u.jsx)(i.ZP,{item:!0,xs:12,children:x&&(0,u.jsx)(h.Z,{fullWidth:!0,sx:{backgroundColor:"rgb(250,250,250,0.1)",padding:"2.5px",paddingX:"15px",whiteSpace:"pre-wrap",maxWidth:"100%",overflowX:"auto"},children:(0,u.jsx)("div",{style:{padding:"5px",marginTop:"10px"},children:(0,u.jsx)(l.Z,{variant:"body2",component:"pre",children:(0,u.jsxs)("code",{children:["The token was successfully revoked.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"Login: ",(0,u.jsx)("span",{style:{color:"#00B8D9"},children:x.login})," - (ID:"," ",(0,u.jsx)("span",{style:{color:"#00B8D9"},children:x.user_id}),")",(0,u.jsx)("br",{}),"Token:"," ",(0,u.jsx)("span",{className:w?"":"blur-on-hover",style:{color:"#00B8D9"},onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},children:e}),(0,u.jsx)("br",{}),"ClientID: ",(0,u.jsx)("span",{style:{color:"#00B8D9"},children:x.client_id}),(0,u.jsx)("br",{}),"Scopes: ",(0,u.jsx)("span",{style:{color:"#00B8D9"},children:x.scopes?x.scopes.join(", "):"No scopes"})]})})})})})]})})}},9276:function(e,t,n){const s=(0,n(3814).Z)();t.Z=s}}]);
//# sourceMappingURL=63.993eff40.chunk.js.map