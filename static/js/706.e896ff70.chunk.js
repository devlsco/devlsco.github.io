"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[706],{1706:function(e,r,t){t.r(r);var i=t(2791);r.default=()=>{(0,i.useEffect)((()=>{(async()=>{try{const t=new URLSearchParams(window.location.hash.substring(1)).get("access_token");if(t){const i=await e(t),a=await r(i.user_id,t,i.client_id),o={access_token:t,client_id:i.client_id,id:a.id,login:a.login,description:a.description,profile_image_url:a.profile_image_url};localStorage.setItem("login",JSON.stringify(o)),window.open(`${window.location.origin}/dashboard`,"_self")}else window.open(`${window.location.origin}/dashboard`,"_self")}catch(t){console.error(t)}})()}),[]);const e=async e=>{try{const r=await fetch("https://id.twitch.tv/oauth2/validate",{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Invalid access token");return await r.json()}catch(r){console.error(r)}},r=async(e,r,t)=>{try{const i=await fetch(`https://api.twitch.tv/helix/users?id=${e}`,{headers:{Authorization:"Bearer "+r,"Client-ID":t}});if(!i.ok)throw new Error("Error getting user");return(await i.json()).data[0]}catch(i){console.error(i)}};return null}}}]);
//# sourceMappingURL=706.e896ff70.chunk.js.map