{"version":3,"file":"static/js/649.86d5b2a5.chunk.js","mappings":"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wR,QACrB,CAAV,MAAMjZ,GAAI,CACZ,OAAO,CACR,E,mFC5JM,MAAMmZ,EAAW,CACtB,UACA,OACA,SACA,QACA,QACA,SACA,WACA,YACA,UACA,WACA,QACA,SACA,MACA,SACA,SACA,WACA,SACA,WACA,MACA,WACA,aACA,YACA,QACA,YACA,SACA,SACA,SACA,QACA,YACA,QACA,UACA,MACA,MACA,QACA,QACA,MACA,MACA,WACA,QACA,QACA,MACA,QACA,SACA,QACA,QACA,QACA,WACA,UACA,OACA,WACA,KACA,QACA,SACA,UACA,QACA,QACA,SACA,YACA,UACA,SACA,OACA,MACA,UACA,SACA,WACA,SACA,WACA,QACA,YACA,aACA,QACA,UACA,cACA,MACA,OACA,MACA,OACA,SACA,UACA,cACA,SACA,QACA,MACA,UACA,KACA,QACA,MACA,SACA,KACA,MACA,aACA,OACA,SACA,WACA,SACA,UACA,YACA,WACA,SACA,aACA,YACA,UACA,QACA,QACA,OACA,OACA,OACA,MACA,QACA,MACA,UACA,OACA,UACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,WACA,QACA,QACA,SACA,MACA,SACA,KACA,OACA,OACA,OACA,YACA,SACA,SACA,UACA,SACA,WACA,MACA,OACA,SACA,QACA,YACA,QACA,WACA,SACA,QACA,WACA,OACA,SACA,QACA,OACA,OACA,UACA,OACA,SACA,OACA,MACA,SACA,UACA,SACA,UACA,SACA,UACA,OACA,QACA,QACA,WACA,MACA,OACA,QACA,QACA,UACA,OACA,QACA,QACA,QACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,SACA,OACA,OACA,SACA,SACA,QACA,MACA,OACA,MACA,MACA,QACA,SACA,QACA,QACA,QACA,QACA,YACA,SACA,UACA,YACA,SACA,QACA,SACA,QACA,SACA,QACA,QACA,QACA,SACA,UACA,UACA,QACA,QACA,UACA,QACA,WACA,QACA,SACA,OACA,QACA,MACA,OACA,WACA,OACA,MACA,SACA,MACA,KACA,QACA,OACA,OACA,OACA,OACA,OACA,SACA,OACA,MACA,QACA,SACA,MACA,UACA,UACA,WACA,MACA,SACA,OACA,OACA,UACA,YACA,UACA,QACA,OACA,OACA,SACA,MACA,QACA,SACA,SACA,QACA,OACA,OACA,OACA,SACA,UACA,UACA,UACA,YACA,QACA,QACA,UACA,SACA,SACA,WACA,UACA,YACA,iBACA,SACA,QACA,QACA,SACA,WACA,QACA,UACA,QACA,QACA,WACA,SACA,SACA,QACA,SACA,SACA,SACA,SACA,UACA,OACA,QACA,YACA,QACA,OACA,QACA,QACA,UACA,UACA,QACA,QACA,QACA,UACA,SACA,QACA,UACA,WACA,QACA,OACA,QACA,OACA,QACA,OACA,SACA,OACA,UACA,UACA,SACA,QACA,SACA,cACA,UACA,OACA,cACA,SACA,UACA,SACA,YACA,UACA,UACA,UACA,WACA,aACA,UACA,WACA,cACA,WACA,YACA,YACA,WACA,YACA,WACA,UACA,YACA,aACA,eACA,UACA,YACA,YACA,WACA,UACA,eACA,OACA,UACA,OACA,SACA,OACA,OACA,SACA,UACA,YACA,OACA,SACA,QACA,QACA,UACA,SACA,UACA,SACA,QACA,QACA,MACA,SACA,QACA,QACA,SACA,WACA,OACA,OACA,QACA,QACA,MACA,MACA,UACA,UACA,QACA,UACA,MACA,UACA,QACA,SACA,QACA,SACA,YACA,OACA,WACA,OACA,WACA,OACA,MACA,OACA,OACA,OACA,QACA,SACA,WACA,OACA,SACA,OACA,aACA,SACA,SACA,QACA,WACA,SACA,SACA,OACA,SACA,YACA,UACA,cACA,UACA,WACA,MACA,MACA,SACA,aACA,YACA,YACA,aACA,MACA,SACA,SACA,YACA,WACA,OACA,QACA,YACA,WACA,YACA,UACA,aACA,UACA,OACA,WACA,UACA,SACA,WACA,KACA,SACA,OACA,MACA,QACA,OACA,SACA,OACA,SACA,OACA,MACA,SACA,QACA,OACA,QACA,OACA,QACA,QACA,QACA,OACA,QACA,QACA,QACA,SACA,SACA,UACA,OACA,UACA,QACA,MACA,OACA,MACA,MACA,OACA,SACA,OACA,OACA,OACA,QACA,MACA,UACA,QACA,OACA,QACA,SACA,SACA,OACA,OACA,MACA,QACA,OACA,YACA,SACA,SACA,MACA,QACA,SACA,WACA,cACA,UACA,WACA,SACA,OACA,QACA,MACA,QACA,SACA,SACA,WACA,QACA,SACA,QACA,SACA,WACA,cACA,QACA,UACA,UACA,YACA,SACA,aACA,YACA,YACA,OACA,UACA,QACA,aACA,OACA,QACA,YACA,WACA,aACA,aACA,WACA,QACA,UACA,UACA,UACA,YACA,SACA,WACA,UACA,aACA,WACA,YACA,WACA,QACA,SACA,aACA,aACA,UACA,cACA,UACA,UACA,aACA,QACA,MACA,OACA,SACA,OACA,SACA,UACA,SACA,OACA,SACA,OACA,SACA,WACA,SACA,SACA,MACA,OACA,SACA,UACA,OACA,WACA,SACA,MACA,SACA,WACA,OACA,WACA,UACA,MACA,OACA,OACA,OACA,OACA,SACA,OACA,QACA,MACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,WACA,SACA,OACA,OACA,QACA,UACA,OACA,OACA,SACA,SACA,SACA,OACA,YACA,OACA,QACA,OACA,OACA,MACA,OACA,QACA,OACA,OACA,QACA,SACA,WACA,QACA,OACA,SACA,MACA,MACA,QACA,SACA,OACA,OACA,WACA,MACA,QACA,UACA,SACA,SACA,SACA,YACA,OACA,SACA,OACA,QACA,QACA,UACA,SACA,QACA,OACA,SACA,MACA,QACA,OACA,UACA,aACA,QACA,SACA,WACA,WACA,OACA,OACA,QACA,SACA,QACA,OACA,OACA,QACA,MACA,WACA,QACA,MACA,YACA,UACA,SACA,OACA,OACA,SACA,SACA,MACA,WACA,OACA,SACA,OACA,UACA,YACA,SACA,SACA,MACA,UACA,QACA,OACA,OACA,OACA,QACA,SACA,OACA,QACA,QACA,KACA,OACA,OACA,SACA,OACA,OACA,QACA,MACA,aACA,UACA,QACA,YACA,QACA,cACA,cACA,QACA,QACA,UACA,OACA,QACA,UACA,WACA,UACA,QACA,OACA,SACA,QACA,OACA,QACA,SACA,QACA,QACA,QACA,OACA,MACA,QACA,MACA,OACA,OACA,UACA,OACA,OACA,SACA,WACA,OACA,SACA,WACA,UACA,QACA,SACA,OACA,SACA,SACA,MACA,MACA,OACA,SACA,MACA,KACA,SACA,UACA,SACA,QACA,UACA,QACA,OACA,QACA,SACA,OACA,QACA,OACA,UACA,MACA,OACA,OACA,UACA,SACA,OACA,OACA,SACA,UACA,UACA,OACA,MACA,UACA,MACA,UACA,MACA,OACA,OACA,SACA,OACA,QACA,OACA,OACA,QACA,WACA,MACA,OACA,QACA,MACA,UACA,OACA,QACA,UACA,OACA,SACA,OACA,SACA,UACA,QACA,OACA,UACA,MACA,OACA,WACA,KACA,MACA,QACA,UACA,cACA,aACA,YACA,aACA,UACA,KACA,OACA,UACA,YACA,SACA,WACA,SACA,cACA,WACA,aACA,aACA,WACA,YACA,cACA,SACA,WACA,UACA,UACA,aACA,WACA,WACA,OACA,aACA,WACA,WACA,OACA,KACA,SACA,KACA,MACA,SACA,OACA,MACA,MACA,MACA,OACA,SACA,UACA,MACA,QACA,OACA,SACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,UACA,OACA,QACA,OACA,YACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,WACA,QACA,SACA,UACA,OACA,OACA,QACA,QACA,MACA,MACA,SACA,OACA,SACA,OACA,QACA,QACA,UACA,QACA,UACA,MACA,OACA,MACA,SACA,SACA,MACA,SACA,QACA,UACA,MACA,OACA,OACA,QACA,OACA,SACA,UACA,OACA,OACA,OACA,SACA,OACA,SACA,SACA,OACA,SACA,OACA,QACA,SACA,WACA,MACA,SACA,OACA,SACA,OACA,QACA,OACA,OACA,OACA,MACA,OACA,OACA,SACA,MACA,QACA,OACA,QACA,QACA,QACA,QACA,UACA,YACA,MACA,OACA,QACA,SACA,OACA,OACA,SACA,QACA,OACA,SACA,MACA,UACA,SACA,gBACA,OACA,MACA,OACA,SACA,UACA,OACA,UACA,SACA,WACA,cACA,SACA,MACA,QACA,KACA,OACA,OACA,QACA,QACA,UACA,OACA,WACA,OACA,SACA,SACA,SACA,MACA,SACA,SACA,MACA,QACA,SACA,OACA,SACA,QACA,SACA,OACA,WACA,OACA,OACA,OACA,OACA,WACA,SACA,SACA,UACA,UACA,UACA,MACA,UACA,QACA,SACA,YACA,SACA,QACA,SACA,QACA,OACA,OACA,OACA,UACA,OACA,SACA,SACA,SACA,QACA,WACA,QACA,QACA,OACA,WACA,QACA,SACA,MACA,SACA,QACA,UACA,OACA,KACA,SACA,aACA,QACA,OACA,SACA,WACA,SACA,UACA,YACA,SACA,OACA,SACA,SACA,UACA,SACA,YACA,OACA,SACA,SACA,QACA,WACA,WACA,eACA,UACA,OACA,QACA,MACA,OACA,YACA,OACA,OACA,QACA,OACA,KACA,SACA,SACA,QACA,OACA,OACA,MACA,QACA,OACA,MACA,OACA,QACA,UACA,SACA,OACA,MACA,SACA,UACA,OACA,SACA,UACA,SACA,eACA,QACA,QACA,KACA,MACA,QACA,SACA,UACA,WACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,OACA,OACA,YACA,UACA,cACA,WACA,KACA,SACA,QACA,QACA,WACA,eACA,YACA,SACA,WACA,QACA,QACA,MACA,YACA,MACA,QACA,UACA,UACA,OACA,MACA,QACA,SACA,OACA,UACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,MACA,QACA,YACA,WACA,SACA,OACA,OACA,YACA,aACA,eACA,SACA,QACA,QACA,OACA,UACA,OACA,OACA,UACA,MACA,QACA,MACA,SACA,SACA,MACA,UACA,UACA,YACA,UACA,SACA,SACA,WACA,MACA,SACA,WACA,QACA,OACA,UACA,WACA,MACA,QACA,MACA,OACA,QACA,OACA,OACA,OACA,QACA,QACA,QACA,OACA,QACA,SACA,UACA,WACA,QACA,UACA,QACA,SACA,OACA,WACA,SACA,WACA,SACA,SACA,OACA,SACA,OACA,OACA,SACA,QACA,OACA,SACA,YACA,YACA,OACA,OACA,OACA,OACA,UACA,aACA,QACA,OACA,WACA,WACA,WACA,WACA,OACA,MACA,WACA,QACA,OACA,SACA,QACA,WACA,YACA,WACA,UACA,UACA,YACA,QACA,WACA,SACA,UACA,WACA,QACA,QACA,YACA,YACA,YACA,UACA,UACA,QACA,WACA,UACA,UACA,UACA,UACA,aACA,UACA,WACA,WACA,SACA,WACA,WACA,aACA,QACA,QACA,UACA,SACA,OACA,QACA,OACA,SACA,UACA,OACA,MACA,UACA,UACA,QACA,WACA,QACA,UACA,QACA,UACA,QACA,SACA,OACA,QACA,WACA,OACA,QACA,MACA,QACA,QACA,UACA,OACA,SACA,MACA,OACA,QACA,OACA,SACA,QACA,OACA,UACA,OACA,SACA,SACA,UACA,SACA,WACA,YACA,SACA,MACA,QACA,UACA,SACA,UACA,UACA,eACA,YACA,SACA,aACA,WACA,SACA,SACA,UACA,UACA,SACA,YACA,UACA,WACA,UACA,OACA,SACA,SACA,SACA,QACA,SACA,OACA,OACA,OACA,SACA,QACA,OACA,OACA,SACA,QACA,OACA,OACA,OACA,SACA,QACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,MACA,SACA,SACA,OACA,QACA,MACA,UACA,OACA,MACA,SACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,OACA,OACA,OACA,MACA,aACA,YACA,OACA,QACA,MACA,MACA,QACA,SACA,QACA,SACA,UACA,aACA,YACA,QACA,SACA,MACA,SACA,SACA,OACA,SACA,SACA,UACA,MACA,OACA,SACA,QACA,OACA,SACA,SACA,YACA,OACA,OACA,QACA,OACA,WACA,WACA,SACA,UACA,QACA,UACA,OACA,UACA,SACA,WACA,QACA,UACA,QACA,SACA,QACA,UACA,QACA,UACA,QACA,QACA,QACA,MACA,QACA,QACA,QACA,SACA,UACA,QACA,WACA,OACA,QACA,OACA,QACA,OACA,QACA,QACA,UACA,OACA,SACA,WACA,QACA,OACA,QACA,OACA,OACA,QACA,QACA,OACA,SACA,UACA,SACA,OACA,QACA,SACA,UACA,SACA,WACA,SACA,QACA,OACA,SACA,OACA,SACA,MACA,UACA,YACA,MACA,OACA,QACA,OACA,MACA,QACA,QACA,QACA,QACA,QACA,SACA,WACA,OACA,UACA,QACA,OACA,SACA,QACA,UACA,WACA,QACA,QACA,QACA,SACA,QACA,OACA,KACA,OACA,SACA,UACA,OACA,SACA,OACA,QACA,OACA,UACA,QACA,WACA,QACA,OACA,WACA,UACA,UACA,YACA,WACA,YACA,MACA,OACA,OACA,OACA,QACA,SACA,QACA,WACA,QACA,QACA,UACA,UACA,WACA,SACA,QACA,QACA,QACA,QACA,SACA,OACA,SACA,QACA,QACA,SACA,QACA,SACA,SACA,SACA,QACA,SACA,QACA,WACA,OACA,SACA,QACA,QACA,YACA,UACA,OACA,SACA,QACA,QACA,QACA,QACA,OACA,UACA,QACA,QACA,QACA,QACA,UACA,QACA,QACA,OACA,UACA,QACA,QACA,QACA,QACA,WACA,UACA,WACA,QACA,SACA,SACA,WACA,UACA,SACA,SACA,QACA,SACA,WACA,SACA,YACA,WACA,QACA,UACA,UACA,WACA,UACA,YACA,UACA,aACA,OACA,SACA,WACA,QACA,UACA,OACA,MACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,OACA,UACA,WACA,aACA,OACA,QACA,QACA,OACA,WACA,QACA,QACA,WACA,SACA,SACA,QACA,OACA,OACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,QACA,SACA,MACA,MACA,QACA,UACA,OACA,QACA,QACA,YACA,aACA,OACA,cACA,MACA,OACA,OACA,WACA,OACA,OACA,QACA,OACA,OACA,OACA,aACA,OACA,SACA,QACA,YACA,QACA,OACA,QACA,OACA,QACA,QACA,QACA,SACA,OACA,QACA,OACA,SACA,UACA,WACA,SACA,QACA,QACA,SACA,UACA,aACA,QACA,SACA,QACA,OACA,MACA,OACA,MACA,QACA,UACA,OACA,OACA,MACA,OACA,MACA,QACA,QACA,KACA,UACA,QACA,WACA,OACA,WACA,OACA,SACA,UACA,MACA,OACA,OACA,MACA,QACA,OACA,QACA,QACA,SACA,QACA,OACA,MACA,QACA,QACA,QACA,UACA,QACA,QACA,iBACA,OACA,SACA,UACA,OACA,WACA,QACA,QACA,QACA,OACA,SACA,WACA,UACA,QACA,QACA,QACA,MACA,OACA,OACA,OACA,SACA,SACA,QACA,MACA,OACA,UACA,QACA,QACA,YACA,gBACA,UACA,QACA,OACA,WACA,UACA,SACA,QACA,UACA,KACA,OACA,QACA,SACA,KACA,MACA,SACA,QACA,QACA,UACA,SACA,WACA,QACA,QACA,UACA,UACA,OACA,YACA,OACA,WACA,OACA,UACA,UACA,OACA,UACA,QACA,UACA,QACA,SACA,OACA,QACA,SACA,QACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,MACA,OACA,QACA,QACA,QACA,OACA,MACA,KACA,OACA,SACA,OACA,UACA,OACA,QACA,SACA,UACA,OACA,OACA,OACA,OACA,UACA,MACA,QACA,OACA,WACA,QACA,QACA,OACA,WACA,QACA,WACA,UACA,QACA,QACA,YACA,UACA,QACA,MACA,QACA,OACA,QACA,MACA,OACA,SACA,OACA,OACA,OACA,UACA,MACA,OACA,SACA,OACA,SACA,OACA,OACA,OACA,OACA,SACA,UACA,OACA,QACA,MACA,SACA,YACA,OACA,SACA,OACA,OACA,OACA,OACA,SACA,QACA,UACA,QACA,QACA,QACA,QACA,UACA,QACA,SACA,UACA,UACA,QACA,QACA,OACA,OACA,SACA,MACA,YACA,MACA,MACA,QACA,UACA,OACA,WACA,QACA,OACA,QACA,SACA,MACA,QAGIC,EAAmBD,EAASE,QAAO,CAACC,EAAcC,IACtDA,EAAYnhB,OAASkhB,EAAalhB,OAASmhB,EAAcD,IACzDlhB,OAEIohB,EAAkBL,EAASE,QAAO,CAACI,EAAaF,IACpDA,EAAYnhB,OAASqhB,EAAYrhB,OAASmhB,EAAcE,IACxDrhB,OAEK,SAASshB,EAASxa,GAEvB,MAAMqC,EAASrC,GAASpD,KAAO,IAAImD,EAAWC,EAAQpD,MAAQ,MAExD,UAAE6d,EAAS,UAAEC,KAAcC,GAAS3a,GAAW,CAAC,EAEtD,SAASmZ,IACP,IAAIyB,EACmB,kBAAdH,EACHP,EACAW,EAAcJ,GAEpB,MAAMvb,EACiB,kBAAdwb,EACHJ,EACAO,EAAcH,GAEhBE,EAAM1b,IAAK0b,EAAM1b,GAErB,IACI4b,EADAC,GAAY,EAEhB,MAAQA,GACND,EAOKb,EAASe,EAAQf,EAAS/gB,SAN/B6hB,EAAYD,EAAS5hB,QAAUgG,GAAO4b,EAAS5hB,QAAU0hB,EAE3D,OAAOE,CACT,CAOA,SAASD,EAAcI,GAGrB,OAFIA,EAAWf,IAAkBe,EAAWf,GACxCe,EAAWX,IAAiBW,EAAWX,GACpCW,CACT,CAGA,SAASD,EAAQE,GACf,MAAMrZ,EAAIQ,EAASA,IAAWnH,KAAKmH,SACnC,OAAOnH,KAAKqD,MAAMsD,EAAIqZ,EACxB,CAGA,QAAgBnmB,IAAZiL,EACF,OAAOmZ,IAIT,GAAuB,kBAAZnZ,EACTA,EAAU,CAAEmb,QAASnb,QAChB,GAAiC,IAA7B+C,OAAOmN,KAAKyK,GAAMzhB,OAC3B,OAAOigB,IAILnZ,EAAQmb,UACVnb,EAAQ4a,IAAM5a,EAAQmb,QACtBnb,EAAQd,IAAMc,EAAQmb,SAIc,kBAA3Bnb,EAAQob,iBACjBpb,EAAQob,eAAiB,GAIM,oBAAtBpb,EAAQqb,YACjBrb,EAAQqb,UAAalC,GAASA,GAIC,kBAAtBnZ,EAAQsb,YACjBtb,EAAQsb,UAAY,KAGtB,MAAMC,EAAQvb,EAAQ4a,IAAMI,EAAQhb,EAAQd,IAAM,EAAIc,EAAQ4a,KAC9D,IAAIY,EAAU,GACVpM,EAAQ,GACRqM,EAAgB,EAEpB,IAAK,IAAIve,EAAI,EAAGA,EAAIqe,EAAQvb,EAAQob,eAAgBle,IAC9Cue,IAAkBzb,EAAQob,eAAiB,EAC7ChM,GAASpP,EAAQqb,UAAUlC,IAAQsC,GAEnCrM,GAASpP,EAAQqb,UAAUlC,IAAQsC,GAAiBzb,EAAQsb,UAE9DG,KACKve,EAAI,GAAK8C,EAAQob,iBAAmB,IACvCI,EAAQlc,KAAK8P,GACbA,EAAQ,GACRqM,EAAgB,GAOpB,MAJ4B,kBAAjBzb,EAAQiL,OACjBuQ,EAAUA,EAAQvQ,KAAKjL,EAAQiL,OAG1BuQ,CACT,C","sources":["../node_modules/@mui/material/FormGroup/formGroupClasses.js","../node_modules/@mui/material/FormGroup/FormGroup.js","../node_modules/@mui/material/RadioGroup/RadioGroup.js","../node_modules/@mui/material/RadioGroup/RadioGroupContext.js","../node_modules/@mui/material/internal/svg-icons/RadioButtonUnchecked.js","../node_modules/@mui/material/internal/svg-icons/RadioButtonChecked.js","../node_modules/@mui/material/Radio/RadioButtonIcon.js","../node_modules/@mui/material/Radio/radioClasses.js","../node_modules/@mui/material/Radio/Radio.js","../node_modules/@mui/material/RadioGroup/useRadioGroup.js","../node_modules/@mui/material/styles/cssUtils.js","../node_modules/@mui/material/Skeleton/skeletonClasses.js","../node_modules/@mui/material/Skeleton/Skeleton.js","../node_modules/seedrandom/index.js","../node_modules/seedrandom/lib/alea.js","../node_modules/seedrandom/lib/tychei.js","../node_modules/seedrandom/lib/xor128.js","../node_modules/seedrandom/lib/xor4096.js","../node_modules/seedrandom/lib/xorshift7.js","../node_modules/seedrandom/lib/xorwow.js","../node_modules/seedrandom/seedrandom.js","../node_modules/tmi.js/index.js","../node_modules/tmi.js/lib/api.js","../node_modules/tmi.js/lib/client.js","../node_modules/tmi.js/lib/commands.js","../node_modules/tmi.js/lib/events.js","../node_modules/tmi.js/lib/logger.js","../node_modules/tmi.js/lib/parser.js","../node_modules/tmi.js/lib/timer.js","../node_modules/tmi.js/lib/utils.js","../node_modules/random-words/index.js"],"sourcesContent":["import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getFormGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiFormGroup', slot);\n}\nconst formGroupClasses = generateUtilityClasses('MuiFormGroup', ['root', 'row', 'error']);\nexport default formGroupClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"row\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getFormGroupUtilityClass } from './formGroupClasses';\nimport useFormControl from '../FormControl/useFormControl';\nimport formControlState from '../FormControl/formControlState';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    row,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', row && 'row', error && 'error']\n  };\n  return composeClasses(slots, getFormGroupUtilityClass, classes);\n};\nconst FormGroupRoot = styled('div', {\n  name: 'MuiFormGroup',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.row && styles.row];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap'\n}, ownerState.row && {\n  flexDirection: 'row'\n}));\n\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\nconst FormGroup = /*#__PURE__*/React.forwardRef(function FormGroup(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiFormGroup'\n  });\n  const {\n      className,\n      row = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['error']\n  });\n  const ownerState = _extends({}, props, {\n    row,\n    error: fcs.error\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormGroupRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormGroup.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Display group of elements in a compact row.\n   * @default false\n   */\n  row: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"actions\", \"children\", \"defaultValue\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport FormGroup from '../FormGroup';\nimport useForkRef from '../utils/useForkRef';\nimport useControlled from '../utils/useControlled';\nimport RadioGroupContext from './RadioGroupContext';\nimport useId from '../utils/useId';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst RadioGroup = /*#__PURE__*/React.forwardRef(function RadioGroup(props, ref) {\n  const {\n      // private\n      // eslint-disable-next-line react/prop-types\n      actions,\n      children,\n      defaultValue,\n      name: nameProp,\n      onChange,\n      value: valueProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const rootRef = React.useRef(null);\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'RadioGroup'\n  });\n  React.useImperativeHandle(actions, () => ({\n    focus: () => {\n      let input = rootRef.current.querySelector('input:not(:disabled):checked');\n      if (!input) {\n        input = rootRef.current.querySelector('input:not(:disabled)');\n      }\n      if (input) {\n        input.focus();\n      }\n    }\n  }), []);\n  const handleRef = useForkRef(ref, rootRef);\n  const name = useId(nameProp);\n  const contextValue = React.useMemo(() => ({\n    name,\n    onChange(event) {\n      setValueState(event.target.value);\n      if (onChange) {\n        onChange(event, event.target.value);\n      }\n    },\n    value\n  }), [name, onChange, setValueState, value]);\n  return /*#__PURE__*/_jsx(RadioGroupContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(FormGroup, _extends({\n      role: \"radiogroup\",\n      ref: handleRef\n    }, other, {\n      children: children\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? RadioGroup.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * The default value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * The name used to reference the value of the control.\n   * If you don't provide this prop, it falls back to a randomly generated name.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when a radio button is selected.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * @param {string} value The value of the selected radio button.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   */\n  onChange: PropTypes.func,\n  /**\n   * Value of the selected radio button. The DOM API casts this to a string.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default RadioGroup;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\nconst RadioGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== 'production') {\n  RadioGroupContext.displayName = 'RadioGroupContext';\n}\nexport default RadioGroupContext;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'RadioButtonUnchecked');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z\"\n}), 'RadioButtonChecked');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport RadioButtonUncheckedIcon from '../internal/svg-icons/RadioButtonUnchecked';\nimport RadioButtonCheckedIcon from '../internal/svg-icons/RadioButtonChecked';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst RadioButtonIconRoot = styled('span')({\n  position: 'relative',\n  display: 'flex'\n});\nconst RadioButtonIconBackground = styled(RadioButtonUncheckedIcon)({\n  // Scale applied to prevent dot misalignment in Safari\n  transform: 'scale(1)'\n});\nconst RadioButtonIconDot = styled(RadioButtonCheckedIcon)(({\n  theme,\n  ownerState\n}) => _extends({\n  left: 0,\n  position: 'absolute',\n  transform: 'scale(0)',\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeIn,\n    duration: theme.transitions.duration.shortest\n  })\n}, ownerState.checked && {\n  transform: 'scale(1)',\n  transition: theme.transitions.create('transform', {\n    easing: theme.transitions.easing.easeOut,\n    duration: theme.transitions.duration.shortest\n  })\n}));\n\n/**\n * @ignore - internal component.\n */\nfunction RadioButtonIcon(props) {\n  const {\n    checked = false,\n    classes = {},\n    fontSize\n  } = props;\n  const ownerState = _extends({}, props, {\n    checked\n  });\n  return /*#__PURE__*/_jsxs(RadioButtonIconRoot, {\n    className: classes.root,\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsx(RadioButtonIconBackground, {\n      fontSize: fontSize,\n      className: classes.background,\n      ownerState: ownerState\n    }), /*#__PURE__*/_jsx(RadioButtonIconDot, {\n      fontSize: fontSize,\n      className: classes.dot,\n      ownerState: ownerState\n    })]\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? RadioButtonIcon.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense radio styling.\n   */\n  fontSize: PropTypes.oneOf(['small', 'medium'])\n} : void 0;\nexport default RadioButtonIcon;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getRadioUtilityClass(slot) {\n  return generateUtilityClass('MuiRadio', slot);\n}\nconst radioClasses = generateUtilityClasses('MuiRadio', ['root', 'checked', 'disabled', 'colorPrimary', 'colorSecondary']);\nexport default radioClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"checked\", \"checkedIcon\", \"color\", \"icon\", \"name\", \"onChange\", \"size\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport SwitchBase from '../internal/SwitchBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport RadioButtonIcon from './RadioButtonIcon';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport useRadioGroup from '../RadioGroup/useRadioGroup';\nimport radioClasses, { getRadioUtilityClass } from './radioClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color\n  } = ownerState;\n  const slots = {\n    root: ['root', `color${capitalize(color)}`]\n  };\n  return _extends({}, classes, composeClasses(slots, getRadioUtilityClass, classes));\n};\nconst RadioRoot = styled(SwitchBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiRadio',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  color: (theme.vars || theme).palette.text.secondary\n}, !ownerState.disableRipple && {\n  '&:hover': {\n    backgroundColor: theme.vars ? `rgba(${ownerState.color === 'default' ? theme.vars.palette.action.activeChannel : theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(ownerState.color === 'default' ? theme.palette.action.active : theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  }\n}, ownerState.color !== 'default' && {\n  [`&.${radioClasses.checked}`]: {\n    color: (theme.vars || theme).palette[ownerState.color].main\n  }\n}, {\n  [`&.${radioClasses.disabled}`]: {\n    color: (theme.vars || theme).palette.action.disabled\n  }\n}));\nfunction areEqualValues(a, b) {\n  if (typeof b === 'object' && b !== null) {\n    return a === b;\n  }\n\n  // The value could be a number, the DOM will stringify it anyway.\n  return String(a) === String(b);\n}\nconst defaultCheckedIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {\n  checked: true\n});\nconst defaultIcon = /*#__PURE__*/_jsx(RadioButtonIcon, {});\nconst Radio = /*#__PURE__*/React.forwardRef(function Radio(inProps, ref) {\n  var _defaultIcon$props$fo, _defaultCheckedIcon$p;\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiRadio'\n  });\n  const {\n      checked: checkedProp,\n      checkedIcon = defaultCheckedIcon,\n      color = 'primary',\n      icon = defaultIcon,\n      name: nameProp,\n      onChange: onChangeProp,\n      size = 'medium',\n      className\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    size\n  });\n  const classes = useUtilityClasses(ownerState);\n  const radioGroup = useRadioGroup();\n  let checked = checkedProp;\n  const onChange = createChainedFunction(onChangeProp, radioGroup && radioGroup.onChange);\n  let name = nameProp;\n  if (radioGroup) {\n    if (typeof checked === 'undefined') {\n      checked = areEqualValues(radioGroup.value, props.value);\n    }\n    if (typeof name === 'undefined') {\n      name = radioGroup.name;\n    }\n  }\n  return /*#__PURE__*/_jsx(RadioRoot, _extends({\n    type: \"radio\",\n    icon: /*#__PURE__*/React.cloneElement(icon, {\n      fontSize: (_defaultIcon$props$fo = defaultIcon.props.fontSize) != null ? _defaultIcon$props$fo : size\n    }),\n    checkedIcon: /*#__PURE__*/React.cloneElement(checkedIcon, {\n      fontSize: (_defaultCheckedIcon$p = defaultCheckedIcon.props.fontSize) != null ? _defaultCheckedIcon$p : size\n    }),\n    ownerState: ownerState,\n    classes: classes,\n    name: name,\n    checked: checked,\n    onChange: onChange,\n    ref: ref,\n    className: clsx(classes.root, className)\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Radio.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * The icon to display when the component is checked.\n   * @default <RadioButtonIcon checked />\n   */\n  checkedIcon: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * If `true`, the component is disabled.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * The icon to display when the component is unchecked.\n   * @default <RadioButtonIcon />\n   */\n  icon: PropTypes.node,\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * Name attribute of the `input` element.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n  /**\n   * If `true`, the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense radio styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Radio;","import * as React from 'react';\nimport RadioGroupContext from './RadioGroupContext';\nexport default function useRadioGroup() {\n  return React.useContext(RadioGroupContext);\n}","export function isUnitless(value) {\n  return String(parseFloat(value)).length === String(value).length;\n}\n\n// Ported from Compass\n// https://github.com/Compass/compass/blob/master/core/stylesheets/compass/typography/_units.scss\n// Emulate the sass function \"unit\"\nexport function getUnit(input) {\n  return String(input).match(/[\\d.\\-+]*\\s*(.*)/)[1] || '';\n}\n\n// Emulate the sass function \"unitless\"\nexport function toUnitless(length) {\n  return parseFloat(length);\n}\n\n// Convert any CSS <length> or <percentage> value to any another.\n// From https://github.com/KyleAMathews/convert-css-length\nexport function convertLength(baseFontSize) {\n  return (length, toUnit) => {\n    const fromUnit = getUnit(length);\n\n    // Optimize for cases where `from` and `to` units are accidentally the same.\n    if (fromUnit === toUnit) {\n      return length;\n    }\n\n    // Convert input length to pixels.\n    let pxLength = toUnitless(length);\n    if (fromUnit !== 'px') {\n      if (fromUnit === 'em') {\n        pxLength = toUnitless(length) * toUnitless(baseFontSize);\n      } else if (fromUnit === 'rem') {\n        pxLength = toUnitless(length) * toUnitless(baseFontSize);\n      }\n    }\n\n    // Convert length in pixels to the output unit\n    let outputLength = pxLength;\n    if (toUnit !== 'px') {\n      if (toUnit === 'em') {\n        outputLength = pxLength / toUnitless(baseFontSize);\n      } else if (toUnit === 'rem') {\n        outputLength = pxLength / toUnitless(baseFontSize);\n      } else {\n        return length;\n      }\n    }\n    return parseFloat(outputLength.toFixed(5)) + toUnit;\n  };\n}\nexport function alignProperty({\n  size,\n  grid\n}) {\n  const sizeBelow = size - size % grid;\n  const sizeAbove = sizeBelow + grid;\n  return size - sizeBelow < sizeAbove - size ? sizeBelow : sizeAbove;\n}\n\n// fontGrid finds a minimal grid (in rem) for the fontSize values so that the\n// lineHeight falls under a x pixels grid, 4px in the case of Material Design,\n// without changing the relative line height\nexport function fontGrid({\n  lineHeight,\n  pixels,\n  htmlFontSize\n}) {\n  return pixels / (lineHeight * htmlFontSize);\n}\n\n/**\n * generate a responsive version of a given CSS property\n * @example\n * responsiveProperty({\n *   cssProperty: 'fontSize',\n *   min: 15,\n *   max: 20,\n *   unit: 'px',\n *   breakpoints: [300, 600],\n * })\n *\n * // this returns\n *\n * {\n *   fontSize: '15px',\n *   '@media (min-width:300px)': {\n *     fontSize: '17.5px',\n *   },\n *   '@media (min-width:600px)': {\n *     fontSize: '20px',\n *   },\n * }\n * @param {Object} params\n * @param {string} params.cssProperty - The CSS property to be made responsive\n * @param {number} params.min - The smallest value of the CSS property\n * @param {number} params.max - The largest value of the CSS property\n * @param {string} [params.unit] - The unit to be used for the CSS property\n * @param {Array.number} [params.breakpoints]  - An array of breakpoints\n * @param {number} [params.alignStep] - Round scaled value to fall under this grid\n * @returns {Object} responsive styles for {params.cssProperty}\n */\nexport function responsiveProperty({\n  cssProperty,\n  min,\n  max,\n  unit = 'rem',\n  breakpoints = [600, 900, 1200],\n  transform = null\n}) {\n  const output = {\n    [cssProperty]: `${min}${unit}`\n  };\n  const factor = (max - min) / breakpoints[breakpoints.length - 1];\n  breakpoints.forEach(breakpoint => {\n    let value = min + factor * breakpoint;\n    if (transform !== null) {\n      value = transform(value);\n    }\n    output[`@media (min-width:${breakpoint}px)`] = {\n      [cssProperty]: `${Math.round(value * 10000) / 10000}${unit}`\n    };\n  });\n  return output;\n}","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getSkeletonUtilityClass(slot) {\n  return generateUtilityClass('MuiSkeleton', slot);\n}\nconst skeletonClasses = generateUtilityClasses('MuiSkeleton', ['root', 'text', 'rectangular', 'rounded', 'circular', 'pulse', 'wave', 'withChildren', 'fitContent', 'heightAuto']);\nexport default skeletonClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"animation\", \"className\", \"component\", \"height\", \"style\", \"variant\", \"width\"];\nlet _ = t => t,\n  _t,\n  _t2,\n  _t3,\n  _t4;\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { keyframes, css } from '@mui/system';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha, unstable_getUnit as getUnit, unstable_toUnitless as toUnitless } from '../styles';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getSkeletonUtilityClass } from './skeletonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    animation,\n    hasChildren,\n    width,\n    height\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, animation, hasChildren && 'withChildren', hasChildren && !width && 'fitContent', hasChildren && !height && 'heightAuto']\n  };\n  return composeClasses(slots, getSkeletonUtilityClass, classes);\n};\nconst pulseKeyframe = keyframes(_t || (_t = _`\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n`));\nconst waveKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n`));\nconst SkeletonRoot = styled('span', {\n  name: 'MuiSkeleton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], ownerState.animation !== false && styles[ownerState.animation], ownerState.hasChildren && styles.withChildren, ownerState.hasChildren && !ownerState.width && styles.fitContent, ownerState.hasChildren && !ownerState.height && styles.heightAuto];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const radiusUnit = getUnit(theme.shape.borderRadius) || 'px';\n  const radiusValue = toUnitless(theme.shape.borderRadius);\n  return _extends({\n    display: 'block',\n    // Create a \"on paper\" color with sufficient contrast retaining the color\n    backgroundColor: theme.vars ? theme.vars.palette.Skeleton.bg : alpha(theme.palette.text.primary, theme.palette.mode === 'light' ? 0.11 : 0.13),\n    height: '1.2em'\n  }, ownerState.variant === 'text' && {\n    marginTop: 0,\n    marginBottom: 0,\n    height: 'auto',\n    transformOrigin: '0 55%',\n    transform: 'scale(1, 0.60)',\n    borderRadius: `${radiusValue}${radiusUnit}/${Math.round(radiusValue / 0.6 * 10) / 10}${radiusUnit}`,\n    '&:empty:before': {\n      content: '\"\\\\00a0\"'\n    }\n  }, ownerState.variant === 'circular' && {\n    borderRadius: '50%'\n  }, ownerState.variant === 'rounded' && {\n    borderRadius: (theme.vars || theme).shape.borderRadius\n  }, ownerState.hasChildren && {\n    '& > *': {\n      visibility: 'hidden'\n    }\n  }, ownerState.hasChildren && !ownerState.width && {\n    maxWidth: 'fit-content'\n  }, ownerState.hasChildren && !ownerState.height && {\n    height: 'auto'\n  });\n}, ({\n  ownerState\n}) => ownerState.animation === 'pulse' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.5s ease-in-out 0.5s infinite;\n    `), pulseKeyframe), ({\n  ownerState,\n  theme\n}) => ownerState.animation === 'wave' && css(_t4 || (_t4 = _`\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: ${0} 1.6s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ${0},\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    `), waveKeyframe, (theme.vars || theme).palette.action.hover));\nconst Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSkeleton'\n  });\n  const {\n      animation = 'pulse',\n      className,\n      component = 'span',\n      height,\n      style,\n      variant = 'text',\n      width\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    animation,\n    component,\n    variant,\n    hasChildren: Boolean(other.children)\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(SkeletonRoot, _extends({\n    as: component,\n    ref: ref,\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    style: _extends({\n      width,\n      height\n    }, style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   * @default 'pulse'\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The type of content that will be rendered.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['circular', 'rectangular', 'rounded', 'text']), PropTypes.string]),\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default Skeleton;","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","const client = require('./lib/client');\nmodule.exports = {\n\tclient,\n\tClient: client\n};\n","const fetch = require('node-fetch');\nconst _ = require('./utils');\n\nmodule.exports = function api(options, callback) {\n\t// Set the url to options.uri or options.url..\n\tlet url = options.url !== undefined ? options.url : options.uri;\n\n\t// Make sure it is a valid url..\n\tif(!_.isURL(url)) {\n\t\turl = `https://api.twitch.tv/kraken${url[0] === '/' ? url : `/${url}`}`;\n\t}\n\n\t// We are inside a Node application, so we can use the node-fetch module..\n\tif(_.isNode()) {\n\t\tconst opts = Object.assign({ method: 'GET', json: true }, options);\n\t\tif(opts.qs) {\n\t\t\tconst qs = new URLSearchParams(opts.qs);\n\t\t\turl += `?${qs}`;\n\t\t}\n\t\t/** @type {import('node-fetch').RequestInit} */\n\t\tconst fetchOptions = {};\n\t\tif('fetchAgent' in this.opts.connection) {\n\t\t\tfetchOptions.agent = this.opts.connection.fetchAgent;\n\t\t}\n\t\t/** @type {ReturnType<import('node-fetch')['default']>} */\n\t\tconst fetchPromise = fetch(url, {\n\t\t\t...fetchOptions,\n\t\t\tmethod: opts.method,\n\t\t\theaders: opts.headers,\n\t\t\tbody: opts.body\n\t\t});\n\t\tlet response = {};\n\t\tfetchPromise.then(res => {\n\t\t\tresponse = { statusCode: res.status, headers: res.headers };\n\t\t\treturn opts.json ? res.json() : res.text();\n\t\t})\n\t\t.then(\n\t\t\tdata => callback(null, response, data),\n\t\t\terr => callback(err, response, null)\n\t\t);\n\t}\n\t// Web application, extension, React Native etc.\n\telse {\n\t\tconst opts = Object.assign({ method: 'GET', headers: {} }, options, { url });\n\t\t// prepare request\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open(opts.method, opts.url, true);\n\t\tfor(const name in opts.headers) {\n\t\t\txhr.setRequestHeader(name, opts.headers[name]);\n\t\t}\n\t\txhr.responseType = 'json';\n\t\t// set request handler\n\t\txhr.addEventListener('load', _ev => {\n\t\t\tif(xhr.readyState === 4) {\n\t\t\t\tif(xhr.status !== 200) {\n\t\t\t\t\tcallback(xhr.status, null, null);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallback(null, null, xhr.response);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// submit\n\t\txhr.send();\n\t}\n};\n","const _global = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\r\nconst _WebSocket = _global.WebSocket || require('ws');\r\nconst _fetch = _global.fetch || require('node-fetch');\r\nconst api = require('./api');\r\nconst commands = require('./commands');\r\nconst EventEmitter = require('./events').EventEmitter;\r\nconst logger = require('./logger');\r\nconst parse = require('./parser');\r\nconst Queue = require('./timer');\r\nconst _ = require('./utils');\r\n\r\nlet _apiWarned = false;\r\n\r\n// Client instance..\r\nconst client = function client(opts) {\r\n\tif(this instanceof client === false) { return new client(opts); }\r\n\tthis.opts = _.get(opts, {});\r\n\tthis.opts.channels = this.opts.channels || [];\r\n\tthis.opts.connection = this.opts.connection || {};\r\n\tthis.opts.identity = this.opts.identity || {};\r\n\tthis.opts.options = this.opts.options || {};\r\n\r\n\tthis.clientId = _.get(this.opts.options.clientId, null);\r\n\tthis._globalDefaultChannel = _.channel(_.get(this.opts.options.globalDefaultChannel, '#tmijs'));\r\n\tthis._skipMembership = _.get(this.opts.options.skipMembership, false);\r\n\tthis._skipUpdatingEmotesets = _.get(this.opts.options.skipUpdatingEmotesets, false);\r\n\tthis._updateEmotesetsTimer = null;\r\n\tthis._updateEmotesetsTimerDelay = _.get(this.opts.options.updateEmotesetsTimer, 60000);\r\n\r\n\tthis.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);\r\n\tthis.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);\r\n\tthis.reconnect = _.get(this.opts.connection.reconnect, true);\r\n\tthis.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);\r\n\tthis.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);\r\n\r\n\tthis.reconnecting = false;\r\n\tthis.reconnections = 0;\r\n\tthis.reconnectTimer = this.reconnectInterval;\r\n\r\n\tthis.secure = _.get(\r\n\t\tthis.opts.connection.secure,\r\n\t\t!this.opts.connection.server && !this.opts.connection.port\r\n\t);\r\n\r\n\t// Raw data and object for emote-sets..\r\n\tthis.emotes = '';\r\n\tthis.emotesets = {};\r\n\r\n\tthis.channels = [];\r\n\tthis.currentLatency = 0;\r\n\tthis.globaluserstate = {};\r\n\tthis.lastJoined = '';\r\n\tthis.latency = new Date();\r\n\tthis.moderators = {};\r\n\tthis.pingLoop = null;\r\n\tthis.pingTimeout = null;\r\n\tthis.reason = '';\r\n\tthis.username = '';\r\n\tthis.userstate = {};\r\n\tthis.wasCloseCalled = false;\r\n\tthis.ws = null;\r\n\r\n\t// Create the logger..\r\n\tlet level = 'error';\r\n\tif(this.opts.options.debug) { level = 'info'; }\r\n\tthis.log = this.opts.logger || logger;\r\n\r\n\ttry { logger.setLevel(level); } catch(err) {}\r\n\r\n\t// Format the channel names..\r\n\tthis.opts.channels.forEach((part, index, theArray) =>\r\n\t\ttheArray[index] = _.channel(part)\r\n\t);\r\n\r\n\tEventEmitter.call(this);\r\n\tthis.setMaxListeners(0);\r\n};\r\n\r\n_.inherits(client, EventEmitter);\r\n\r\n// Put all commands in prototype..\r\nfor(const methodName in commands) {\r\n\tclient.prototype[methodName] = commands[methodName];\r\n}\r\n\r\n// Emit multiple events..\r\nclient.prototype.emits = function emits(types, values) {\r\n\tfor(let i = 0; i < types.length; i++) {\r\n\t\tconst val = i < values.length ? values[i] : values[values.length - 1];\r\n\t\tthis.emit.apply(this, [ types[i] ].concat(val));\r\n\t}\r\n};\r\n/** @deprecated */\r\nclient.prototype.api = function(...args) {\r\n\tif(!_apiWarned) {\r\n\t\tthis.log.warn('Client.prototype.api is deprecated and will be removed for version 2.0.0');\r\n\t\t_apiWarned = true;\r\n\t}\r\n\tapi(...args);\r\n};\r\n// Handle parsed chat server message..\r\nclient.prototype.handleMessage = function handleMessage(message) {\r\n\tif(!message) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif(this.listenerCount('raw_message')) {\r\n\t\tthis.emit('raw_message', JSON.parse(JSON.stringify(message)), message);\r\n\t}\r\n\r\n\tconst channel = _.channel(_.get(message.params[0], null));\r\n\tlet msg = _.get(message.params[1], null);\r\n\tconst msgid = _.get(message.tags['msg-id'], null);\r\n\r\n\t// Parse badges, badge-info and emotes..\r\n\tconst tags = message.tags = parse.badges(parse.badgeInfo(parse.emotes(message.tags)));\r\n\r\n\t// Transform IRCv3 tags..\r\n\tfor(const key in tags) {\r\n\t\tif(key === 'emote-sets' || key === 'ban-duration' || key === 'bits') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tlet value = tags[key];\r\n\t\tif(typeof value === 'boolean') { value = null; }\r\n\t\telse if(value === '1') { value = true; }\r\n\t\telse if(value === '0') { value = false; }\r\n\t\telse if(typeof value === 'string') { value = _.unescapeIRC(value); }\r\n\t\ttags[key] = value;\r\n\t}\r\n\r\n\t// Messages with no prefix..\r\n\tif(message.prefix === null) {\r\n\t\tswitch(message.command) {\r\n\t\t\t// Received PING from server..\r\n\t\t\tcase 'PING':\r\n\t\t\t\tthis.emit('ping');\r\n\t\t\t\tif(this._isConnected()) {\r\n\t\t\t\t\tthis.ws.send('PONG');\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Received PONG from server, return current latency..\r\n\t\t\tcase 'PONG': {\r\n\t\t\t\tconst currDate = new Date();\r\n\t\t\t\tthis.currentLatency = (currDate.getTime() - this.latency.getTime()) / 1000;\r\n\t\t\t\tthis.emits([ 'pong', '_promisePing' ], [ [ this.currentLatency ] ]);\r\n\r\n\t\t\t\tclearTimeout(this.pingTimeout);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.log.warn(`Could not parse message with no prefix:\\n${JSON.stringify(message, null, 4)}`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// Messages with \"tmi.twitch.tv\" as a prefix..\r\n\telse if(message.prefix === 'tmi.twitch.tv') {\r\n\t\tswitch(message.command) {\r\n\t\t\tcase '002':\r\n\t\t\tcase '003':\r\n\t\t\tcase '004':\r\n\t\t\tcase '372':\r\n\t\t\tcase '375':\r\n\t\t\tcase 'CAP':\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Retrieve username from server..\r\n\t\t\tcase '001':\r\n\t\t\t\tthis.username = message.params[0];\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Connected to server..\r\n\t\t\tcase '376': {\r\n\t\t\t\tthis.log.info('Connected to server.');\r\n\t\t\t\tthis.userstate[this._globalDefaultChannel] = {};\r\n\t\t\t\tthis.emits([ 'connected', '_promiseConnect' ], [ [ this.server, this.port ], [ null ] ]);\r\n\t\t\t\tthis.reconnections = 0;\r\n\t\t\t\tthis.reconnectTimer = this.reconnectInterval;\r\n\r\n\t\t\t\t// Set an internal ping timeout check interval..\r\n\t\t\t\tthis.pingLoop = setInterval(() => {\r\n\t\t\t\t\t// Make sure the connection is opened before sending the message..\r\n\t\t\t\t\tif(this._isConnected()) {\r\n\t\t\t\t\t\tthis.ws.send('PING');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.latency = new Date();\r\n\t\t\t\t\tthis.pingTimeout = setTimeout(() => {\r\n\t\t\t\t\t\tif(this.ws !== null) {\r\n\t\t\t\t\t\t\tthis.wasCloseCalled = false;\r\n\t\t\t\t\t\t\tthis.log.error('Ping timeout.');\r\n\t\t\t\t\t\t\tthis.ws.close();\r\n\r\n\t\t\t\t\t\t\tclearInterval(this.pingLoop);\r\n\t\t\t\t\t\t\tclearTimeout(this.pingTimeout);\r\n\t\t\t\t\t\t\tclearTimeout(this._updateEmotesetsTimer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, _.get(this.opts.connection.timeout, 9999));\r\n\t\t\t\t}, 60000);\r\n\r\n\t\t\t\t// Join all the channels from the config with an interval..\r\n\t\t\t\tlet joinInterval = _.get(this.opts.options.joinInterval, 2000);\r\n\t\t\t\tif(joinInterval < 300) {\r\n\t\t\t\t\tjoinInterval = 300;\r\n\t\t\t\t}\r\n\t\t\t\tconst joinQueue = new Queue(joinInterval);\r\n\t\t\t\tconst joinChannels = [ ...new Set([ ...this.opts.channels, ...this.channels ]) ];\r\n\t\t\t\tthis.channels = [];\r\n\r\n\t\t\t\tfor(let i = 0; i < joinChannels.length; i++) {\r\n\t\t\t\t\tconst channel = joinChannels[i];\r\n\t\t\t\t\tjoinQueue.add(() => {\r\n\t\t\t\t\t\tif(this._isConnected()) {\r\n\t\t\t\t\t\t\tthis.join(channel).catch(err => this.log.error(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tjoinQueue.next();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// https://github.com/justintv/Twitch-API/blob/master/chat/capabilities.md#notice\r\n\t\t\tcase 'NOTICE': {\r\n\t\t\t\tconst nullArr = [ null ];\r\n\t\t\t\tconst noticeArr = [ channel, msgid, msg ];\r\n\t\t\t\tconst msgidArr = [ msgid ];\r\n\t\t\t\tconst channelTrueArr = [ channel, true ];\r\n\t\t\t\tconst channelFalseArr = [ channel, false ];\r\n\t\t\t\tconst noticeAndNull = [ noticeArr, nullArr ];\r\n\t\t\t\tconst noticeAndMsgid = [ noticeArr, msgidArr ];\r\n\t\t\t\tconst basicLog = `[${channel}] ${msg}`;\r\n\t\t\t\tswitch(msgid) {\r\n\t\t\t\t\t// This room is now in subscribers-only mode.\r\n\t\t\t\t\tcase 'subs_on':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is now in subscribers-only mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'subscriber', 'subscribers', '_promiseSubscribers' ], [ channelTrueArr, channelTrueArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// This room is no longer in subscribers-only mode.\r\n\t\t\t\t\tcase 'subs_off':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is no longer in subscribers-only mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'subscriber', 'subscribers', '_promiseSubscribersoff' ], [ channelFalseArr, channelFalseArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// This room is now in emote-only mode.\r\n\t\t\t\t\tcase 'emote_only_on':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is now in emote-only mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'emoteonly', '_promiseEmoteonly' ], [ channelTrueArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// This room is no longer in emote-only mode.\r\n\t\t\t\t\tcase 'emote_only_off':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is no longer in emote-only mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'emoteonly', '_promiseEmoteonlyoff' ], [ channelFalseArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Do not handle slow_on/off here, listen to the ROOMSTATE notice instead as it returns the delay.\r\n\t\t\t\t\tcase 'slow_on':\r\n\t\t\t\t\tcase 'slow_off':\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Do not handle followers_on/off here, listen to the ROOMSTATE notice instead as it returns the delay.\r\n\t\t\t\t\tcase 'followers_on_zero':\r\n\t\t\t\t\tcase 'followers_on':\r\n\t\t\t\t\tcase 'followers_off':\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// This room is now in r9k mode.\r\n\t\t\t\t\tcase 'r9k_on':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is now in r9k mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'r9kmode', 'r9kbeta', '_promiseR9kbeta' ], [ channelTrueArr, channelTrueArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// This room is no longer in r9k mode.\r\n\t\t\t\t\tcase 'r9k_off':\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] This room is no longer in r9k mode.`);\r\n\t\t\t\t\t\tthis.emits([ 'r9kmode', 'r9kbeta', '_promiseR9kbetaoff' ], [ channelFalseArr, channelFalseArr, nullArr ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// The moderators of this room are: [..., ...]\r\n\t\t\t\t\tcase 'room_mods': {\r\n\t\t\t\t\t\tconst listSplit = msg.split(': ');\r\n\t\t\t\t\t\tconst mods = (listSplit.length > 1 ? listSplit[1] : '').toLowerCase()\r\n\t\t\t\t\t\t.split(', ')\r\n\t\t\t\t\t\t.filter(n => n);\r\n\r\n\t\t\t\t\t\tthis.emits([ '_promiseMods', 'mods' ], [ [ null, mods ], [ channel, mods ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// There are no moderators for this room.\r\n\t\t\t\t\tcase 'no_mods':\r\n\t\t\t\t\t\tthis.emits([ '_promiseMods', 'mods' ], [ [ null, [] ], [ channel, [] ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// The VIPs of this channel are: [..., ...]\r\n\t\t\t\t\tcase 'vips_success': {\r\n\t\t\t\t\t\tif(msg.endsWith('.')) {\r\n\t\t\t\t\t\t\tmsg = msg.slice(0, -1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst listSplit = msg.split(': ');\r\n\t\t\t\t\t\tconst vips = (listSplit.length > 1 ? listSplit[1] : '').toLowerCase()\r\n\t\t\t\t\t\t.split(', ')\r\n\t\t\t\t\t\t.filter(n => n);\r\n\r\n\t\t\t\t\t\tthis.emits([ '_promiseVips', 'vips' ], [ [ null, vips ], [ channel, vips ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// There are no VIPs for this room.\r\n\t\t\t\t\tcase 'no_vips':\r\n\t\t\t\t\t\tthis.emits([ '_promiseVips', 'vips' ], [ [ null, [] ], [ channel, [] ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Ban command failed..\r\n\t\t\t\t\tcase 'already_banned':\r\n\t\t\t\t\tcase 'bad_ban_admin':\r\n\t\t\t\t\tcase 'bad_ban_anon':\r\n\t\t\t\t\tcase 'bad_ban_broadcaster':\r\n\t\t\t\t\tcase 'bad_ban_global_mod':\r\n\t\t\t\t\tcase 'bad_ban_mod':\r\n\t\t\t\t\tcase 'bad_ban_self':\r\n\t\t\t\t\tcase 'bad_ban_staff':\r\n\t\t\t\t\tcase 'usage_ban':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseBan' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Ban command success..\r\n\t\t\t\t\tcase 'ban_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseBan' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Clear command failed..\r\n\t\t\t\t\tcase 'usage_clear':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseClear' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Mods command failed..\r\n\t\t\t\t\tcase 'usage_mods':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseMods' ], [ noticeArr, [ msgid, [] ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Mod command success..\r\n\t\t\t\t\tcase 'mod_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseMod' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// VIPs command failed..\r\n\t\t\t\t\tcase 'usage_vips':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseVips' ], [ noticeArr, [ msgid, [] ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// VIP command failed..\r\n\t\t\t\t\tcase 'usage_vip':\r\n\t\t\t\t\tcase 'bad_vip_grantee_banned':\r\n\t\t\t\t\tcase 'bad_vip_grantee_already_vip':\r\n\t\t\t\t\tcase 'bad_vip_max_vips_reached':\r\n\t\t\t\t\tcase 'bad_vip_achievement_incomplete':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseVip' ], [ noticeArr, [ msgid, [] ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// VIP command success..\r\n\t\t\t\t\tcase 'vip_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseVip' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Mod command failed..\r\n\t\t\t\t\tcase 'usage_mod':\r\n\t\t\t\t\tcase 'bad_mod_banned':\r\n\t\t\t\t\tcase 'bad_mod_mod':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseMod' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unmod command success..\r\n\t\t\t\t\tcase 'unmod_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnmod' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unvip command success...\r\n\t\t\t\t\tcase 'unvip_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnvip' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unmod command failed..\r\n\t\t\t\t\tcase 'usage_unmod':\r\n\t\t\t\t\tcase 'bad_unmod_mod':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnmod' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unvip command failed..\r\n\t\t\t\t\tcase 'usage_unvip':\r\n\t\t\t\t\tcase 'bad_unvip_grantee_not_vip':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnvip' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Color command success..\r\n\t\t\t\t\tcase 'color_changed':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseColor' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Color command failed..\r\n\t\t\t\t\tcase 'usage_color':\r\n\t\t\t\t\tcase 'turbo_only_color':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseColor' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Commercial command success..\r\n\t\t\t\t\tcase 'commercial_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseCommercial' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Commercial command failed..\r\n\t\t\t\t\tcase 'usage_commercial':\r\n\t\t\t\t\tcase 'bad_commercial_error':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseCommercial' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Host command success..\r\n\t\t\t\t\tcase 'hosts_remaining': {\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tconst remainingHost = (!isNaN(msg[0]) ? parseInt(msg[0]) : 0);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseHost' ], [ noticeArr, [ null, ~~remainingHost ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Host command failed..\r\n\t\t\t\t\tcase 'bad_host_hosting':\r\n\t\t\t\t\tcase 'bad_host_rate_exceeded':\r\n\t\t\t\t\tcase 'bad_host_error':\r\n\t\t\t\t\tcase 'usage_host':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseHost' ], [ noticeArr, [ msgid, null ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// r9kbeta command failed..\r\n\t\t\t\t\tcase 'already_r9k_on':\r\n\t\t\t\t\tcase 'usage_r9k_on':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseR9kbeta' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// r9kbetaoff command failed..\r\n\t\t\t\t\tcase 'already_r9k_off':\r\n\t\t\t\t\tcase 'usage_r9k_off':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseR9kbetaoff' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Timeout command success..\r\n\t\t\t\t\tcase 'timeout_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseTimeout' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'delete_message_success':\r\n\t\t\t\t\t\tthis.log.info(`[${channel} ${msg}]`);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseDeletemessage' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Subscribersoff command failed..\r\n\t\t\t\t\tcase 'already_subs_off':\r\n\t\t\t\t\tcase 'usage_subs_off':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseSubscribersoff' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Subscribers command failed..\r\n\t\t\t\t\tcase 'already_subs_on':\r\n\t\t\t\t\tcase 'usage_subs_on':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseSubscribers' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Emoteonlyoff command failed..\r\n\t\t\t\t\tcase 'already_emote_only_off':\r\n\t\t\t\t\tcase 'usage_emote_only_off':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseEmoteonlyoff' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Emoteonly command failed..\r\n\t\t\t\t\tcase 'already_emote_only_on':\r\n\t\t\t\t\tcase 'usage_emote_only_on':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseEmoteonly' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Slow command failed..\r\n\t\t\t\t\tcase 'usage_slow_on':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseSlow' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Slowoff command failed..\r\n\t\t\t\t\tcase 'usage_slow_off':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseSlowoff' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Timeout command failed..\r\n\t\t\t\t\tcase 'usage_timeout':\r\n\t\t\t\t\tcase 'bad_timeout_admin':\r\n\t\t\t\t\tcase 'bad_timeout_anon':\r\n\t\t\t\t\tcase 'bad_timeout_broadcaster':\r\n\t\t\t\t\tcase 'bad_timeout_duration':\r\n\t\t\t\t\tcase 'bad_timeout_global_mod':\r\n\t\t\t\t\tcase 'bad_timeout_mod':\r\n\t\t\t\t\tcase 'bad_timeout_self':\r\n\t\t\t\t\tcase 'bad_timeout_staff':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseTimeout' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unban command success..\r\n\t\t\t\t\t// Unban can also be used to cancel an active timeout.\r\n\t\t\t\t\tcase 'untimeout_success':\r\n\t\t\t\t\tcase 'unban_success':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnban' ], noticeAndNull);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unban command failed..\r\n\t\t\t\t\tcase 'usage_unban':\r\n\t\t\t\t\tcase 'bad_unban_no_ban':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnban' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Delete command failed..\r\n\t\t\t\t\tcase 'usage_delete':\r\n\t\t\t\t\tcase 'bad_delete_message_error':\r\n\t\t\t\t\tcase 'bad_delete_message_broadcaster':\r\n\t\t\t\t\tcase 'bad_delete_message_mod':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseDeletemessage' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unhost command failed..\r\n\t\t\t\t\tcase 'usage_unhost':\r\n\t\t\t\t\tcase 'not_hosting':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseUnhost' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Whisper command failed..\r\n\t\t\t\t\tcase 'whisper_invalid_login':\r\n\t\t\t\t\tcase 'whisper_invalid_self':\r\n\t\t\t\t\tcase 'whisper_limit_per_min':\r\n\t\t\t\t\tcase 'whisper_limit_per_sec':\r\n\t\t\t\t\tcase 'whisper_restricted':\r\n\t\t\t\t\tcase 'whisper_restricted_recipient':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([ 'notice', '_promiseWhisper' ], noticeAndMsgid);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Permission error..\r\n\t\t\t\t\tcase 'no_permission':\r\n\t\t\t\t\tcase 'msg_banned':\r\n\t\t\t\t\tcase 'msg_room_not_found':\r\n\t\t\t\t\tcase 'msg_channel_suspended':\r\n\t\t\t\t\tcase 'tos_ban':\r\n\t\t\t\t\tcase 'invalid_user':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emits([\r\n\t\t\t\t\t\t\t'notice',\r\n\t\t\t\t\t\t\t'_promiseBan',\r\n\t\t\t\t\t\t\t'_promiseClear',\r\n\t\t\t\t\t\t\t'_promiseUnban',\r\n\t\t\t\t\t\t\t'_promiseTimeout',\r\n\t\t\t\t\t\t\t'_promiseDeletemessage',\r\n\t\t\t\t\t\t\t'_promiseMods',\r\n\t\t\t\t\t\t\t'_promiseMod',\r\n\t\t\t\t\t\t\t'_promiseUnmod',\r\n\t\t\t\t\t\t\t'_promiseVips',\r\n\t\t\t\t\t\t\t'_promiseVip',\r\n\t\t\t\t\t\t\t'_promiseUnvip',\r\n\t\t\t\t\t\t\t'_promiseCommercial',\r\n\t\t\t\t\t\t\t'_promiseHost',\r\n\t\t\t\t\t\t\t'_promiseUnhost',\r\n\t\t\t\t\t\t\t'_promiseJoin',\r\n\t\t\t\t\t\t\t'_promisePart',\r\n\t\t\t\t\t\t\t'_promiseR9kbeta',\r\n\t\t\t\t\t\t\t'_promiseR9kbetaoff',\r\n\t\t\t\t\t\t\t'_promiseSlow',\r\n\t\t\t\t\t\t\t'_promiseSlowoff',\r\n\t\t\t\t\t\t\t'_promiseFollowers',\r\n\t\t\t\t\t\t\t'_promiseFollowersoff',\r\n\t\t\t\t\t\t\t'_promiseSubscribers',\r\n\t\t\t\t\t\t\t'_promiseSubscribersoff',\r\n\t\t\t\t\t\t\t'_promiseEmoteonly',\r\n\t\t\t\t\t\t\t'_promiseEmoteonlyoff',\r\n\t\t\t\t\t\t\t'_promiseWhisper'\r\n\t\t\t\t\t\t], [ noticeArr, [ msgid, channel ] ]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Automod-related..\r\n\t\t\t\t\tcase 'msg_rejected':\r\n\t\t\t\t\tcase 'msg_rejected_mandatory':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emit('automod', channel, msgid, msg);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Unrecognized command..\r\n\t\t\t\t\tcase 'unrecognized_cmd':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emit('notice', channel, msgid, msg);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Send the following msg-ids to the notice event listener..\r\n\t\t\t\t\tcase 'cmds_available':\r\n\t\t\t\t\tcase 'host_target_went_offline':\r\n\t\t\t\t\tcase 'msg_censored_broadcaster':\r\n\t\t\t\t\tcase 'msg_duplicate':\r\n\t\t\t\t\tcase 'msg_emoteonly':\r\n\t\t\t\t\tcase 'msg_verified_email':\r\n\t\t\t\t\tcase 'msg_ratelimit':\r\n\t\t\t\t\tcase 'msg_subsonly':\r\n\t\t\t\t\tcase 'msg_timedout':\r\n\t\t\t\t\tcase 'msg_bad_characters':\r\n\t\t\t\t\tcase 'msg_channel_blocked':\r\n\t\t\t\t\tcase 'msg_facebook':\r\n\t\t\t\t\tcase 'msg_followersonly':\r\n\t\t\t\t\tcase 'msg_followersonly_followed':\r\n\t\t\t\t\tcase 'msg_followersonly_zero':\r\n\t\t\t\t\tcase 'msg_slowmode':\r\n\t\t\t\t\tcase 'msg_suspended':\r\n\t\t\t\t\tcase 'no_help':\r\n\t\t\t\t\tcase 'usage_disconnect':\r\n\t\t\t\t\tcase 'usage_help':\r\n\t\t\t\t\tcase 'usage_me':\r\n\t\t\t\t\tcase 'unavailable_command':\r\n\t\t\t\t\t\tthis.log.info(basicLog);\r\n\t\t\t\t\t\tthis.emit('notice', channel, msgid, msg);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Ignore this because we are already listening to HOSTTARGET..\r\n\t\t\t\t\tcase 'host_on':\r\n\t\t\t\t\tcase 'host_off':\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif(msg.includes('Login unsuccessful') || msg.includes('Login authentication failed')) {\r\n\t\t\t\t\t\t\tthis.wasCloseCalled = false;\r\n\t\t\t\t\t\t\tthis.reconnect = false;\r\n\t\t\t\t\t\t\tthis.reason = msg;\r\n\t\t\t\t\t\t\tthis.log.error(this.reason);\r\n\t\t\t\t\t\t\tthis.ws.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(msg.includes('Error logging in') || msg.includes('Improperly formatted auth')) {\r\n\t\t\t\t\t\t\tthis.wasCloseCalled = false;\r\n\t\t\t\t\t\t\tthis.reconnect = false;\r\n\t\t\t\t\t\t\tthis.reason = msg;\r\n\t\t\t\t\t\t\tthis.log.error(this.reason);\r\n\t\t\t\t\t\t\tthis.ws.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(msg.includes('Invalid NICK')) {\r\n\t\t\t\t\t\t\tthis.wasCloseCalled = false;\r\n\t\t\t\t\t\t\tthis.reconnect = false;\r\n\t\t\t\t\t\t\tthis.reason = 'Invalid NICK.';\r\n\t\t\t\t\t\t\tthis.log.error(this.reason);\r\n\t\t\t\t\t\t\tthis.ws.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.log.warn(`Could not parse NOTICE from tmi.twitch.tv:\\n${JSON.stringify(message, null, 4)}`);\r\n\t\t\t\t\t\t\tthis.emit('notice', channel, msgid, msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Handle subanniversary / resub..\r\n\t\t\tcase 'USERNOTICE': {\r\n\t\t\t\tconst username = tags['display-name'] || tags['login'];\r\n\t\t\t\tconst plan = tags['msg-param-sub-plan'] || '';\r\n\t\t\t\tconst planName = _.unescapeIRC(_.get(tags['msg-param-sub-plan-name'], '')) || null;\r\n\t\t\t\tconst prime = plan.includes('Prime');\r\n\t\t\t\tconst methods = { prime, plan, planName };\r\n\t\t\t\tconst streakMonths = ~~(tags['msg-param-streak-months'] || 0);\r\n\t\t\t\tconst recipient = tags['msg-param-recipient-display-name'] || tags['msg-param-recipient-user-name'];\r\n\t\t\t\tconst giftSubCount = ~~tags['msg-param-mass-gift-count'];\r\n\t\t\t\ttags['message-type'] = msgid;\r\n\r\n\t\t\t\tswitch(msgid) {\r\n\t\t\t\t\t// Handle resub\r\n\t\t\t\t\tcase 'resub':\r\n\t\t\t\t\t\tthis.emits([ 'resub', 'subanniversary' ], [\r\n\t\t\t\t\t\t\t[ channel, username, streakMonths, msg, tags, methods ]\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle sub\r\n\t\t\t\t\tcase 'sub':\r\n\t\t\t\t\t\tthis.emits([ 'subscription', 'sub' ], [\r\n\t\t\t\t\t\t\t[ channel, username, methods, msg, tags ]\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle gift sub\r\n\t\t\t\t\tcase 'subgift':\r\n\t\t\t\t\t\tthis.emit('subgift', channel, username, streakMonths, recipient, methods, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle anonymous gift sub\r\n\t\t\t\t\t// Need proof that this event occur\r\n\t\t\t\t\tcase 'anonsubgift':\r\n\t\t\t\t\t\tthis.emit('anonsubgift', channel, streakMonths, recipient, methods, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle random gift subs\r\n\t\t\t\t\tcase 'submysterygift':\r\n\t\t\t\t\t\tthis.emit('submysterygift', channel, username, giftSubCount, methods, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle anonymous random gift subs\r\n\t\t\t\t\t// Need proof that this event occur\r\n\t\t\t\t\tcase 'anonsubmysterygift':\r\n\t\t\t\t\t\tthis.emit('anonsubmysterygift', channel, giftSubCount, methods, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle user upgrading from Prime to a normal tier sub\r\n\t\t\t\t\tcase 'primepaidupgrade':\r\n\t\t\t\t\t\tthis.emit('primepaidupgrade', channel, username, methods, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle user upgrading from a gifted sub\r\n\t\t\t\t\tcase 'giftpaidupgrade': {\r\n\t\t\t\t\t\tconst sender = tags['msg-param-sender-name'] || tags['msg-param-sender-login'];\r\n\t\t\t\t\t\tthis.emit('giftpaidupgrade', channel, username, sender, tags);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Handle user upgrading from an anonymous gifted sub\r\n\t\t\t\t\tcase 'anongiftpaidupgrade':\r\n\t\t\t\t\t\tthis.emit('anongiftpaidupgrade', channel, username, tags);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t// Handle raid\r\n\t\t\t\t\tcase 'raid': {\r\n\t\t\t\t\t\tconst username = tags['msg-param-displayName'] || tags['msg-param-login'];\r\n\t\t\t\t\t\tconst viewers = +tags['msg-param-viewerCount'];\r\n\t\t\t\t\t\tthis.emit('raided', channel, username, viewers, tags);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Handle ritual\r\n\t\t\t\t\tcase 'ritual': {\r\n\t\t\t\t\t\tconst ritualName = tags['msg-param-ritual-name'];\r\n\t\t\t\t\t\tswitch(ritualName) {\r\n\t\t\t\t\t\t\t// Handle new chatter ritual\r\n\t\t\t\t\t\t\tcase 'new_chatter':\r\n\t\t\t\t\t\t\t\tthis.emit('newchatter', channel, username, tags, msg);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t// All unknown rituals should be passed through\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tthis.emit('ritual', ritualName, channel, username, tags, msg);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// All other msgid events should be emitted under a usernotice event\r\n\t\t\t\t\t// until it comes up and needs to be added..\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.emit('usernotice', msgid, channel, tags, msg);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Channel is now hosting another channel or exited host mode..\r\n\t\t\tcase 'HOSTTARGET': {\r\n\t\t\t\tconst msgSplit = msg.split(' ');\r\n\t\t\t\tconst viewers = ~~msgSplit[1] || 0;\r\n\t\t\t\t// Stopped hosting..\r\n\t\t\t\tif(msgSplit[0] === '-') {\r\n\t\t\t\t\tthis.log.info(`[${channel}] Exited host mode.`);\r\n\t\t\t\t\tthis.emits([ 'unhost', '_promiseUnhost' ], [ [ channel, viewers ], [ null ] ]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Now hosting..\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.log.info(`[${channel}] Now hosting ${msgSplit[0]} for ${viewers} viewer(s).`);\r\n\t\t\t\t\tthis.emit('hosting', channel, msgSplit[0], viewers);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Someone has been timed out or chat has been cleared by a moderator..\r\n\t\t\tcase 'CLEARCHAT':\r\n\t\t\t\t// User has been banned / timed out by a moderator..\r\n\t\t\t\tif(message.params.length > 1) {\r\n\t\t\t\t\t// Duration returns null if it's a ban, otherwise it's a timeout..\r\n\t\t\t\t\tconst duration = _.get(message.tags['ban-duration'], null);\r\n\r\n\t\t\t\t\tif(duration === null) {\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] ${msg} has been banned.`);\r\n\t\t\t\t\t\tthis.emit('ban', channel, msg, null, message.tags);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.log.info(`[${channel}] ${msg} has been timed out for ${duration} seconds.`);\r\n\t\t\t\t\t\tthis.emit('timeout', channel, msg, null, ~~duration, message.tags);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Chat was cleared by a moderator..\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.log.info(`[${channel}] Chat was cleared by a moderator.`);\r\n\t\t\t\t\tthis.emits([ 'clearchat', '_promiseClear' ], [ [ channel ], [ null ] ]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Someone's message has been deleted\r\n\t\t\tcase 'CLEARMSG':\r\n\t\t\t\tif(message.params.length > 1) {\r\n\t\t\t\t\tconst deletedMessage = msg;\r\n\t\t\t\t\tconst username = tags['login'];\r\n\t\t\t\t\ttags['message-type'] = 'messagedeleted';\r\n\r\n\t\t\t\t\tthis.log.info(`[${channel}] ${username}'s message has been deleted.`);\r\n\t\t\t\t\tthis.emit('messagedeleted', channel, username, deletedMessage, tags);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Received a reconnection request from the server..\r\n\t\t\tcase 'RECONNECT':\r\n\t\t\t\tthis.log.info('Received RECONNECT request from Twitch..');\r\n\t\t\t\tthis.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer / 1000)} seconds..`);\r\n\t\t\t\tthis.disconnect().catch(err => this.log.error(err));\r\n\t\t\t\tsetTimeout(() => this.connect().catch(err => this.log.error(err)), this.reconnectTimer);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Received when joining a channel and every time you send a PRIVMSG to a channel.\r\n\t\t\tcase 'USERSTATE':\r\n\t\t\t\tmessage.tags.username = this.username;\r\n\r\n\t\t\t\t// Add the client to the moderators of this room..\r\n\t\t\t\tif(message.tags['user-type'] === 'mod') {\r\n\t\t\t\t\tif(!this.moderators[channel]) {\r\n\t\t\t\t\t\tthis.moderators[channel] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.moderators[channel].includes(this.username)) {\r\n\t\t\t\t\t\tthis.moderators[channel].push(this.username);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Logged in and username doesn't start with justinfan..\r\n\t\t\t\tif(!_.isJustinfan(this.getUsername()) && !this.userstate[channel]) {\r\n\t\t\t\t\tthis.userstate[channel] = tags;\r\n\t\t\t\t\tthis.lastJoined = channel;\r\n\t\t\t\t\tthis.channels.push(channel);\r\n\t\t\t\t\tthis.log.info(`Joined ${channel}`);\r\n\t\t\t\t\tthis.emit('join', channel, _.username(this.getUsername()), true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Emote-sets has changed, update it..\r\n\t\t\t\tif(message.tags['emote-sets'] !== this.emotes) {\r\n\t\t\t\t\tthis._updateEmoteset(message.tags['emote-sets']);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.userstate[channel] = tags;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Describe non-channel-specific state informations..\r\n\t\t\tcase 'GLOBALUSERSTATE':\r\n\t\t\t\tthis.globaluserstate = tags;\r\n\t\t\t\tthis.emit('globaluserstate', tags);\r\n\r\n\t\t\t\t// Received emote-sets..\r\n\t\t\t\tif(typeof message.tags['emote-sets'] !== 'undefined') {\r\n\t\t\t\t\tthis._updateEmoteset(message.tags['emote-sets']);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Received when joining a channel and every time one of the chat room settings, like slow mode, change.\r\n\t\t\t// The message on join contains all room settings.\r\n\t\t\tcase 'ROOMSTATE':\r\n\t\t\t\t// We use this notice to know if we successfully joined a channel..\r\n\t\t\t\tif(_.channel(this.lastJoined) === channel) { this.emit('_promiseJoin', null, channel); }\r\n\r\n\t\t\t\t// Provide the channel name in the tags before emitting it..\r\n\t\t\t\tmessage.tags.channel = channel;\r\n\t\t\t\tthis.emit('roomstate', channel, message.tags);\r\n\r\n\t\t\t\tif(!_.hasOwn(message.tags, 'subs-only')) {\r\n\t\t\t\t\t// Handle slow mode here instead of the slow_on/off notice..\r\n\t\t\t\t\t// This room is now in slow mode. You may send messages every slow_duration seconds.\r\n\t\t\t\t\tif(_.hasOwn(message.tags, 'slow')) {\r\n\t\t\t\t\t\tif(typeof message.tags.slow === 'boolean' && !message.tags.slow) {\r\n\t\t\t\t\t\t\tconst disabled = [ channel, false, 0 ];\r\n\t\t\t\t\t\t\tthis.log.info(`[${channel}] This room is no longer in slow mode.`);\r\n\t\t\t\t\t\t\tthis.emits([ 'slow', 'slowmode', '_promiseSlowoff' ], [ disabled, disabled, [ null ] ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tconst seconds = ~~message.tags.slow;\r\n\t\t\t\t\t\t\tconst enabled = [ channel, true, seconds ];\r\n\t\t\t\t\t\t\tthis.log.info(`[${channel}] This room is now in slow mode.`);\r\n\t\t\t\t\t\t\tthis.emits([ 'slow', 'slowmode', '_promiseSlow' ], [ enabled, enabled, [ null ] ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Handle followers only mode here instead of the followers_on/off notice..\r\n\t\t\t\t\t// This room is now in follower-only mode.\r\n\t\t\t\t\t// This room is now in <duration> followers-only mode.\r\n\t\t\t\t\t// This room is no longer in followers-only mode.\r\n\t\t\t\t\t// duration is in minutes (string)\r\n\t\t\t\t\t// -1 when /followersoff (string)\r\n\t\t\t\t\t// false when /followers with no duration (boolean)\r\n\t\t\t\t\tif(_.hasOwn(message.tags, 'followers-only')) {\r\n\t\t\t\t\t\tif(message.tags['followers-only'] === '-1') {\r\n\t\t\t\t\t\t\tconst disabled = [ channel, false, 0 ];\r\n\t\t\t\t\t\t\tthis.log.info(`[${channel}] This room is no longer in followers-only mode.`);\r\n\t\t\t\t\t\t\tthis.emits([ 'followersonly', 'followersmode', '_promiseFollowersoff' ], [ disabled, disabled, [ null ] ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tconst minutes = ~~message.tags['followers-only'];\r\n\t\t\t\t\t\t\tconst enabled = [ channel, true, minutes ];\r\n\t\t\t\t\t\t\tthis.log.info(`[${channel}] This room is now in follower-only mode.`);\r\n\t\t\t\t\t\t\tthis.emits([ 'followersonly', 'followersmode', '_promiseFollowers' ], [ enabled, enabled, [ null ] ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Wrong cluster..\r\n\t\t\tcase 'SERVERCHANGE':\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.log.warn(`Could not parse message from tmi.twitch.tv:\\n${JSON.stringify(message, null, 4)}`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// Messages from jtv..\r\n\telse if(message.prefix === 'jtv') {\r\n\t\tswitch(message.command) {\r\n\t\t\tcase 'MODE':\r\n\t\t\t\tif(msg === '+o') {\r\n\t\t\t\t\t// Add username to the moderators..\r\n\t\t\t\t\tif(!this.moderators[channel]) {\r\n\t\t\t\t\t\tthis.moderators[channel] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.moderators[channel].includes(message.params[2])) {\r\n\t\t\t\t\t\tthis.moderators[channel].push(message.params[2]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.emit('mod', channel, message.params[2]);\r\n\t\t\t\t}\r\n\t\t\t\telse if(msg === '-o') {\r\n\t\t\t\t\t// Remove username from the moderators..\r\n\t\t\t\t\tif(!this.moderators[channel]) {\r\n\t\t\t\t\t\tthis.moderators[channel] = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moderators[channel].filter(value => value !== message.params[2]);\r\n\r\n\t\t\t\t\tthis.emit('unmod', channel, message.params[2]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.log.warn(`Could not parse message from jtv:\\n${JSON.stringify(message, null, 4)}`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// Anything else..\r\n\telse {\r\n\t\tswitch(message.command) {\r\n\t\t\tcase '353':\r\n\t\t\t\tthis.emit('names', message.params[2], message.params[3].split(' '));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase '366':\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// Someone has joined the channel..\r\n\t\t\tcase 'JOIN': {\r\n\t\t\t\tconst nick = message.prefix.split('!')[0];\r\n\t\t\t\t// Joined a channel as a justinfan (anonymous) user..\r\n\t\t\t\tif(_.isJustinfan(this.getUsername()) && this.username === nick) {\r\n\t\t\t\t\tthis.lastJoined = channel;\r\n\t\t\t\t\tthis.channels.push(channel);\r\n\t\t\t\t\tthis.log.info(`Joined ${channel}`);\r\n\t\t\t\t\tthis.emit('join', channel, nick, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Someone else joined the channel, just emit the join event..\r\n\t\t\t\tif(this.username !== nick) {\r\n\t\t\t\t\tthis.emit('join', channel, nick, false);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Someone has left the channel..\r\n\t\t\tcase 'PART': {\r\n\t\t\t\tlet isSelf = false;\r\n\t\t\t\tconst nick = message.prefix.split('!')[0];\r\n\t\t\t\t// Client left a channel..\r\n\t\t\t\tif(this.username === nick) {\r\n\t\t\t\t\tisSelf = true;\r\n\t\t\t\t\tif(this.userstate[channel]) { delete this.userstate[channel]; }\r\n\r\n\t\t\t\t\tlet index = this.channels.indexOf(channel);\r\n\t\t\t\t\tif(index !== -1) { this.channels.splice(index, 1); }\r\n\r\n\t\t\t\t\tindex = this.opts.channels.indexOf(channel);\r\n\t\t\t\t\tif(index !== -1) { this.opts.channels.splice(index, 1); }\r\n\r\n\t\t\t\t\tthis.log.info(`Left ${channel}`);\r\n\t\t\t\t\tthis.emit('_promisePart', null);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Client or someone else left the channel, emit the part event..\r\n\t\t\t\tthis.emit('part', channel, nick, isSelf);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Received a whisper..\r\n\t\t\tcase 'WHISPER': {\r\n\t\t\t\tconst nick = message.prefix.split('!')[0];\r\n\t\t\t\tthis.log.info(`[WHISPER] <${nick}>: ${msg}`);\r\n\r\n\t\t\t\t// Update the tags to provide the username..\r\n\t\t\t\tif(!_.hasOwn(message.tags, 'username')) {\r\n\t\t\t\t\tmessage.tags.username = nick;\r\n\t\t\t\t}\r\n\t\t\t\tmessage.tags['message-type'] = 'whisper';\r\n\r\n\t\t\t\tconst from = _.channel(message.tags.username);\r\n\t\t\t\t// Emit for both, whisper and message..\r\n\t\t\t\tthis.emits([ 'whisper', 'message' ], [\r\n\t\t\t\t\t[ from, message.tags, msg, false ]\r\n\t\t\t\t]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tcase 'PRIVMSG':\r\n\t\t\t\t// Add username (lowercase) to the tags..\r\n\t\t\t\tmessage.tags.username = message.prefix.split('!')[0];\r\n\r\n\t\t\t\t// Message from JTV..\r\n\t\t\t\tif(message.tags.username === 'jtv') {\r\n\t\t\t\t\tconst name = _.username(msg.split(' ')[0]);\r\n\t\t\t\t\tconst autohost = msg.includes('auto');\r\n\t\t\t\t\t// Someone is hosting the channel and the message contains how many viewers..\r\n\t\t\t\t\tif(msg.includes('hosting you for')) {\r\n\t\t\t\t\t\tconst count = _.extractNumber(msg);\r\n\r\n\t\t\t\t\t\tthis.emit('hosted', channel, name, count, autohost);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t// Some is hosting the channel, but no viewer(s) count provided in the message..\r\n\t\t\t\t\telse if(msg.includes('hosting you')) {\r\n\t\t\t\t\t\tthis.emit('hosted', channel, name, 0, autohost);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse {\r\n\t\t\t\t\tconst messagesLogLevel = _.get(this.opts.options.messagesLogLevel, 'info');\r\n\r\n\t\t\t\t\t// Message is an action (/me <message>)..\r\n\t\t\t\t\tconst actionMessage = _.actionMessage(msg);\r\n\t\t\t\t\tmessage.tags['message-type'] = actionMessage ? 'action' : 'chat';\r\n\t\t\t\t\tmsg = actionMessage ? actionMessage[1] : msg;\r\n\t\t\t\t\t// Check for Bits prior to actions message\r\n\t\t\t\t\tif(_.hasOwn(message.tags, 'bits')) {\r\n\t\t\t\t\t\tthis.emit('cheer', channel, message.tags, msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t//Handle Channel Point Redemptions (Require's Text Input)\r\n\t\t\t\t\t\tif(_.hasOwn(message.tags, 'msg-id')) {\r\n\t\t\t\t\t\t\tif(message.tags['msg-id'] === 'highlighted-message') {\r\n\t\t\t\t\t\t\t\tconst rewardtype = message.tags['msg-id'];\r\n\t\t\t\t\t\t\t\tthis.emit('redeem', channel, message.tags.username, rewardtype, message.tags, msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(message.tags['msg-id'] === 'skip-subs-mode-message') {\r\n\t\t\t\t\t\t\t\tconst rewardtype = message.tags['msg-id'];\r\n\t\t\t\t\t\t\t\tthis.emit('redeem', channel, message.tags.username, rewardtype, message.tags, msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(_.hasOwn(message.tags, 'custom-reward-id')) {\r\n\t\t\t\t\t\t\tconst rewardtype = message.tags['custom-reward-id'];\r\n\t\t\t\t\t\t\tthis.emit('redeem', channel, message.tags.username, rewardtype, message.tags, msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(actionMessage) {\r\n\t\t\t\t\t\t\tthis.log[messagesLogLevel](`[${channel}] *<${message.tags.username}>: ${msg}`);\r\n\t\t\t\t\t\t\tthis.emits([ 'action', 'message' ], [\r\n\t\t\t\t\t\t\t\t[ channel, message.tags, msg, false ]\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Message is a regular chat message..\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.log[messagesLogLevel](`[${channel}] <${message.tags.username}>: ${msg}`);\r\n\t\t\t\t\t\t\tthis.emits([ 'chat', 'message' ], [\r\n\t\t\t\t\t\t\t\t[ channel, message.tags, msg, false ]\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.log.warn(`Could not parse message:\\n${JSON.stringify(message, null, 4)}`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n// Connect to server..\r\nclient.prototype.connect = function connect() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tthis.server = _.get(this.opts.connection.server, 'irc-ws.chat.twitch.tv');\r\n\t\tthis.port = _.get(this.opts.connection.port, 80);\r\n\r\n\t\t// Override port if using a secure connection..\r\n\t\tif(this.secure) { this.port = 443; }\r\n\t\tif(this.port === 443) { this.secure = true; }\r\n\r\n\t\tthis.reconnectTimer = this.reconnectTimer * this.reconnectDecay;\r\n\t\tif(this.reconnectTimer >= this.maxReconnectInterval) {\r\n\t\t\tthis.reconnectTimer = this.maxReconnectInterval;\r\n\t\t}\r\n\r\n\t\t// Connect to server from configuration..\r\n\t\tthis._openConnection();\r\n\t\tthis.once('_promiseConnect', err => {\r\n\t\t\tif(!err) { resolve([ this.server, ~~this.port ]); }\r\n\t\t\telse { reject(err); }\r\n\t\t});\r\n\t});\r\n};\r\n// Open a connection..\r\nclient.prototype._openConnection = function _openConnection() {\r\n\tconst url = `${this.secure ? 'wss' : 'ws'}://${this.server}:${this.port}/`;\r\n\t/** @type {import('ws').ClientOptions} */\r\n\tconst connectionOptions = {};\r\n\tif('agent' in this.opts.connection) {\r\n\t\tconnectionOptions.agent = this.opts.connection.agent;\r\n\t}\r\n\tthis.ws = new _WebSocket(url, 'irc', connectionOptions);\r\n\r\n\tthis.ws.onmessage = this._onMessage.bind(this);\r\n\tthis.ws.onerror = this._onError.bind(this);\r\n\tthis.ws.onclose = this._onClose.bind(this);\r\n\tthis.ws.onopen = this._onOpen.bind(this);\r\n};\r\n// Called when the WebSocket connection's readyState changes to OPEN.\r\n// Indicates that the connection is ready to send and receive data..\r\nclient.prototype._onOpen = function _onOpen() {\r\n\tif(!this._isConnected()) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Emitting \"connecting\" event..\r\n\tthis.log.info(`Connecting to ${this.server} on port ${this.port}..`);\r\n\tthis.emit('connecting', this.server, ~~this.port);\r\n\r\n\tthis.username = _.get(this.opts.identity.username, _.justinfan());\r\n\tthis._getToken()\r\n\t.then(token => {\r\n\t\tconst password = _.password(token);\r\n\r\n\t\t// Emitting \"logon\" event..\r\n\t\tthis.log.info('Sending authentication to server..');\r\n\t\tthis.emit('logon');\r\n\r\n\t\tlet caps = 'twitch.tv/tags twitch.tv/commands';\r\n\t\tif(!this._skipMembership) {\r\n\t\t\tcaps += ' twitch.tv/membership';\r\n\t\t}\r\n\t\tthis.ws.send('CAP REQ :' + caps);\r\n\r\n\t\t// Authentication..\r\n\t\tif(password) {\r\n\t\t\tthis.ws.send(`PASS ${password}`);\r\n\t\t}\r\n\t\telse if(_.isJustinfan(this.username)) {\r\n\t\t\tthis.ws.send('PASS SCHMOOPIIE');\r\n\t\t}\r\n\t\tthis.ws.send(`NICK ${this.username}`);\r\n\t})\r\n\t.catch(err => {\r\n\t\tthis.emits([ '_promiseConnect', 'disconnected' ], [ [ err ], [ 'Could not get a token.' ] ]);\r\n\t});\r\n};\r\n// Fetches a token from the option.\r\nclient.prototype._getToken = function _getToken() {\r\n\tconst passwordOption = this.opts.identity.password;\r\n\tlet password;\r\n\tif(typeof passwordOption === 'function') {\r\n\t\tpassword = passwordOption();\r\n\t\tif(password instanceof Promise) {\r\n\t\t\treturn password;\r\n\t\t}\r\n\t\treturn Promise.resolve(password);\r\n\t}\r\n\treturn Promise.resolve(passwordOption);\r\n};\r\n// Called when a message is received from the server..\r\nclient.prototype._onMessage = function _onMessage(event) {\r\n\tconst parts = event.data.trim().split('\\r\\n');\r\n\r\n\tparts.forEach(str => {\r\n\t\tconst msg = parse.msg(str);\r\n\t\tif(msg) {\r\n\t\t\tthis.handleMessage(msg);\r\n\t\t}\r\n\t});\r\n};\r\n// Called when an error occurs..\r\nclient.prototype._onError = function _onError() {\r\n\tthis.moderators = {};\r\n\tthis.userstate = {};\r\n\tthis.globaluserstate = {};\r\n\r\n\t// Stop the internal ping timeout check interval..\r\n\tclearInterval(this.pingLoop);\r\n\tclearTimeout(this.pingTimeout);\r\n\tclearTimeout(this._updateEmotesetsTimer);\r\n\r\n\tthis.reason = this.ws === null ? 'Connection closed.' : 'Unable to connect.';\r\n\r\n\tthis.emits([ '_promiseConnect', 'disconnected' ], [ [ this.reason ] ]);\r\n\r\n\t// Reconnect to server..\r\n\tif(this.reconnect && this.reconnections === this.maxReconnectAttempts) {\r\n\t\tthis.emit('maxreconnect');\r\n\t\tthis.log.error('Maximum reconnection attempts reached.');\r\n\t}\r\n\tif(this.reconnect && !this.reconnecting && this.reconnections <= this.maxReconnectAttempts - 1) {\r\n\t\tthis.reconnecting = true;\r\n\t\tthis.reconnections = this.reconnections + 1;\r\n\t\tthis.log.error(`Reconnecting in ${Math.round(this.reconnectTimer / 1000)} seconds..`);\r\n\t\tthis.emit('reconnect');\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.reconnecting = false;\r\n\t\t\tthis.connect().catch(err => this.log.error(err));\r\n\t\t}, this.reconnectTimer);\r\n\t}\r\n\r\n\tthis.ws = null;\r\n};\r\n// Called when the WebSocket connection's readyState changes to CLOSED..\r\nclient.prototype._onClose = function _onClose() {\r\n\tthis.moderators = {};\r\n\tthis.userstate = {};\r\n\tthis.globaluserstate = {};\r\n\r\n\t// Stop the internal ping timeout check interval..\r\n\tclearInterval(this.pingLoop);\r\n\tclearTimeout(this.pingTimeout);\r\n\tclearTimeout(this._updateEmotesetsTimer);\r\n\r\n\t// User called .disconnect(), don't try to reconnect.\r\n\tif(this.wasCloseCalled) {\r\n\t\tthis.wasCloseCalled = false;\r\n\t\tthis.reason = 'Connection closed.';\r\n\t\tthis.log.info(this.reason);\r\n\t\tthis.emits([ '_promiseConnect', '_promiseDisconnect', 'disconnected' ], [ [ this.reason ], [ null ], [ this.reason ] ]);\r\n\t}\r\n\r\n\t// Got disconnected from server..\r\n\telse {\r\n\t\tthis.emits([ '_promiseConnect', 'disconnected' ], [ [ this.reason ] ]);\r\n\r\n\t\t// Reconnect to server..\r\n\t\tif(this.reconnect && this.reconnections === this.maxReconnectAttempts) {\r\n\t\t\tthis.emit('maxreconnect');\r\n\t\t\tthis.log.error('Maximum reconnection attempts reached.');\r\n\t\t}\r\n\t\tif(this.reconnect && !this.reconnecting && this.reconnections <= this.maxReconnectAttempts - 1) {\r\n\t\t\tthis.reconnecting = true;\r\n\t\t\tthis.reconnections = this.reconnections + 1;\r\n\t\t\tthis.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer / 1000)} seconds..`);\r\n\t\t\tthis.emit('reconnect');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.reconnecting = false;\r\n\t\t\t\tthis.connect().catch(err => this.log.error(err));\r\n\t\t\t}, this.reconnectTimer);\r\n\t\t}\r\n\t}\r\n\r\n\tthis.ws = null;\r\n};\r\n// Minimum of 600ms for command promises, if current latency exceeds, add 100ms to it to make sure it doesn't get timed out..\r\nclient.prototype._getPromiseDelay = function _getPromiseDelay() {\r\n\tif(this.currentLatency <= 600) { return 600; }\r\n\telse { return this.currentLatency + 100; }\r\n};\r\n// Send command to server or channel..\r\nclient.prototype._sendCommand = function _sendCommand(delay, channel, command, fn) {\r\n\t// Race promise against delay..\r\n\treturn new Promise((resolve, reject) => {\r\n\t\t// Make sure the socket is opened..\r\n\t\tif(!this._isConnected()) {\r\n\t\t\t// Disconnected from server..\r\n\t\t\treturn reject('Not connected to server.');\r\n\t\t}\r\n\t\telse if(delay === null || typeof delay === 'number') {\r\n\t\t\tif(delay === null) {\r\n\t\t\t\tdelay = this._getPromiseDelay();\r\n\t\t\t}\r\n\t\t\t_.promiseDelay(delay).then(() => reject('No response from Twitch.'));\r\n\t\t}\r\n\r\n\t\t// Executing a command on a channel..\r\n\t\tif(channel !== null) {\r\n\t\t\tconst chan = _.channel(channel);\r\n\t\t\tthis.log.info(`[${chan}] Executing command: ${command}`);\r\n\t\t\tthis.ws.send(`PRIVMSG ${chan} :${command}`);\r\n\t\t}\r\n\t\t// Executing a raw command..\r\n\t\telse {\r\n\t\t\tthis.log.info(`Executing command: ${command}`);\r\n\t\t\tthis.ws.send(command);\r\n\t\t}\r\n\t\tif(typeof fn === 'function') {\r\n\t\t\tfn(resolve, reject);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tresolve();\r\n\t\t}\r\n\t});\r\n};\r\n// Send a message to channel..\r\nclient.prototype._sendMessage = function _sendMessage(delay, channel, message, fn) {\r\n\t// Promise a result..\r\n\treturn new Promise((resolve, reject) => {\r\n\t\t// Make sure the socket is opened and not logged in as a justinfan user..\r\n\t\tif(!this._isConnected()) {\r\n\t\t\treturn reject('Not connected to server.');\r\n\t\t}\r\n\t\telse if(_.isJustinfan(this.getUsername())) {\r\n\t\t\treturn reject('Cannot send anonymous messages.');\r\n\t\t}\r\n\t\tconst chan = _.channel(channel);\r\n\t\tif(!this.userstate[chan]) { this.userstate[chan] = {}; }\r\n\r\n\t\t// Split long lines otherwise they will be eaten by the server..\r\n\t\tif(message.length >= 500) {\r\n\t\t\tconst msg = _.splitLine(message, 500);\r\n\t\t\tmessage = msg[0];\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis._sendMessage(delay, channel, msg[1], () => {});\r\n\t\t\t}, 350);\r\n\t\t}\r\n\r\n\t\tthis.ws.send(`PRIVMSG ${chan} :${message}`);\r\n\r\n\t\tconst emotes = {};\r\n\r\n\t\t// Parse regex and string emotes..\r\n\t\tObject.keys(this.emotesets).forEach(id => this.emotesets[id].forEach(emote => {\r\n\t\t\tconst emoteFunc = _.isRegex(emote.code) ? parse.emoteRegex : parse.emoteString;\r\n\t\t\treturn emoteFunc(message, emote.code, emote.id, emotes);\r\n\t\t})\r\n\t\t);\r\n\r\n\t\t// Merge userstate with parsed emotes..\r\n\t\tconst userstate = Object.assign(\r\n\t\t\tthis.userstate[chan],\r\n\t\t\tparse.emotes({ emotes: parse.transformEmotes(emotes) || null })\r\n\t\t);\r\n\r\n\t\tconst messagesLogLevel = _.get(this.opts.options.messagesLogLevel, 'info');\r\n\r\n\t\t// Message is an action (/me <message>)..\r\n\t\tconst actionMessage = _.actionMessage(message);\r\n\t\tif(actionMessage) {\r\n\t\t\tuserstate['message-type'] = 'action';\r\n\t\t\tthis.log[messagesLogLevel](`[${chan}] *<${this.getUsername()}>: ${actionMessage[1]}`);\r\n\t\t\tthis.emits([ 'action', 'message' ], [\r\n\t\t\t\t[ chan, userstate, actionMessage[1], true ]\r\n\t\t\t]);\r\n\t\t}\r\n\r\n\r\n\t\t// Message is a regular chat message..\r\n\t\telse {\r\n\t\t\tuserstate['message-type'] = 'chat';\r\n\t\t\tthis.log[messagesLogLevel](`[${chan}] <${this.getUsername()}>: ${message}`);\r\n\t\t\tthis.emits([ 'chat', 'message' ], [\r\n\t\t\t\t[ chan, userstate, message, true ]\r\n\t\t\t]);\r\n\t\t}\r\n\t\tif(typeof fn === 'function') {\r\n\t\t\tfn(resolve, reject);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tresolve();\r\n\t\t}\r\n\t});\r\n};\r\n// Grab the emote-sets object from the API..\r\nclient.prototype._updateEmoteset = function _updateEmoteset(sets) {\r\n\tlet setsChanges = sets !== undefined;\r\n\tif(setsChanges) {\r\n\t\tif(sets === this.emotes) {\r\n\t\t\tsetsChanges = false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.emotes = sets;\r\n\t\t}\r\n\t}\r\n\tif(this._skipUpdatingEmotesets) {\r\n\t\tif(setsChanges) {\r\n\t\t\tthis.emit('emotesets', sets, {});\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\tconst setEmotesetTimer = () => {\r\n\t\tif(this._updateEmotesetsTimerDelay > 0) {\r\n\t\t\tclearTimeout(this._updateEmotesetsTimer);\r\n\t\t\tthis._updateEmotesetsTimer = setTimeout(() => this._updateEmoteset(sets), this._updateEmotesetsTimerDelay);\r\n\t\t}\r\n\t};\r\n\tthis._getToken()\r\n\t.then(token => {\r\n\t\tconst url = `https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=${sets}`;\r\n\t\t/** @type {import('node-fetch').RequestInit} */\r\n\t\tconst fetchOptions = {};\r\n\t\tif('fetchAgent' in this.opts.connection) {\r\n\t\t\tfetchOptions.agent = this.opts.connection.fetchAgent;\r\n\t\t}\r\n\t\t/** @type {import('node-fetch').Response} */\r\n\t\treturn _fetch(url, {\r\n\t\t\t...fetchOptions,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/vnd.twitchtv.v5+json',\r\n\t\t\t\t'Authorization': `OAuth ${_.token(token)}`,\r\n\t\t\t\t'Client-ID': this.clientId\r\n\t\t\t}\r\n\t\t});\r\n\t})\r\n\t.then(res => res.json())\r\n\t.then(data => {\r\n\t\tthis.emotesets = data.emoticon_sets || {};\r\n\t\tthis.emit('emotesets', sets, this.emotesets);\r\n\t\tsetEmotesetTimer();\r\n\t})\r\n\t.catch(() => setEmotesetTimer());\r\n};\r\n// Get current username..\r\nclient.prototype.getUsername = function getUsername() {\r\n\treturn this.username;\r\n};\r\n// Get current options..\r\nclient.prototype.getOptions = function getOptions() {\r\n\treturn this.opts;\r\n};\r\n// Get current channels..\r\nclient.prototype.getChannels = function getChannels() {\r\n\treturn this.channels;\r\n};\r\n// Check if username is a moderator on a channel..\r\nclient.prototype.isMod = function isMod(channel, username) {\r\n\tconst chan = _.channel(channel);\r\n\tif(!this.moderators[chan]) { this.moderators[chan] = []; }\r\n\treturn this.moderators[chan].includes(_.username(username));\r\n};\r\n// Get readyState..\r\nclient.prototype.readyState = function readyState() {\r\n\tif(this.ws === null) { return 'CLOSED'; }\r\n\treturn [ 'CONNECTING', 'OPEN', 'CLOSING', 'CLOSED' ][this.ws.readyState];\r\n};\r\n// Determine if the client has a WebSocket and it's open..\r\nclient.prototype._isConnected = function _isConnected() {\r\n\treturn this.ws !== null && this.ws.readyState === 1;\r\n};\r\n// Disconnect from server..\r\nclient.prototype.disconnect = function disconnect() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif(this.ws !== null && this.ws.readyState !== 3) {\r\n\t\t\tthis.wasCloseCalled = true;\r\n\t\t\tthis.log.info('Disconnecting from server..');\r\n\t\t\tthis.ws.close();\r\n\t\t\tthis.once('_promiseDisconnect', () => resolve([ this.server, ~~this.port ]));\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.log.error('Cannot disconnect from server. Socket is not opened or connection is already closing.');\r\n\t\t\treject('Cannot disconnect from server. Socket is not opened or connection is already closing.');\r\n\t\t}\r\n\t});\r\n};\r\nclient.prototype.off = client.prototype.removeListener;\r\n\r\n// Expose everything, for browser and Node..\r\nif(typeof module !== 'undefined' && module.exports) {\r\n\tmodule.exports = client;\r\n}\r\nif(typeof window !== 'undefined') {\r\n\twindow.tmi = {\r\n\t\tclient,\r\n\t\tClient: client\r\n\t};\r\n}\r\n","const _ = require('./utils');\n\n// Enable followers-only mode on a channel..\nfunction followersonly(channel, minutes) {\n\tchannel = _.channel(channel);\n\tminutes = _.get(minutes, 30);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, `/followers ${minutes}`, (resolve, reject) => {\n\t\t// Received _promiseFollowers event, resolve or reject..\n\t\tthis.once('_promiseFollowers', err => {\n\t\t\tif(!err) { resolve([ channel, ~~minutes ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Disable followers-only mode on a channel..\nfunction followersonlyoff(channel) {\n\tchannel = _.channel(channel);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, '/followersoff', (resolve, reject) => {\n\t\t// Received _promiseFollowersoff event, resolve or reject..\n\t\tthis.once('_promiseFollowersoff', err => {\n\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Leave a channel..\nfunction part(channel) {\n\tchannel = _.channel(channel);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, null, `PART ${channel}`, (resolve, reject) => {\n\t\t// Received _promisePart event, resolve or reject..\n\t\tthis.once('_promisePart', err => {\n\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Enable R9KBeta mode on a channel..\nfunction r9kbeta(channel) {\n\tchannel = _.channel(channel);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, '/r9kbeta', (resolve, reject) => {\n\t\t// Received _promiseR9kbeta event, resolve or reject..\n\t\tthis.once('_promiseR9kbeta', err => {\n\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Disable R9KBeta mode on a channel..\nfunction r9kbetaoff(channel) {\n\tchannel = _.channel(channel);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, '/r9kbetaoff', (resolve, reject) => {\n\t\t// Received _promiseR9kbetaoff event, resolve or reject..\n\t\tthis.once('_promiseR9kbetaoff', err => {\n\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Enable slow mode on a channel..\nfunction slow(channel, seconds) {\n\tchannel = _.channel(channel);\n\tseconds = _.get(seconds, 300);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, `/slow ${seconds}`, (resolve, reject) => {\n\t\t// Received _promiseSlow event, resolve or reject..\n\t\tthis.once('_promiseSlow', err => {\n\t\t\tif(!err) { resolve([ channel, ~~seconds ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\n// Disable slow mode on a channel..\nfunction slowoff(channel) {\n\tchannel = _.channel(channel);\n\t// Send the command to the server and race the Promise against a delay..\n\treturn this._sendCommand(null, channel, '/slowoff', (resolve, reject) => {\n\t\t// Received _promiseSlowoff event, resolve or reject..\n\t\tthis.once('_promiseSlowoff', err => {\n\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\telse { reject(err); }\n\t\t});\n\t});\n}\n\nmodule.exports = {\n\t// Send action message (/me <message>) on a channel..\n\taction(channel, message) {\n\t\tchannel = _.channel(channel);\n\t\tmessage = `\\u0001ACTION ${message}\\u0001`;\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, _reject) => {\n\t\t\t// At this time, there is no possible way to detect if a message has been sent has been eaten\n\t\t\t// by the server, so we can only resolve the Promise.\n\t\t\tresolve([ channel, message ]);\n\t\t});\n\t},\n\n\t// Ban username on channel..\n\tban(channel, username, reason) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\treason = _.get(reason, '');\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/ban ${username} ${reason}`, (resolve, reject) => {\n\t\t\t// Received _promiseBan event, resolve or reject..\n\t\t\tthis.once('_promiseBan', err => {\n\t\t\t\tif(!err) { resolve([ channel, username, reason ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Clear all messages on a channel..\n\tclear(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/clear', (resolve, reject) => {\n\t\t\t// Received _promiseClear event, resolve or reject..\n\t\t\tthis.once('_promiseClear', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Change the color of your username..\n\tcolor(channel, newColor) {\n\t\tnewColor = _.get(newColor, channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, '#tmijs', `/color ${newColor}`, (resolve, reject) => {\n\t\t\t// Received _promiseColor event, resolve or reject..\n\t\t\tthis.once('_promiseColor', err => {\n\t\t\t\tif(!err) { resolve([ newColor ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Run commercial on a channel for X seconds..\n\tcommercial(channel, seconds) {\n\t\tchannel = _.channel(channel);\n\t\tseconds = _.get(seconds, 30);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/commercial ${seconds}`, (resolve, reject) => {\n\t\t\t// Received _promiseCommercial event, resolve or reject..\n\t\t\tthis.once('_promiseCommercial', err => {\n\t\t\t\tif(!err) { resolve([ channel, ~~seconds ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\t\n\t// Delete a specific message on a channel\n\tdeletemessage(channel, messageUUID) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/delete ${messageUUID}`, (resolve, reject) => {\n\t\t\t// Received _promiseDeletemessage event, resolve or reject..\n\t\t\tthis.once('_promiseDeletemessage', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Enable emote-only mode on a channel..\n\temoteonly(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/emoteonly', (resolve, reject) => {\n\t\t\t// Received _promiseEmoteonly event, resolve or reject..\n\t\t\tthis.once('_promiseEmoteonly', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Disable emote-only mode on a channel..\n\temoteonlyoff(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/emoteonlyoff', (resolve, reject) => {\n\t\t\t// Received _promiseEmoteonlyoff event, resolve or reject..\n\t\t\tthis.once('_promiseEmoteonlyoff', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Enable followers-only mode on a channel..\n\tfollowersonly,\n\n\t// Alias for followersonly()..\n\tfollowersmode: followersonly,\n\n\t// Disable followers-only mode on a channel..\n\tfollowersonlyoff,\n\n\t// Alias for followersonlyoff()..\n\tfollowersmodeoff: followersonlyoff,\n\n\t// Host a channel..\n\thost(channel, target) {\n\t\tchannel = _.channel(channel);\n\t\ttarget = _.username(target);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(2000, channel, `/host ${target}`, (resolve, reject) => {\n\t\t\t// Received _promiseHost event, resolve or reject..\n\t\t\tthis.once('_promiseHost', (err, remaining) => {\n\t\t\t\tif(!err) { resolve([ channel, target, ~~remaining ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Join a channel..\n\tjoin(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server ..\n\t\treturn this._sendCommand(undefined, null, `JOIN ${channel}`, (resolve, reject) => {\n\t\t\tconst eventName = '_promiseJoin';\n\t\t\tlet hasFulfilled = false;\n\t\t\tconst listener = (err, joinedChannel) => {\n\t\t\t\tif(channel === _.channel(joinedChannel)) {\n\t\t\t\t\t// Received _promiseJoin event for the target channel, resolve or reject..\n\t\t\t\t\tthis.removeListener(eventName, listener);\n\t\t\t\t\thasFulfilled = true;\n\t\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\t\telse { reject(err); }\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.on(eventName, listener);\n\t\t\t// Race the Promise against a delay..\n\t\t\tconst delay = this._getPromiseDelay();\n\t\t\t_.promiseDelay(delay).then(() => {\n\t\t\t\tif(!hasFulfilled) {\n\t\t\t\t\tthis.emit(eventName, 'No response from Twitch.', channel);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t// Mod username on channel..\n\tmod(channel, username) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/mod ${username}`, (resolve, reject) => {\n\t\t\t// Received _promiseMod event, resolve or reject..\n\t\t\tthis.once('_promiseMod', err => {\n\t\t\t\tif(!err) { resolve([ channel, username ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Get list of mods on a channel..\n\tmods(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/mods', (resolve, reject) => {\n\t\t\t// Received _promiseMods event, resolve or reject..\n\t\t\tthis.once('_promiseMods', (err, mods) => {\n\t\t\t\tif(!err) {\n\t\t\t\t\t// Update the internal list of moderators..\n\t\t\t\t\tmods.forEach(username => {\n\t\t\t\t\t\tif(!this.moderators[channel]) { this.moderators[channel] = []; }\n\t\t\t\t\t\tif(!this.moderators[channel].includes(username)) { this.moderators[channel].push(username); }\n\t\t\t\t\t});\n\t\t\t\t\tresolve(mods);\n\t\t\t\t}\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Leave a channel..\n\tpart,\n\n\t// Alias for part()..\n\tleave: part,\n\n\t// Send a ping to the server..\n\tping() {\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, null, 'PING', (resolve, _reject) => {\n\t\t\t// Update the internal ping timeout check interval..\n\t\t\tthis.latency = new Date();\n\t\t\tthis.pingTimeout = setTimeout(() => {\n\t\t\t\tif(this.ws !== null) {\n\t\t\t\t\tthis.wasCloseCalled = false;\n\t\t\t\t\tthis.log.error('Ping timeout.');\n\t\t\t\t\tthis.ws.close();\n\n\t\t\t\t\tclearInterval(this.pingLoop);\n\t\t\t\t\tclearTimeout(this.pingTimeout);\n\t\t\t\t}\n\t\t\t}, _.get(this.opts.connection.timeout, 9999));\n\n\t\t\t// Received _promisePing event, resolve or reject..\n\t\t\tthis.once('_promisePing', latency => resolve([ parseFloat(latency) ]));\n\t\t});\n\t},\n\n\t// Enable R9KBeta mode on a channel..\n\tr9kbeta,\n\n\t// Alias for r9kbeta()..\n\tr9kmode: r9kbeta,\n\n\t// Disable R9KBeta mode on a channel..\n\tr9kbetaoff,\n\n\t// Alias for r9kbetaoff()..\n\tr9kmodeoff: r9kbetaoff,\n\n\t// Send a raw message to the server..\n\traw(message) {\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, null, message, (resolve, _reject) => {\n\t\t\tresolve([ message ]);\n\t\t});\n\t},\n\n\t// Send a message on a channel..\n\tsay(channel, message) {\n\t\tchannel = _.channel(channel);\n\n\t\tif((message.startsWith('.') && !message.startsWith('..')) || message.startsWith('/') || message.startsWith('\\\\')) {\n\t\t\t// Check if the message is an action message..\n\t\t\tif(message.substr(1, 3) === 'me ') {\n\t\t\t\treturn this.action(channel, message.substr(4));\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Send the command to the server and race the Promise against a delay..\n\t\t\t\treturn this._sendCommand(null, channel, message, (resolve, _reject) => {\n\t\t\t\t\t// At this time, there is no possible way to detect if a message has been sent has been eaten\n\t\t\t\t\t// by the server, so we can only resolve the Promise.\n\t\t\t\t\tresolve([ channel, message ]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, _reject) => {\n\t\t\t// At this time, there is no possible way to detect if a message has been sent has been eaten\n\t\t\t// by the server, so we can only resolve the Promise.\n\t\t\tresolve([ channel, message ]);\n\t\t});\n\t},\n\n\t// Enable slow mode on a channel..\n\tslow,\n\n\t// Alias for slow()..\n\tslowmode: slow,\n\n\t// Disable slow mode on a channel..\n\tslowoff,\n\n\t// Alias for slowoff()..\n\tslowmodeoff: slowoff,\n\n\t// Enable subscribers mode on a channel..\n\tsubscribers(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/subscribers', (resolve, reject) => {\n\t\t\t// Received _promiseSubscribers event, resolve or reject..\n\t\t\tthis.once('_promiseSubscribers', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Disable subscribers mode on a channel..\n\tsubscribersoff(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/subscribersoff', (resolve, reject) => {\n\t\t\t// Received _promiseSubscribersoff event, resolve or reject..\n\t\t\tthis.once('_promiseSubscribersoff', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Timeout username on channel for X seconds..\n\ttimeout(channel, username, seconds, reason) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\n\t\tif(seconds !== null && !_.isInteger(seconds)) {\n\t\t\treason = seconds;\n\t\t\tseconds = 300;\n\t\t}\n\n\t\tseconds = _.get(seconds, 300);\n\t\treason = _.get(reason, '');\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/timeout ${username} ${seconds} ${reason}`, (resolve, reject) => {\n\t\t\t// Received _promiseTimeout event, resolve or reject..\n\t\t\tthis.once('_promiseTimeout', err => {\n\t\t\t\tif(!err) { resolve([ channel, username, ~~seconds, reason ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Unban username on channel..\n\tunban(channel, username) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/unban ${username}`, (resolve, reject) => {\n\t\t\t// Received _promiseUnban event, resolve or reject..\n\t\t\tthis.once('_promiseUnban', err => {\n\t\t\t\tif(!err) { resolve([ channel, username ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// End the current hosting..\n\tunhost(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(2000, channel, '/unhost', (resolve, reject) => {\n\t\t\t// Received _promiseUnhost event, resolve or reject..\n\t\t\tthis.once('_promiseUnhost', err => {\n\t\t\t\tif(!err) { resolve([ channel ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Unmod username on channel..\n\tunmod(channel, username) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/unmod ${username}`, (resolve, reject) => {\n\t\t\t// Received _promiseUnmod event, resolve or reject..\n\t\t\tthis.once('_promiseUnmod', err => {\n\t\t\t\tif(!err) { resolve([ channel, username ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Unvip username on channel..\n\tunvip(channel, username) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/unvip ${username}`, (resolve, reject) => {\n\t\t\t// Received _promiseUnvip event, resolve or reject..\n\t\t\tthis.once('_promiseUnvip', err => {\n\t\t\t\tif(!err) { resolve([ channel, username ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Add username to VIP list on channel..\n\tvip(channel, username) {\n\t\tchannel = _.channel(channel);\n\t\tusername = _.username(username);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, `/vip ${username}`, (resolve, reject) => {\n\t\t\t// Received _promiseVip event, resolve or reject..\n\t\t\tthis.once('_promiseVip', err => {\n\t\t\t\tif(!err) { resolve([ channel, username ]); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Get list of VIPs on a channel..\n\tvips(channel) {\n\t\tchannel = _.channel(channel);\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, channel, '/vips', (resolve, reject) => {\n\t\t\t// Received _promiseVips event, resolve or reject..\n\t\t\tthis.once('_promiseVips', (err, vips) => {\n\t\t\t\tif(!err) { resolve(vips); }\n\t\t\t\telse { reject(err); }\n\t\t\t});\n\t\t});\n\t},\n\n\t// Send an whisper message to a user..\n\twhisper(username, message) {\n\t\tusername = _.username(username);\n\n\t\t// The server will not send a whisper to the account that sent it.\n\t\tif(username === this.getUsername()) {\n\t\t\treturn Promise.reject('Cannot send a whisper to the same account.');\n\t\t}\n\t\t// Send the command to the server and race the Promise against a delay..\n\t\treturn this._sendCommand(null, '#tmijs', `/w ${username} ${message}`, (_resolve, reject) => {\n\t\t\tthis.once('_promiseWhisper', err => {\n\t\t\t\tif (err) { reject(err); }\n\t\t\t});\n\t\t}).catch(err => {\n\t\t\t// Either an \"actual\" error occured or the timeout triggered\n\t\t\t// the latter means no errors have occured and we can resolve\n\t\t\t// else just elevate the error\n\t\t\tif(err && typeof err === 'string' && err.indexOf('No response from Twitch.') !== 0) {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tconst from = _.channel(username);\n\t\t\tconst userstate = Object.assign({\n\t\t\t\t'message-type': 'whisper',\n\t\t\t\t'message-id': null,\n\t\t\t\t'thread-id': null,\n\t\t\t\tusername: this.getUsername()\n\t\t\t}, this.globaluserstate);\n\n\t\t\t// Emit for both, whisper and message..\n\t\t\tthis.emits([ 'whisper', 'message' ], [\n\t\t\t\t[ from, userstate, message, true ],\n\t\t\t\t[ from, userstate, message, true ]\n\t\t\t]);\n\t\t\treturn [ username, message ];\n\t\t});\n\t}\n};\n","/* istanbul ignore file */\n/* eslint-disable */\n/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nfunction EventEmitter() {\n\tthis._events = this._events || {};\n\tthis._maxListeners = this._maxListeners || undefined;\n}\n\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n\tif (!isNumber(n) || n < 0 || isNaN(n)) {\n\t\tthrow TypeError(\"n must be a positive number\");\n\t}\n\n\tthis._maxListeners = n;\n\n\treturn this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n\tvar er, handler, len, args, i, listeners;\n\n\tif (!this._events) { this._events = {}; }\n\n\t// If there is no 'error' event listener then throw.\n\tif (type === \"error\") {\n\t\tif (!this._events.error || (isObject(this._events.error) && !this._events.error.length)) {\n\t\t\ter = arguments[1];\n\t\t\tif (er instanceof Error) { throw er; }\n\t\t\tthrow TypeError(\"Uncaught, unspecified \\\"error\\\" event.\");\n\t\t}\n\t}\n\n\thandler = this._events[type];\n\n\tif (isUndefined(handler)) { return false; }\n\n\tif (isFunction(handler)) {\n\t\tswitch (arguments.length) {\n\t\t\t// fast cases\n\t\t\tcase 1:\n\t\t\t\thandler.call(this);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\thandler.call(this, arguments[1]);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\thandler.call(this, arguments[1], arguments[2]);\n\t\t\t\tbreak;\n\t\t\t\t// slower\n\t\t\tdefault:\n\t\t\t\targs = Array.prototype.slice.call(arguments, 1);\n\t\t\t\thandler.apply(this, args);\n\t\t}\n\t} else if (isObject(handler)) {\n\t\targs = Array.prototype.slice.call(arguments, 1);\n\t\tlisteners = handler.slice();\n\t\tlen = listeners.length;\n\t\tfor (i = 0; i < len; i++) { listeners[i].apply(this, args); }\n\t}\n\n\treturn true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n\tvar m;\n\n\tif (!isFunction(listener)) { throw TypeError(\"listener must be a function\"); }\n\n\tif (!this._events) { this._events = {}; }\n\n\t// To avoid recursion in the case that type === \"newListener\"! Before\n\t// adding it to the listeners, first emit \"newListener\".\n\tif (this._events.newListener) {\n\t\tthis.emit(\"newListener\", type, isFunction(listener.listener) ? listener.listener : listener);\n\t}\n\n\t// Optimize the case of one listener. Don't need the extra array object.\n\tif (!this._events[type]) { this._events[type] = listener; }\n\t// If we've already got an array, just append.\n\telse if (isObject(this._events[type])) { this._events[type].push(listener); }\n\t// Adding the second element, need to change to array.\n\telse { this._events[type] = [this._events[type], listener]; }\n\n\t// Check for listener leak\n\tif (isObject(this._events[type]) && !this._events[type].warned) {\n\t\tif (!isUndefined(this._maxListeners)) {\n\t\t\tm = this._maxListeners;\n\t\t} else {\n\t\t\tm = EventEmitter.defaultMaxListeners;\n\t\t}\n\n\t\tif (m && m > 0 && this._events[type].length > m) {\n\t\t\tthis._events[type].warned = true;\n\t\t\tconsole.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\", this._events[type].length);\n\t\t\t// Not supported in IE 10\n\t\t\tif (typeof console.trace === \"function\") {\n\t\t\t\tconsole.trace();\n\t\t\t}\n\t\t}\n\t}\n\n\treturn this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n// Modified to support multiple calls..\nEventEmitter.prototype.once = function(type, listener) {\n\tif (!isFunction(listener)) { throw TypeError(\"listener must be a function\"); }\n\n\tvar fired = false;\n\n\tif (this._events.hasOwnProperty(type) && type.charAt(0) === \"_\") {\n\t\tvar count = 1;\n\t\tvar searchFor = type;\n\n\t\tfor (var k in this._events){\n\t\t\tif (this._events.hasOwnProperty(k) && k.startsWith(searchFor)) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\ttype = type + count;\n\t}\n\n\tfunction g() {\n\t\tif (type.charAt(0) === \"_\" && !isNaN(type.substr(type.length - 1))) {\n\t\t\ttype = type.substring(0, type.length - 1);\n\t\t}\n\t\tthis.removeListener(type, g);\n\n\t\tif (!fired) {\n\t\t\tfired = true;\n\t\t\tlistener.apply(this, arguments);\n\t\t}\n\t}\n\n\tg.listener = listener;\n\tthis.on(type, g);\n\n\treturn this;\n};\n\n// Emits a \"removeListener\" event if the listener was removed..\n// Modified to support multiple calls from .once()..\nEventEmitter.prototype.removeListener = function(type, listener) {\n\tvar list, position, length, i;\n\n\tif (!isFunction(listener)) { throw TypeError(\"listener must be a function\"); }\n\n\tif (!this._events || !this._events[type]) { return this; }\n\n\tlist = this._events[type];\n\tlength = list.length;\n\tposition = -1;\n\tif (list === listener || (isFunction(list.listener) && list.listener === listener)) {\n\t\tdelete this._events[type];\n\n\t\tif (this._events.hasOwnProperty(type + \"2\") && type.charAt(0) === \"_\") {\n\t\t\tvar searchFor = type;\n\t\t\tfor (var k in this._events){\n\t\t\t\tif (this._events.hasOwnProperty(k) && k.startsWith(searchFor)) {\n\t\t\t\t\tif (!isNaN(parseInt(k.substr(k.length - 1)))) {\n\t\t\t\t\t\tthis._events[type + parseInt(k.substr(k.length - 1) - 1)] = this._events[k];\n\t\t\t\t\t\tdelete this._events[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._events[type] = this._events[type + \"1\"];\n\t\t\tdelete this._events[type + \"1\"];\n\t\t}\n\t\tif (this._events.removeListener) { this.emit(\"removeListener\", type, listener); }\n\t}\n\telse if (isObject(list)) {\n\t\tfor (i = length; i-- > 0;) {\n\t\t\tif (list[i] === listener ||\n\t\t\t\t(list[i].listener && list[i].listener === listener)) {\n\t\t\t\tposition = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (position < 0) { return this; }\n\n\t\tif (list.length === 1) {\n\t\t\tlist.length = 0;\n\t\t\tdelete this._events[type];\n\t\t}\n\t\telse { list.splice(position, 1); }\n\n\t\tif (this._events.removeListener) { this.emit(\"removeListener\", type, listener); }\n\t}\n\n\treturn this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n\tvar key, listeners;\n\n\tif (!this._events) { return this; }\n\n\t// not listening for removeListener, no need to emit\n\tif (!this._events.removeListener) {\n\t\tif (arguments.length === 0) { this._events = {}; }\n\t\telse if (this._events[type]) { delete this._events[type]; }\n\t\treturn this;\n\t}\n\n\t// emit removeListener for all listeners on all events\n\tif (arguments.length === 0) {\n\t\tfor (key in this._events) {\n\t\t\tif (key === \"removeListener\") { continue; }\n\t\t\tthis.removeAllListeners(key);\n\t\t}\n\t\tthis.removeAllListeners(\"removeListener\");\n\t\tthis._events = {};\n\t\treturn this;\n\t}\n\n\tlisteners = this._events[type];\n\n\tif (isFunction(listeners)) { this.removeListener(type, listeners); }\n\telse if (listeners) { while (listeners.length) { this.removeListener(type, listeners[listeners.length - 1]); } }\n\tdelete this._events[type];\n\n\treturn this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n\tvar ret;\n\tif (!this._events || !this._events[type]) { ret = []; }\n\telse if (isFunction(this._events[type])) { ret = [this._events[type]]; }\n\telse { ret = this._events[type].slice(); }\n\treturn ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n\tif (this._events) {\n\t\tvar evlistener = this._events[type];\n\n\t\tif (isFunction(evlistener)) { return 1; }\n\t\telse if (evlistener) { return evlistener.length; }\n\t}\n\treturn 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n\treturn emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n\treturn typeof arg === \"function\";\n}\n\nfunction isNumber(arg) {\n\treturn typeof arg === \"number\";\n}\n\nfunction isObject(arg) {\n\treturn typeof arg === \"object\" && arg !== null;\n}\n\nfunction isUndefined(arg) {\n\treturn arg === void 0;\n}\n","const _ = require('./utils');\n\nlet currentLevel = 'info';\nconst levels = { 'trace': 0, 'debug': 1, 'info': 2, 'warn': 3, 'error': 4, 'fatal': 5 };\n\n// Logger implementation..\nfunction log(level) {\n\t// Return a console message depending on the logging level..\n\treturn function(message) {\n\t\tif(levels[level] >= levels[currentLevel]) {\n\t\t\tconsole.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\t// Change the current logging level..\n\tsetLevel(level) {\n\t\tcurrentLevel = level;\n\t},\n\ttrace: log('trace'),\n\tdebug: log('debug'),\n\tinfo: log('info'),\n\twarn: log('warn'),\n\terror: log('error'),\n\tfatal: log('fatal')\n};\n","/*\r\n\tCopyright (c) 2013-2015, Fionn Kelleher All rights reserved.\r\n\r\n\tRedistribution and use in source and binary forms, with or without modification,\r\n\tare permitted provided that the following conditions are met:\r\n\r\n\t\tRedistributions of source code must retain the above copyright notice,\r\n\t\tthis list of conditions and the following disclaimer.\r\n\r\n\t\tRedistributions in binary form must reproduce the above copyright notice,\r\n\t\tthis list of conditions and the following disclaimer in the documentation and/or other materials\r\n\t\tprovided with the distribution.\r\n\r\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n\tANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n\tWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\r\n\tIN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\r\n\tINDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n\t(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\r\n\tOR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n\tWHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n\tARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY\r\n\tOF SUCH DAMAGE.\r\n*/\r\nconst _ = require('./utils');\r\nconst nonspaceRegex = /\\S+/g;\r\n\r\nfunction parseComplexTag(tags, tagKey, splA = ',', splB = '/', splC) {\r\n\tconst raw = tags[tagKey];\r\n\t\r\n\tif(raw === undefined) {\r\n\t\treturn tags;\r\n\t}\r\n\r\n\tconst tagIsString = typeof raw === 'string';\r\n\ttags[tagKey + '-raw'] = tagIsString ? raw : null;\r\n\r\n\tif(raw === true) {\r\n\t\ttags[tagKey] = null;\r\n\t\treturn tags;\r\n\t}\r\n\r\n\ttags[tagKey] = {};\r\n\r\n\tif(tagIsString) {\r\n\t\tconst spl = raw.split(splA);\r\n\r\n\t\tfor (let i = 0; i < spl.length; i++) {\r\n\t\t\tconst parts = spl[i].split(splB);\r\n\t\t\tlet val = parts[1];\r\n\t\t\tif(splC !== undefined && val) {\r\n\t\t\t\tval = val.split(splC);\r\n\t\t\t}\r\n\t\t\ttags[tagKey][parts[0]] = val || null;\r\n\t\t}\r\n\t}\r\n\treturn tags;\r\n}\r\n\r\nmodule.exports = {\r\n\t// Parse Twitch badges..\r\n\tbadges: tags => parseComplexTag(tags, 'badges'),\r\n\r\n\t// Parse Twitch badge-info..\r\n\tbadgeInfo: tags => parseComplexTag(tags, 'badge-info'),\r\n\r\n\t// Parse Twitch emotes..\r\n\temotes: tags => parseComplexTag(tags, 'emotes', '/', ':', ','),\r\n\r\n\t// Parse regex emotes..\r\n\temoteRegex(msg, code, id, obj) {\r\n\t\tnonspaceRegex.lastIndex = 0;\r\n\t\tconst regex = new RegExp('(\\\\b|^|\\\\s)' + _.unescapeHtml(code) + '(\\\\b|$|\\\\s)');\r\n\t\tlet match;\r\n\r\n\t\t// Check if emote code matches using RegExp and push it to the object..\r\n\t\twhile ((match = nonspaceRegex.exec(msg)) !== null) {\r\n\t\t\tif(regex.test(match[0])) {\r\n\t\t\t\tobj[id] = obj[id] || [];\r\n\t\t\t\tobj[id].push([ match.index, nonspaceRegex.lastIndex - 1 ]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Parse string emotes..\r\n\temoteString(msg, code, id, obj) {\r\n\t\tnonspaceRegex.lastIndex = 0;\r\n\t\tlet match;\r\n\r\n\t\t// Check if emote code matches and push it to the object..\r\n\t\twhile ((match = nonspaceRegex.exec(msg)) !== null) {\r\n\t\t\tif(match[0] === _.unescapeHtml(code)) {\r\n\t\t\t\tobj[id] = obj[id] || [];\r\n\t\t\t\tobj[id].push([ match.index, nonspaceRegex.lastIndex - 1 ]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Transform the emotes object to a string with the following format..\r\n\t// emote_id:first_index-last_index,another_first-another_last/another_emote_id:first_index-last_index\r\n\ttransformEmotes(emotes) {\r\n\t\tlet transformed = '';\r\n\r\n\t\tObject.keys(emotes).forEach(id => {\r\n\t\t\ttransformed = `${transformed+id}:`;\r\n\t\t\temotes[id].forEach(\r\n\t\t\t\tindex => transformed = `${transformed+index.join('-')},`\r\n\t\t\t);\r\n\t\t\ttransformed = `${transformed.slice(0, -1)}/`;\r\n\t\t});\r\n\t\treturn transformed.slice(0, -1);\r\n\t},\r\n\r\n\tformTags(tags) {\r\n\t\tconst result = [];\r\n\t\tfor(const key in tags) {\r\n\t\t\tconst value = _.escapeIRC(tags[key]);\r\n\t\t\tresult.push(`${key}=${value}`);\r\n\t\t}\r\n\t\treturn `@${result.join(';')}`;\r\n\t},\r\n\r\n\t// Parse Twitch messages..\r\n\tmsg(data) {\r\n\t\tconst message = {\r\n\t\t\traw: data,\r\n\t\t\ttags: {},\r\n\t\t\tprefix: null,\r\n\t\t\tcommand: null,\r\n\t\t\tparams: []\r\n\t\t};\r\n\r\n\t\t// Position and nextspace are used by the parser as a reference..\r\n\t\tlet position = 0;\r\n\t\tlet nextspace = 0;\r\n\r\n\t\t// The first thing we check for is IRCv3.2 message tags.\r\n\t\t// http://ircv3.atheme.org/specification/message-tags-3.2\r\n\t\tif(data.charCodeAt(0) === 64) {\r\n\t\t\tnextspace = data.indexOf(' ');\r\n\r\n\t\t\t// Malformed IRC message..\r\n\t\t\tif(nextspace === -1) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Tags are split by a semi colon..\r\n\t\t\tconst rawTags = data.slice(1, nextspace).split(';');\r\n\r\n\t\t\tfor (let i = 0; i < rawTags.length; i++) {\r\n\t\t\t\t// Tags delimited by an equals sign are key=value tags.\r\n\t\t\t\t// If there's no equals, we assign the tag a value of true.\r\n\t\t\t\tconst tag = rawTags[i];\r\n\t\t\t\tconst pair = tag.split('=');\r\n\t\t\t\tmessage.tags[pair[0]] = tag.substring(tag.indexOf('=') + 1) || true;\r\n\t\t\t}\r\n\r\n\t\t\tposition = nextspace + 1;\r\n\t\t}\r\n\r\n\t\t// Skip any trailing whitespace..\r\n\t\twhile (data.charCodeAt(position) === 32) {\r\n\t\t\tposition++;\r\n\t\t}\r\n\r\n\t\t// Extract the message's prefix if present. Prefixes are prepended with a colon..\r\n\t\tif(data.charCodeAt(position) === 58) {\r\n\t\t\tnextspace = data.indexOf(' ', position);\r\n\r\n\t\t\t// If there's nothing after the prefix, deem this message to be malformed.\r\n\t\t\tif(nextspace === -1) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\tmessage.prefix = data.slice(position + 1, nextspace);\r\n\t\t\tposition = nextspace + 1;\r\n\r\n\t\t\t// Skip any trailing whitespace..\r\n\t\t\twhile (data.charCodeAt(position) === 32) {\r\n\t\t\t\tposition++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tnextspace = data.indexOf(' ', position);\r\n\r\n\t\t// If there's no more whitespace left, extract everything from the\r\n\t\t// current position to the end of the string as the command..\r\n\t\tif(nextspace === -1) {\r\n\t\t\tif(data.length > position) {\r\n\t\t\t\tmessage.command = data.slice(position);\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t// Else, the command is the current position up to the next space. After\r\n\t\t// that, we expect some parameters.\r\n\t\tmessage.command = data.slice(position, nextspace);\r\n\r\n\t\tposition = nextspace + 1;\r\n\r\n\t\t// Skip any trailing whitespace..\r\n\t\twhile (data.charCodeAt(position) === 32) {\r\n\t\t\tposition++;\r\n\t\t}\r\n\r\n\t\twhile (position < data.length) {\r\n\t\t\tnextspace = data.indexOf(' ', position);\r\n\r\n\t\t\t// If the character is a colon, we've got a trailing parameter.\r\n\t\t\t// At this point, there are no extra params, so we push everything\r\n\t\t\t// from after the colon to the end of the string, to the params array\r\n\t\t\t// and break out of the loop.\r\n\t\t\tif(data.charCodeAt(position) === 58) {\r\n\t\t\t\tmessage.params.push(data.slice(position + 1));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// If we still have some whitespace...\r\n\t\t\tif(nextspace !== -1) {\r\n\t\t\t\t// Push whatever's between the current position and the next\r\n\t\t\t\t// space to the params array.\r\n\t\t\t\tmessage.params.push(data.slice(position, nextspace));\r\n\t\t\t\tposition = nextspace + 1;\r\n\r\n\t\t\t\t// Skip any trailing whitespace and continue looping.\r\n\t\t\t\twhile (data.charCodeAt(position) === 32) {\r\n\t\t\t\t\tposition++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If we don't have any more whitespace and the param isn't trailing,\r\n\t\t\t// push everything remaining to the params array.\r\n\t\t\tif(nextspace === -1) {\r\n\t\t\t\tmessage.params.push(data.slice(position));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn message;\r\n\t}\r\n};\r\n","// Initialize the queue with a specific delay..\nclass Queue {\n\tconstructor(defaultDelay) {\n\t\tthis.queue = [];\n\t\tthis.index = 0;\n\t\tthis.defaultDelay = defaultDelay === undefined ? 3000 : defaultDelay;\n\t}\n\t// Add a new function to the queue..\n\tadd(fn, delay) {\n\t\tthis.queue.push({ fn, delay });\n\t}\n\t// Go to the next in queue..\n\tnext() {\n\t\tconst i = this.index++;\n\t\tconst at = this.queue[i];\n\t\tif(!at) {\n\t\t\treturn;\n\t\t}\n\t\tconst next = this.queue[this.index];\n\t\tat.fn();\n\t\tif(next) {\n\t\t\tconst delay = next.delay === undefined ? this.defaultDelay : next.delay;\n\t\t\tsetTimeout(() => this.next(), delay);\n\t\t}\n\t}\n}\n\nmodule.exports = Queue;\n","// eslint-disable-next-line no-control-regex\nconst actionMessageRegex = /^\\u0001ACTION ([^\\u0001]+)\\u0001$/;\nconst justinFanRegex = /^(justinfan)(\\d+$)/;\nconst unescapeIRCRegex = /\\\\([sn:r\\\\])/g;\nconst escapeIRCRegex = /([ \\n;\\r\\\\])/g;\nconst ircEscapedChars = { s: ' ', n: '', ':': ';', r: '' };\nconst ircUnescapedChars = { ' ': 's', '\\n': 'n', ';': ':', '\\r': 'r' };\nconst urlRegex = new RegExp('^(?:(?:https?|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?)(?::\\\\d{2,5})?(?:[/?#]\\\\S*)?$', 'i');\nconst regexEmoteRegex = /[|\\\\^$*+?:#]/;\nconst _ = module.exports = {\n\t// Return the second value if the first value is undefined..\n\tget: (a, b) => typeof a === 'undefined' ? b : a,\n\n\t// Indirectly use hasOwnProperty\n\thasOwn: (obj, key) => ({}).hasOwnProperty.call(obj, key),\n\n\t// Race a promise against a delay..\n\tpromiseDelay: time => new Promise(resolve => setTimeout(resolve, time)),\n\n\t// Value is a finite number..\n\tisFinite: int => isFinite(int) && !isNaN(parseFloat(int)),\n\n\t// Parse string to number. Returns NaN if string can't be parsed to number..\n\ttoNumber(num, precision) {\n\t\tif(num === null) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst factor = Math.pow(10, _.isFinite(precision) ? precision : 0);\n\t\treturn Math.round(num * factor) / factor;\n\t},\n\n\t// Value is an integer..\n\tisInteger: int => !isNaN(_.toNumber(int, 0)),\n\n\t// Value is a regex..\n\tisRegex: str => regexEmoteRegex.test(str),\n\n\t// Value is a valid url..\n\tisURL: str => urlRegex.test(str),\n\n\t// Return a random justinfan username..\n\tjustinfan: () => `justinfan${Math.floor((Math.random() * 80000) + 1000)}`,\n\n\t// Username is a justinfan username..\n\tisJustinfan: username => justinFanRegex.test(username),\n\n\t// Return a valid channel name..\n\tchannel(str) {\n\t\tconst channel = (str ? str : '').toLowerCase();\n\t\treturn channel[0] === '#' ? channel : '#' + channel;\n\t},\n\n\t// Return a valid username..\n\tusername(str) {\n\t\tconst username = (str ? str : '').toLowerCase();\n\t\treturn username[0] === '#' ? username.slice(1) : username;\n\t},\n\n\t// Return a valid token..\n\ttoken: str => str ? str.toLowerCase().replace('oauth:', '') : '',\n\n\t// Return a valid password..\n\tpassword(str) {\n\t\tconst token = _.token(str);\n\t\treturn token ? `oauth:${token}` : '';\n\t},\n\n\tactionMessage: msg => msg.match(actionMessageRegex),\n\n\t// Replace all occurences of a string using an object..\n\treplaceAll(str, obj) {\n\t\tif(str === null || typeof str === 'undefined') {\n\t\t\treturn null;\n\t\t}\n\t\tfor (const x in obj) {\n\t\t\tstr = str.replace(new RegExp(x, 'g'), obj[x]);\n\t\t}\n\t\treturn str;\n\t},\n\n\tunescapeHtml: safe =>\n\t\tsafe.replace(/\\\\&amp\\\\;/g, '&')\n\t\t.replace(/\\\\&lt\\\\;/g, '<')\n\t\t.replace(/\\\\&gt\\\\;/g, '>')\n\t\t.replace(/\\\\&quot\\\\;/g, '\"')\n\t\t.replace(/\\\\&#039\\\\;/g, '\\''),\n\n\t// Escaping values:\n\t// http://ircv3.net/specs/core/message-tags-3.2.html#escaping-values\n\tunescapeIRC(msg) {\n\t\tif(!msg || typeof msg !== 'string' || !msg.includes('\\\\')) {\n\t\t\treturn msg;\n\t\t}\n\t\treturn msg.replace(\n\t\t\tunescapeIRCRegex,\n\t\t\t(m, p) => p in ircEscapedChars ? ircEscapedChars[p] : p\n\t\t);\n\t},\n\t\n\tescapeIRC(msg) {\n\t\tif(!msg || typeof msg !== 'string') {\n\t\t\treturn msg;\n\t\t}\n\t\treturn msg.replace(\n\t\t\tescapeIRCRegex,\n\t\t\t(m, p) => p in ircUnescapedChars ? `\\\\${ircUnescapedChars[p]}` : p\n\t\t);\n\t},\n\n\t// Add word to a string..\n\taddWord: (line, word) => line.length ? line + ' ' + word : line + word,\n\n\t// Split a line but try not to cut a word in half..\n\tsplitLine(input, length) {\n\t\tlet lastSpace = input.substring(0, length).lastIndexOf(' ');\n\t\t// No spaces found, split at the very end to avoid a loop..\n\t\tif(lastSpace === -1) {\n\t\t\tlastSpace = length - 1;\n\t\t}\n\t\treturn [ input.substring(0, lastSpace), input.substring(lastSpace + 1) ];\n\t},\n\n\t// Extract a number from a string..\n\textractNumber(str) {\n\t\tconst parts = str.split(' ');\n\t\tfor (let i = 0; i < parts.length; i++) {\n\t\t\tif(_.isInteger(parts[i])) {\n\t\t\t\treturn ~~parts[i];\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Format the date..\n\tformatDate(date) {\n\t\tlet hours = date.getHours();\n\t\tlet mins  = date.getMinutes();\n\n\t\thours = (hours < 10 ? '0' : '') + hours;\n\t\tmins = (mins < 10 ? '0' : '') + mins;\n\t\treturn `${hours}:${mins}`;\n\t},\n\n\t// Inherit the prototype methods from one constructor into another..\n\tinherits(ctor, superCtor) {\n\t\tctor.super_ = superCtor;\n\t\tconst TempCtor = function () {};\n\t\tTempCtor.prototype = superCtor.prototype;\n\t\tctor.prototype = new TempCtor();\n\t\tctor.prototype.constructor = ctor;\n\t},\n\n\t// Return whether inside a Node application or not..\n\tisNode() {\n\t\ttry {\n\t\t\treturn typeof process === 'object' &&\n\t\t\t\tObject.prototype.toString.call(process) === '[object process]';\n\t\t} catch(e) {}\n\t\treturn false;\n\t}\n};\n","import seedrandom from \"seedrandom\";\n\n// Export the word list as it is often useful\nexport const wordList = [\n  \"ability\",\n  \"able\",\n  \"aboard\",\n  \"about\",\n  \"above\",\n  \"accept\",\n  \"accident\",\n  \"according\",\n  \"account\",\n  \"accurate\",\n  \"acres\",\n  \"across\",\n  \"act\",\n  \"action\",\n  \"active\",\n  \"activity\",\n  \"actual\",\n  \"actually\",\n  \"add\",\n  \"addition\",\n  \"additional\",\n  \"adjective\",\n  \"adult\",\n  \"adventure\",\n  \"advice\",\n  \"affect\",\n  \"afraid\",\n  \"after\",\n  \"afternoon\",\n  \"again\",\n  \"against\",\n  \"age\",\n  \"ago\",\n  \"agree\",\n  \"ahead\",\n  \"aid\",\n  \"air\",\n  \"airplane\",\n  \"alike\",\n  \"alive\",\n  \"all\",\n  \"allow\",\n  \"almost\",\n  \"alone\",\n  \"along\",\n  \"aloud\",\n  \"alphabet\",\n  \"already\",\n  \"also\",\n  \"although\",\n  \"am\",\n  \"among\",\n  \"amount\",\n  \"ancient\",\n  \"angle\",\n  \"angry\",\n  \"animal\",\n  \"announced\",\n  \"another\",\n  \"answer\",\n  \"ants\",\n  \"any\",\n  \"anybody\",\n  \"anyone\",\n  \"anything\",\n  \"anyway\",\n  \"anywhere\",\n  \"apart\",\n  \"apartment\",\n  \"appearance\",\n  \"apple\",\n  \"applied\",\n  \"appropriate\",\n  \"are\",\n  \"area\",\n  \"arm\",\n  \"army\",\n  \"around\",\n  \"arrange\",\n  \"arrangement\",\n  \"arrive\",\n  \"arrow\",\n  \"art\",\n  \"article\",\n  \"as\",\n  \"aside\",\n  \"ask\",\n  \"asleep\",\n  \"at\",\n  \"ate\",\n  \"atmosphere\",\n  \"atom\",\n  \"atomic\",\n  \"attached\",\n  \"attack\",\n  \"attempt\",\n  \"attention\",\n  \"audience\",\n  \"author\",\n  \"automobile\",\n  \"available\",\n  \"average\",\n  \"avoid\",\n  \"aware\",\n  \"away\",\n  \"baby\",\n  \"back\",\n  \"bad\",\n  \"badly\",\n  \"bag\",\n  \"balance\",\n  \"ball\",\n  \"balloon\",\n  \"band\",\n  \"bank\",\n  \"bar\",\n  \"bare\",\n  \"bark\",\n  \"barn\",\n  \"base\",\n  \"baseball\",\n  \"basic\",\n  \"basis\",\n  \"basket\",\n  \"bat\",\n  \"battle\",\n  \"be\",\n  \"bean\",\n  \"bear\",\n  \"beat\",\n  \"beautiful\",\n  \"beauty\",\n  \"became\",\n  \"because\",\n  \"become\",\n  \"becoming\",\n  \"bee\",\n  \"been\",\n  \"before\",\n  \"began\",\n  \"beginning\",\n  \"begun\",\n  \"behavior\",\n  \"behind\",\n  \"being\",\n  \"believed\",\n  \"bell\",\n  \"belong\",\n  \"below\",\n  \"belt\",\n  \"bend\",\n  \"beneath\",\n  \"bent\",\n  \"beside\",\n  \"best\",\n  \"bet\",\n  \"better\",\n  \"between\",\n  \"beyond\",\n  \"bicycle\",\n  \"bigger\",\n  \"biggest\",\n  \"bill\",\n  \"birds\",\n  \"birth\",\n  \"birthday\",\n  \"bit\",\n  \"bite\",\n  \"black\",\n  \"blank\",\n  \"blanket\",\n  \"blew\",\n  \"blind\",\n  \"block\",\n  \"blood\",\n  \"blow\",\n  \"blue\",\n  \"board\",\n  \"boat\",\n  \"body\",\n  \"bone\",\n  \"book\",\n  \"border\",\n  \"born\",\n  \"both\",\n  \"bottle\",\n  \"bottom\",\n  \"bound\",\n  \"bow\",\n  \"bowl\",\n  \"box\",\n  \"boy\",\n  \"brain\",\n  \"branch\",\n  \"brass\",\n  \"brave\",\n  \"bread\",\n  \"break\",\n  \"breakfast\",\n  \"breath\",\n  \"breathe\",\n  \"breathing\",\n  \"breeze\",\n  \"brick\",\n  \"bridge\",\n  \"brief\",\n  \"bright\",\n  \"bring\",\n  \"broad\",\n  \"broke\",\n  \"broken\",\n  \"brother\",\n  \"brought\",\n  \"brown\",\n  \"brush\",\n  \"buffalo\",\n  \"build\",\n  \"building\",\n  \"built\",\n  \"buried\",\n  \"burn\",\n  \"burst\",\n  \"bus\",\n  \"bush\",\n  \"business\",\n  \"busy\",\n  \"but\",\n  \"butter\",\n  \"buy\",\n  \"by\",\n  \"cabin\",\n  \"cage\",\n  \"cake\",\n  \"call\",\n  \"calm\",\n  \"came\",\n  \"camera\",\n  \"camp\",\n  \"can\",\n  \"canal\",\n  \"cannot\",\n  \"cap\",\n  \"capital\",\n  \"captain\",\n  \"captured\",\n  \"car\",\n  \"carbon\",\n  \"card\",\n  \"care\",\n  \"careful\",\n  \"carefully\",\n  \"carried\",\n  \"carry\",\n  \"case\",\n  \"cast\",\n  \"castle\",\n  \"cat\",\n  \"catch\",\n  \"cattle\",\n  \"caught\",\n  \"cause\",\n  \"cave\",\n  \"cell\",\n  \"cent\",\n  \"center\",\n  \"central\",\n  \"century\",\n  \"certain\",\n  \"certainly\",\n  \"chain\",\n  \"chair\",\n  \"chamber\",\n  \"chance\",\n  \"change\",\n  \"changing\",\n  \"chapter\",\n  \"character\",\n  \"characteristic\",\n  \"charge\",\n  \"chart\",\n  \"check\",\n  \"cheese\",\n  \"chemical\",\n  \"chest\",\n  \"chicken\",\n  \"chief\",\n  \"child\",\n  \"children\",\n  \"choice\",\n  \"choose\",\n  \"chose\",\n  \"chosen\",\n  \"church\",\n  \"circle\",\n  \"circus\",\n  \"citizen\",\n  \"city\",\n  \"class\",\n  \"classroom\",\n  \"claws\",\n  \"clay\",\n  \"clean\",\n  \"clear\",\n  \"clearly\",\n  \"climate\",\n  \"climb\",\n  \"clock\",\n  \"close\",\n  \"closely\",\n  \"closer\",\n  \"cloth\",\n  \"clothes\",\n  \"clothing\",\n  \"cloud\",\n  \"club\",\n  \"coach\",\n  \"coal\",\n  \"coast\",\n  \"coat\",\n  \"coffee\",\n  \"cold\",\n  \"collect\",\n  \"college\",\n  \"colony\",\n  \"color\",\n  \"column\",\n  \"combination\",\n  \"combine\",\n  \"come\",\n  \"comfortable\",\n  \"coming\",\n  \"command\",\n  \"common\",\n  \"community\",\n  \"company\",\n  \"compare\",\n  \"compass\",\n  \"complete\",\n  \"completely\",\n  \"complex\",\n  \"composed\",\n  \"composition\",\n  \"compound\",\n  \"concerned\",\n  \"condition\",\n  \"congress\",\n  \"connected\",\n  \"consider\",\n  \"consist\",\n  \"consonant\",\n  \"constantly\",\n  \"construction\",\n  \"contain\",\n  \"continent\",\n  \"continued\",\n  \"contrast\",\n  \"control\",\n  \"conversation\",\n  \"cook\",\n  \"cookies\",\n  \"cool\",\n  \"copper\",\n  \"copy\",\n  \"corn\",\n  \"corner\",\n  \"correct\",\n  \"correctly\",\n  \"cost\",\n  \"cotton\",\n  \"could\",\n  \"count\",\n  \"country\",\n  \"couple\",\n  \"courage\",\n  \"course\",\n  \"court\",\n  \"cover\",\n  \"cow\",\n  \"cowboy\",\n  \"crack\",\n  \"cream\",\n  \"create\",\n  \"creature\",\n  \"crew\",\n  \"crop\",\n  \"cross\",\n  \"crowd\",\n  \"cry\",\n  \"cup\",\n  \"curious\",\n  \"current\",\n  \"curve\",\n  \"customs\",\n  \"cut\",\n  \"cutting\",\n  \"daily\",\n  \"damage\",\n  \"dance\",\n  \"danger\",\n  \"dangerous\",\n  \"dark\",\n  \"darkness\",\n  \"date\",\n  \"daughter\",\n  \"dawn\",\n  \"day\",\n  \"dead\",\n  \"deal\",\n  \"dear\",\n  \"death\",\n  \"decide\",\n  \"declared\",\n  \"deep\",\n  \"deeply\",\n  \"deer\",\n  \"definition\",\n  \"degree\",\n  \"depend\",\n  \"depth\",\n  \"describe\",\n  \"desert\",\n  \"design\",\n  \"desk\",\n  \"detail\",\n  \"determine\",\n  \"develop\",\n  \"development\",\n  \"diagram\",\n  \"diameter\",\n  \"did\",\n  \"die\",\n  \"differ\",\n  \"difference\",\n  \"different\",\n  \"difficult\",\n  \"difficulty\",\n  \"dig\",\n  \"dinner\",\n  \"direct\",\n  \"direction\",\n  \"directly\",\n  \"dirt\",\n  \"dirty\",\n  \"disappear\",\n  \"discover\",\n  \"discovery\",\n  \"discuss\",\n  \"discussion\",\n  \"disease\",\n  \"dish\",\n  \"distance\",\n  \"distant\",\n  \"divide\",\n  \"division\",\n  \"do\",\n  \"doctor\",\n  \"does\",\n  \"dog\",\n  \"doing\",\n  \"doll\",\n  \"dollar\",\n  \"done\",\n  \"donkey\",\n  \"door\",\n  \"dot\",\n  \"double\",\n  \"doubt\",\n  \"down\",\n  \"dozen\",\n  \"draw\",\n  \"drawn\",\n  \"dream\",\n  \"dress\",\n  \"drew\",\n  \"dried\",\n  \"drink\",\n  \"drive\",\n  \"driven\",\n  \"driver\",\n  \"driving\",\n  \"drop\",\n  \"dropped\",\n  \"drove\",\n  \"dry\",\n  \"duck\",\n  \"due\",\n  \"dug\",\n  \"dull\",\n  \"during\",\n  \"dust\",\n  \"duty\",\n  \"each\",\n  \"eager\",\n  \"ear\",\n  \"earlier\",\n  \"early\",\n  \"earn\",\n  \"earth\",\n  \"easier\",\n  \"easily\",\n  \"east\",\n  \"easy\",\n  \"eat\",\n  \"eaten\",\n  \"edge\",\n  \"education\",\n  \"effect\",\n  \"effort\",\n  \"egg\",\n  \"eight\",\n  \"either\",\n  \"electric\",\n  \"electricity\",\n  \"element\",\n  \"elephant\",\n  \"eleven\",\n  \"else\",\n  \"empty\",\n  \"end\",\n  \"enemy\",\n  \"energy\",\n  \"engine\",\n  \"engineer\",\n  \"enjoy\",\n  \"enough\",\n  \"enter\",\n  \"entire\",\n  \"entirely\",\n  \"environment\",\n  \"equal\",\n  \"equally\",\n  \"equator\",\n  \"equipment\",\n  \"escape\",\n  \"especially\",\n  \"essential\",\n  \"establish\",\n  \"even\",\n  \"evening\",\n  \"event\",\n  \"eventually\",\n  \"ever\",\n  \"every\",\n  \"everybody\",\n  \"everyone\",\n  \"everything\",\n  \"everywhere\",\n  \"evidence\",\n  \"exact\",\n  \"exactly\",\n  \"examine\",\n  \"example\",\n  \"excellent\",\n  \"except\",\n  \"exchange\",\n  \"excited\",\n  \"excitement\",\n  \"exciting\",\n  \"exclaimed\",\n  \"exercise\",\n  \"exist\",\n  \"expect\",\n  \"experience\",\n  \"experiment\",\n  \"explain\",\n  \"explanation\",\n  \"explore\",\n  \"express\",\n  \"expression\",\n  \"extra\",\n  \"eye\",\n  \"face\",\n  \"facing\",\n  \"fact\",\n  \"factor\",\n  \"factory\",\n  \"failed\",\n  \"fair\",\n  \"fairly\",\n  \"fall\",\n  \"fallen\",\n  \"familiar\",\n  \"family\",\n  \"famous\",\n  \"far\",\n  \"farm\",\n  \"farmer\",\n  \"farther\",\n  \"fast\",\n  \"fastened\",\n  \"faster\",\n  \"fat\",\n  \"father\",\n  \"favorite\",\n  \"fear\",\n  \"feathers\",\n  \"feature\",\n  \"fed\",\n  \"feed\",\n  \"feel\",\n  \"feet\",\n  \"fell\",\n  \"fellow\",\n  \"felt\",\n  \"fence\",\n  \"few\",\n  \"fewer\",\n  \"field\",\n  \"fierce\",\n  \"fifteen\",\n  \"fifth\",\n  \"fifty\",\n  \"fight\",\n  \"fighting\",\n  \"figure\",\n  \"fill\",\n  \"film\",\n  \"final\",\n  \"finally\",\n  \"find\",\n  \"fine\",\n  \"finest\",\n  \"finger\",\n  \"finish\",\n  \"fire\",\n  \"fireplace\",\n  \"firm\",\n  \"first\",\n  \"fish\",\n  \"five\",\n  \"fix\",\n  \"flag\",\n  \"flame\",\n  \"flat\",\n  \"flew\",\n  \"flies\",\n  \"flight\",\n  \"floating\",\n  \"floor\",\n  \"flow\",\n  \"flower\",\n  \"fly\",\n  \"fog\",\n  \"folks\",\n  \"follow\",\n  \"food\",\n  \"foot\",\n  \"football\",\n  \"for\",\n  \"force\",\n  \"foreign\",\n  \"forest\",\n  \"forget\",\n  \"forgot\",\n  \"forgotten\",\n  \"form\",\n  \"former\",\n  \"fort\",\n  \"forth\",\n  \"forty\",\n  \"forward\",\n  \"fought\",\n  \"found\",\n  \"four\",\n  \"fourth\",\n  \"fox\",\n  \"frame\",\n  \"free\",\n  \"freedom\",\n  \"frequently\",\n  \"fresh\",\n  \"friend\",\n  \"friendly\",\n  \"frighten\",\n  \"frog\",\n  \"from\",\n  \"front\",\n  \"frozen\",\n  \"fruit\",\n  \"fuel\",\n  \"full\",\n  \"fully\",\n  \"fun\",\n  \"function\",\n  \"funny\",\n  \"fur\",\n  \"furniture\",\n  \"further\",\n  \"future\",\n  \"gain\",\n  \"game\",\n  \"garage\",\n  \"garden\",\n  \"gas\",\n  \"gasoline\",\n  \"gate\",\n  \"gather\",\n  \"gave\",\n  \"general\",\n  \"generally\",\n  \"gentle\",\n  \"gently\",\n  \"get\",\n  \"getting\",\n  \"giant\",\n  \"gift\",\n  \"girl\",\n  \"give\",\n  \"given\",\n  \"giving\",\n  \"glad\",\n  \"glass\",\n  \"globe\",\n  \"go\",\n  \"goes\",\n  \"gold\",\n  \"golden\",\n  \"gone\",\n  \"good\",\n  \"goose\",\n  \"got\",\n  \"government\",\n  \"grabbed\",\n  \"grade\",\n  \"gradually\",\n  \"grain\",\n  \"grandfather\",\n  \"grandmother\",\n  \"graph\",\n  \"grass\",\n  \"gravity\",\n  \"gray\",\n  \"great\",\n  \"greater\",\n  \"greatest\",\n  \"greatly\",\n  \"green\",\n  \"grew\",\n  \"ground\",\n  \"group\",\n  \"grow\",\n  \"grown\",\n  \"growth\",\n  \"guard\",\n  \"guess\",\n  \"guide\",\n  \"gulf\",\n  \"gun\",\n  \"habit\",\n  \"had\",\n  \"hair\",\n  \"half\",\n  \"halfway\",\n  \"hall\",\n  \"hand\",\n  \"handle\",\n  \"handsome\",\n  \"hang\",\n  \"happen\",\n  \"happened\",\n  \"happily\",\n  \"happy\",\n  \"harbor\",\n  \"hard\",\n  \"harder\",\n  \"hardly\",\n  \"has\",\n  \"hat\",\n  \"have\",\n  \"having\",\n  \"hay\",\n  \"he\",\n  \"headed\",\n  \"heading\",\n  \"health\",\n  \"heard\",\n  \"hearing\",\n  \"heart\",\n  \"heat\",\n  \"heavy\",\n  \"height\",\n  \"held\",\n  \"hello\",\n  \"help\",\n  \"helpful\",\n  \"her\",\n  \"herd\",\n  \"here\",\n  \"herself\",\n  \"hidden\",\n  \"hide\",\n  \"high\",\n  \"higher\",\n  \"highest\",\n  \"highway\",\n  \"hill\",\n  \"him\",\n  \"himself\",\n  \"his\",\n  \"history\",\n  \"hit\",\n  \"hold\",\n  \"hole\",\n  \"hollow\",\n  \"home\",\n  \"honor\",\n  \"hope\",\n  \"horn\",\n  \"horse\",\n  \"hospital\",\n  \"hot\",\n  \"hour\",\n  \"house\",\n  \"how\",\n  \"however\",\n  \"huge\",\n  \"human\",\n  \"hundred\",\n  \"hung\",\n  \"hungry\",\n  \"hunt\",\n  \"hunter\",\n  \"hurried\",\n  \"hurry\",\n  \"hurt\",\n  \"husband\",\n  \"ice\",\n  \"idea\",\n  \"identity\",\n  \"if\",\n  \"ill\",\n  \"image\",\n  \"imagine\",\n  \"immediately\",\n  \"importance\",\n  \"important\",\n  \"impossible\",\n  \"improve\",\n  \"in\",\n  \"inch\",\n  \"include\",\n  \"including\",\n  \"income\",\n  \"increase\",\n  \"indeed\",\n  \"independent\",\n  \"indicate\",\n  \"individual\",\n  \"industrial\",\n  \"industry\",\n  \"influence\",\n  \"information\",\n  \"inside\",\n  \"instance\",\n  \"instant\",\n  \"instead\",\n  \"instrument\",\n  \"interest\",\n  \"interior\",\n  \"into\",\n  \"introduced\",\n  \"invented\",\n  \"involved\",\n  \"iron\",\n  \"is\",\n  \"island\",\n  \"it\",\n  \"its\",\n  \"itself\",\n  \"jack\",\n  \"jar\",\n  \"jet\",\n  \"job\",\n  \"join\",\n  \"joined\",\n  \"journey\",\n  \"joy\",\n  \"judge\",\n  \"jump\",\n  \"jungle\",\n  \"just\",\n  \"keep\",\n  \"kept\",\n  \"key\",\n  \"kids\",\n  \"kill\",\n  \"kind\",\n  \"kitchen\",\n  \"knew\",\n  \"knife\",\n  \"know\",\n  \"knowledge\",\n  \"known\",\n  \"label\",\n  \"labor\",\n  \"lack\",\n  \"lady\",\n  \"laid\",\n  \"lake\",\n  \"lamp\",\n  \"land\",\n  \"language\",\n  \"large\",\n  \"larger\",\n  \"largest\",\n  \"last\",\n  \"late\",\n  \"later\",\n  \"laugh\",\n  \"law\",\n  \"lay\",\n  \"layers\",\n  \"lead\",\n  \"leader\",\n  \"leaf\",\n  \"learn\",\n  \"least\",\n  \"leather\",\n  \"leave\",\n  \"leaving\",\n  \"led\",\n  \"left\",\n  \"leg\",\n  \"length\",\n  \"lesson\",\n  \"let\",\n  \"letter\",\n  \"level\",\n  \"library\",\n  \"lie\",\n  \"life\",\n  \"lift\",\n  \"light\",\n  \"like\",\n  \"likely\",\n  \"limited\",\n  \"line\",\n  \"lion\",\n  \"lips\",\n  \"liquid\",\n  \"list\",\n  \"listen\",\n  \"little\",\n  \"live\",\n  \"living\",\n  \"load\",\n  \"local\",\n  \"locate\",\n  \"location\",\n  \"log\",\n  \"lonely\",\n  \"long\",\n  \"longer\",\n  \"look\",\n  \"loose\",\n  \"lose\",\n  \"loss\",\n  \"lost\",\n  \"lot\",\n  \"loud\",\n  \"love\",\n  \"lovely\",\n  \"low\",\n  \"lower\",\n  \"luck\",\n  \"lucky\",\n  \"lunch\",\n  \"lungs\",\n  \"lying\",\n  \"machine\",\n  \"machinery\",\n  \"mad\",\n  \"made\",\n  \"magic\",\n  \"magnet\",\n  \"mail\",\n  \"main\",\n  \"mainly\",\n  \"major\",\n  \"make\",\n  \"making\",\n  \"man\",\n  \"managed\",\n  \"manner\",\n  \"manufacturing\",\n  \"many\",\n  \"map\",\n  \"mark\",\n  \"market\",\n  \"married\",\n  \"mass\",\n  \"massage\",\n  \"master\",\n  \"material\",\n  \"mathematics\",\n  \"matter\",\n  \"may\",\n  \"maybe\",\n  \"me\",\n  \"meal\",\n  \"mean\",\n  \"means\",\n  \"meant\",\n  \"measure\",\n  \"meat\",\n  \"medicine\",\n  \"meet\",\n  \"melted\",\n  \"member\",\n  \"memory\",\n  \"men\",\n  \"mental\",\n  \"merely\",\n  \"met\",\n  \"metal\",\n  \"method\",\n  \"mice\",\n  \"middle\",\n  \"might\",\n  \"mighty\",\n  \"mile\",\n  \"military\",\n  \"milk\",\n  \"mill\",\n  \"mind\",\n  \"mine\",\n  \"minerals\",\n  \"minute\",\n  \"mirror\",\n  \"missing\",\n  \"mission\",\n  \"mistake\",\n  \"mix\",\n  \"mixture\",\n  \"model\",\n  \"modern\",\n  \"molecular\",\n  \"moment\",\n  \"money\",\n  \"monkey\",\n  \"month\",\n  \"mood\",\n  \"moon\",\n  \"more\",\n  \"morning\",\n  \"most\",\n  \"mostly\",\n  \"mother\",\n  \"motion\",\n  \"motor\",\n  \"mountain\",\n  \"mouse\",\n  \"mouth\",\n  \"move\",\n  \"movement\",\n  \"movie\",\n  \"moving\",\n  \"mud\",\n  \"muscle\",\n  \"music\",\n  \"musical\",\n  \"must\",\n  \"my\",\n  \"myself\",\n  \"mysterious\",\n  \"nails\",\n  \"name\",\n  \"nation\",\n  \"national\",\n  \"native\",\n  \"natural\",\n  \"naturally\",\n  \"nature\",\n  \"near\",\n  \"nearby\",\n  \"nearer\",\n  \"nearest\",\n  \"nearly\",\n  \"necessary\",\n  \"neck\",\n  \"needed\",\n  \"needle\",\n  \"needs\",\n  \"negative\",\n  \"neighbor\",\n  \"neighborhood\",\n  \"nervous\",\n  \"nest\",\n  \"never\",\n  \"new\",\n  \"news\",\n  \"newspaper\",\n  \"next\",\n  \"nice\",\n  \"night\",\n  \"nine\",\n  \"no\",\n  \"nobody\",\n  \"nodded\",\n  \"noise\",\n  \"none\",\n  \"noon\",\n  \"nor\",\n  \"north\",\n  \"nose\",\n  \"not\",\n  \"note\",\n  \"noted\",\n  \"nothing\",\n  \"notice\",\n  \"noun\",\n  \"now\",\n  \"number\",\n  \"numeral\",\n  \"nuts\",\n  \"object\",\n  \"observe\",\n  \"obtain\",\n  \"occasionally\",\n  \"occur\",\n  \"ocean\",\n  \"of\",\n  \"off\",\n  \"offer\",\n  \"office\",\n  \"officer\",\n  \"official\",\n  \"oil\",\n  \"old\",\n  \"older\",\n  \"oldest\",\n  \"on\",\n  \"once\",\n  \"one\",\n  \"only\",\n  \"onto\",\n  \"open\",\n  \"operation\",\n  \"opinion\",\n  \"opportunity\",\n  \"opposite\",\n  \"or\",\n  \"orange\",\n  \"orbit\",\n  \"order\",\n  \"ordinary\",\n  \"organization\",\n  \"organized\",\n  \"origin\",\n  \"original\",\n  \"other\",\n  \"ought\",\n  \"our\",\n  \"ourselves\",\n  \"out\",\n  \"outer\",\n  \"outline\",\n  \"outside\",\n  \"over\",\n  \"own\",\n  \"owner\",\n  \"oxygen\",\n  \"pack\",\n  \"package\",\n  \"page\",\n  \"paid\",\n  \"pain\",\n  \"paint\",\n  \"pair\",\n  \"palace\",\n  \"pale\",\n  \"pan\",\n  \"paper\",\n  \"paragraph\",\n  \"parallel\",\n  \"parent\",\n  \"park\",\n  \"part\",\n  \"particles\",\n  \"particular\",\n  \"particularly\",\n  \"partly\",\n  \"parts\",\n  \"party\",\n  \"pass\",\n  \"passage\",\n  \"past\",\n  \"path\",\n  \"pattern\",\n  \"pay\",\n  \"peace\",\n  \"pen\",\n  \"pencil\",\n  \"people\",\n  \"per\",\n  \"percent\",\n  \"perfect\",\n  \"perfectly\",\n  \"perhaps\",\n  \"period\",\n  \"person\",\n  \"personal\",\n  \"pet\",\n  \"phrase\",\n  \"physical\",\n  \"piano\",\n  \"pick\",\n  \"picture\",\n  \"pictured\",\n  \"pie\",\n  \"piece\",\n  \"pig\",\n  \"pile\",\n  \"pilot\",\n  \"pine\",\n  \"pink\",\n  \"pipe\",\n  \"pitch\",\n  \"place\",\n  \"plain\",\n  \"plan\",\n  \"plane\",\n  \"planet\",\n  \"planned\",\n  \"planning\",\n  \"plant\",\n  \"plastic\",\n  \"plate\",\n  \"plates\",\n  \"play\",\n  \"pleasant\",\n  \"please\",\n  \"pleasure\",\n  \"plenty\",\n  \"plural\",\n  \"plus\",\n  \"pocket\",\n  \"poem\",\n  \"poet\",\n  \"poetry\",\n  \"point\",\n  \"pole\",\n  \"police\",\n  \"policeman\",\n  \"political\",\n  \"pond\",\n  \"pony\",\n  \"pool\",\n  \"poor\",\n  \"popular\",\n  \"population\",\n  \"porch\",\n  \"port\",\n  \"position\",\n  \"positive\",\n  \"possible\",\n  \"possibly\",\n  \"post\",\n  \"pot\",\n  \"potatoes\",\n  \"pound\",\n  \"pour\",\n  \"powder\",\n  \"power\",\n  \"powerful\",\n  \"practical\",\n  \"practice\",\n  \"prepare\",\n  \"present\",\n  \"president\",\n  \"press\",\n  \"pressure\",\n  \"pretty\",\n  \"prevent\",\n  \"previous\",\n  \"price\",\n  \"pride\",\n  \"primitive\",\n  \"principal\",\n  \"principle\",\n  \"printed\",\n  \"private\",\n  \"prize\",\n  \"probably\",\n  \"problem\",\n  \"process\",\n  \"produce\",\n  \"product\",\n  \"production\",\n  \"program\",\n  \"progress\",\n  \"promised\",\n  \"proper\",\n  \"properly\",\n  \"property\",\n  \"protection\",\n  \"proud\",\n  \"prove\",\n  \"provide\",\n  \"public\",\n  \"pull\",\n  \"pupil\",\n  \"pure\",\n  \"purple\",\n  \"purpose\",\n  \"push\",\n  \"put\",\n  \"putting\",\n  \"quarter\",\n  \"queen\",\n  \"question\",\n  \"quick\",\n  \"quickly\",\n  \"quiet\",\n  \"quietly\",\n  \"quite\",\n  \"rabbit\",\n  \"race\",\n  \"radio\",\n  \"railroad\",\n  \"rain\",\n  \"raise\",\n  \"ran\",\n  \"ranch\",\n  \"range\",\n  \"rapidly\",\n  \"rate\",\n  \"rather\",\n  \"raw\",\n  \"rays\",\n  \"reach\",\n  \"read\",\n  \"reader\",\n  \"ready\",\n  \"real\",\n  \"realize\",\n  \"rear\",\n  \"reason\",\n  \"recall\",\n  \"receive\",\n  \"recent\",\n  \"recently\",\n  \"recognize\",\n  \"record\",\n  \"red\",\n  \"refer\",\n  \"refused\",\n  \"region\",\n  \"regular\",\n  \"related\",\n  \"relationship\",\n  \"religious\",\n  \"remain\",\n  \"remarkable\",\n  \"remember\",\n  \"remove\",\n  \"repeat\",\n  \"replace\",\n  \"replied\",\n  \"report\",\n  \"represent\",\n  \"require\",\n  \"research\",\n  \"respect\",\n  \"rest\",\n  \"result\",\n  \"return\",\n  \"review\",\n  \"rhyme\",\n  \"rhythm\",\n  \"rice\",\n  \"rich\",\n  \"ride\",\n  \"riding\",\n  \"right\",\n  \"ring\",\n  \"rise\",\n  \"rising\",\n  \"river\",\n  \"road\",\n  \"roar\",\n  \"rock\",\n  \"rocket\",\n  \"rocky\",\n  \"rod\",\n  \"roll\",\n  \"roof\",\n  \"room\",\n  \"root\",\n  \"rope\",\n  \"rose\",\n  \"rough\",\n  \"round\",\n  \"route\",\n  \"row\",\n  \"rubbed\",\n  \"rubber\",\n  \"rule\",\n  \"ruler\",\n  \"run\",\n  \"running\",\n  \"rush\",\n  \"sad\",\n  \"saddle\",\n  \"safe\",\n  \"safety\",\n  \"said\",\n  \"sail\",\n  \"sale\",\n  \"salmon\",\n  \"salt\",\n  \"same\",\n  \"sand\",\n  \"sang\",\n  \"sat\",\n  \"satellites\",\n  \"satisfied\",\n  \"save\",\n  \"saved\",\n  \"saw\",\n  \"say\",\n  \"scale\",\n  \"scared\",\n  \"scene\",\n  \"school\",\n  \"science\",\n  \"scientific\",\n  \"scientist\",\n  \"score\",\n  \"screen\",\n  \"sea\",\n  \"search\",\n  \"season\",\n  \"seat\",\n  \"second\",\n  \"secret\",\n  \"section\",\n  \"see\",\n  \"seed\",\n  \"seeing\",\n  \"seems\",\n  \"seen\",\n  \"seldom\",\n  \"select\",\n  \"selection\",\n  \"sell\",\n  \"send\",\n  \"sense\",\n  \"sent\",\n  \"sentence\",\n  \"separate\",\n  \"series\",\n  \"serious\",\n  \"serve\",\n  \"service\",\n  \"sets\",\n  \"setting\",\n  \"settle\",\n  \"settlers\",\n  \"seven\",\n  \"several\",\n  \"shade\",\n  \"shadow\",\n  \"shake\",\n  \"shaking\",\n  \"shall\",\n  \"shallow\",\n  \"shape\",\n  \"share\",\n  \"sharp\",\n  \"she\",\n  \"sheep\",\n  \"sheet\",\n  \"shelf\",\n  \"shells\",\n  \"shelter\",\n  \"shine\",\n  \"shinning\",\n  \"ship\",\n  \"shirt\",\n  \"shoe\",\n  \"shoot\",\n  \"shop\",\n  \"shore\",\n  \"short\",\n  \"shorter\",\n  \"shot\",\n  \"should\",\n  \"shoulder\",\n  \"shout\",\n  \"show\",\n  \"shown\",\n  \"shut\",\n  \"sick\",\n  \"sides\",\n  \"sight\",\n  \"sign\",\n  \"signal\",\n  \"silence\",\n  \"silent\",\n  \"silk\",\n  \"silly\",\n  \"silver\",\n  \"similar\",\n  \"simple\",\n  \"simplest\",\n  \"simply\",\n  \"since\",\n  \"sing\",\n  \"single\",\n  \"sink\",\n  \"sister\",\n  \"sit\",\n  \"sitting\",\n  \"situation\",\n  \"six\",\n  \"size\",\n  \"skill\",\n  \"skin\",\n  \"sky\",\n  \"slabs\",\n  \"slave\",\n  \"sleep\",\n  \"slept\",\n  \"slide\",\n  \"slight\",\n  \"slightly\",\n  \"slip\",\n  \"slipped\",\n  \"slope\",\n  \"slow\",\n  \"slowly\",\n  \"small\",\n  \"smaller\",\n  \"smallest\",\n  \"smell\",\n  \"smile\",\n  \"smoke\",\n  \"smooth\",\n  \"snake\",\n  \"snow\",\n  \"so\",\n  \"soap\",\n  \"social\",\n  \"society\",\n  \"soft\",\n  \"softly\",\n  \"soil\",\n  \"solar\",\n  \"sold\",\n  \"soldier\",\n  \"solid\",\n  \"solution\",\n  \"solve\",\n  \"some\",\n  \"somebody\",\n  \"somehow\",\n  \"someone\",\n  \"something\",\n  \"sometime\",\n  \"somewhere\",\n  \"son\",\n  \"song\",\n  \"soon\",\n  \"sort\",\n  \"sound\",\n  \"source\",\n  \"south\",\n  \"southern\",\n  \"space\",\n  \"speak\",\n  \"special\",\n  \"species\",\n  \"specific\",\n  \"speech\",\n  \"speed\",\n  \"spell\",\n  \"spend\",\n  \"spent\",\n  \"spider\",\n  \"spin\",\n  \"spirit\",\n  \"spite\",\n  \"split\",\n  \"spoken\",\n  \"sport\",\n  \"spread\",\n  \"spring\",\n  \"square\",\n  \"stage\",\n  \"stairs\",\n  \"stand\",\n  \"standard\",\n  \"star\",\n  \"stared\",\n  \"start\",\n  \"state\",\n  \"statement\",\n  \"station\",\n  \"stay\",\n  \"steady\",\n  \"steam\",\n  \"steel\",\n  \"steep\",\n  \"stems\",\n  \"step\",\n  \"stepped\",\n  \"stick\",\n  \"stiff\",\n  \"still\",\n  \"stock\",\n  \"stomach\",\n  \"stone\",\n  \"stood\",\n  \"stop\",\n  \"stopped\",\n  \"store\",\n  \"storm\",\n  \"story\",\n  \"stove\",\n  \"straight\",\n  \"strange\",\n  \"stranger\",\n  \"straw\",\n  \"stream\",\n  \"street\",\n  \"strength\",\n  \"stretch\",\n  \"strike\",\n  \"string\",\n  \"strip\",\n  \"strong\",\n  \"stronger\",\n  \"struck\",\n  \"structure\",\n  \"struggle\",\n  \"stuck\",\n  \"student\",\n  \"studied\",\n  \"studying\",\n  \"subject\",\n  \"substance\",\n  \"success\",\n  \"successful\",\n  \"such\",\n  \"sudden\",\n  \"suddenly\",\n  \"sugar\",\n  \"suggest\",\n  \"suit\",\n  \"sum\",\n  \"summer\",\n  \"sun\",\n  \"sunlight\",\n  \"supper\",\n  \"supply\",\n  \"support\",\n  \"suppose\",\n  \"sure\",\n  \"surface\",\n  \"surprise\",\n  \"surrounded\",\n  \"swam\",\n  \"sweet\",\n  \"swept\",\n  \"swim\",\n  \"swimming\",\n  \"swing\",\n  \"swung\",\n  \"syllable\",\n  \"symbol\",\n  \"system\",\n  \"table\",\n  \"tail\",\n  \"take\",\n  \"taken\",\n  \"tales\",\n  \"talk\",\n  \"tall\",\n  \"tank\",\n  \"tape\",\n  \"task\",\n  \"taste\",\n  \"taught\",\n  \"tax\",\n  \"tea\",\n  \"teach\",\n  \"teacher\",\n  \"team\",\n  \"tears\",\n  \"teeth\",\n  \"telephone\",\n  \"television\",\n  \"tell\",\n  \"temperature\",\n  \"ten\",\n  \"tent\",\n  \"term\",\n  \"terrible\",\n  \"test\",\n  \"than\",\n  \"thank\",\n  \"that\",\n  \"thee\",\n  \"them\",\n  \"themselves\",\n  \"then\",\n  \"theory\",\n  \"there\",\n  \"therefore\",\n  \"these\",\n  \"they\",\n  \"thick\",\n  \"thin\",\n  \"thing\",\n  \"think\",\n  \"third\",\n  \"thirty\",\n  \"this\",\n  \"those\",\n  \"thou\",\n  \"though\",\n  \"thought\",\n  \"thousand\",\n  \"thread\",\n  \"three\",\n  \"threw\",\n  \"throat\",\n  \"through\",\n  \"throughout\",\n  \"throw\",\n  \"thrown\",\n  \"thumb\",\n  \"thus\",\n  \"thy\",\n  \"tide\",\n  \"tie\",\n  \"tight\",\n  \"tightly\",\n  \"till\",\n  \"time\",\n  \"tin\",\n  \"tiny\",\n  \"tip\",\n  \"tired\",\n  \"title\",\n  \"to\",\n  \"tobacco\",\n  \"today\",\n  \"together\",\n  \"told\",\n  \"tomorrow\",\n  \"tone\",\n  \"tongue\",\n  \"tonight\",\n  \"too\",\n  \"took\",\n  \"tool\",\n  \"top\",\n  \"topic\",\n  \"torn\",\n  \"total\",\n  \"touch\",\n  \"toward\",\n  \"tower\",\n  \"town\",\n  \"toy\",\n  \"trace\",\n  \"track\",\n  \"trade\",\n  \"traffic\",\n  \"trail\",\n  \"train\",\n  \"transportation\",\n  \"trap\",\n  \"travel\",\n  \"treated\",\n  \"tree\",\n  \"triangle\",\n  \"tribe\",\n  \"trick\",\n  \"tried\",\n  \"trip\",\n  \"troops\",\n  \"tropical\",\n  \"trouble\",\n  \"truck\",\n  \"trunk\",\n  \"truth\",\n  \"try\",\n  \"tube\",\n  \"tune\",\n  \"turn\",\n  \"twelve\",\n  \"twenty\",\n  \"twice\",\n  \"two\",\n  \"type\",\n  \"typical\",\n  \"uncle\",\n  \"under\",\n  \"underline\",\n  \"understanding\",\n  \"unhappy\",\n  \"union\",\n  \"unit\",\n  \"universe\",\n  \"unknown\",\n  \"unless\",\n  \"until\",\n  \"unusual\",\n  \"up\",\n  \"upon\",\n  \"upper\",\n  \"upward\",\n  \"us\",\n  \"use\",\n  \"useful\",\n  \"using\",\n  \"usual\",\n  \"usually\",\n  \"valley\",\n  \"valuable\",\n  \"value\",\n  \"vapor\",\n  \"variety\",\n  \"various\",\n  \"vast\",\n  \"vegetable\",\n  \"verb\",\n  \"vertical\",\n  \"very\",\n  \"vessels\",\n  \"victory\",\n  \"view\",\n  \"village\",\n  \"visit\",\n  \"visitor\",\n  \"voice\",\n  \"volume\",\n  \"vote\",\n  \"vowel\",\n  \"voyage\",\n  \"wagon\",\n  \"wait\",\n  \"walk\",\n  \"wall\",\n  \"want\",\n  \"war\",\n  \"warm\",\n  \"warn\",\n  \"was\",\n  \"wash\",\n  \"waste\",\n  \"watch\",\n  \"water\",\n  \"wave\",\n  \"way\",\n  \"we\",\n  \"weak\",\n  \"wealth\",\n  \"wear\",\n  \"weather\",\n  \"week\",\n  \"weigh\",\n  \"weight\",\n  \"welcome\",\n  \"well\",\n  \"went\",\n  \"were\",\n  \"west\",\n  \"western\",\n  \"wet\",\n  \"whale\",\n  \"what\",\n  \"whatever\",\n  \"wheat\",\n  \"wheel\",\n  \"when\",\n  \"whenever\",\n  \"where\",\n  \"wherever\",\n  \"whether\",\n  \"which\",\n  \"while\",\n  \"whispered\",\n  \"whistle\",\n  \"white\",\n  \"who\",\n  \"whole\",\n  \"whom\",\n  \"whose\",\n  \"why\",\n  \"wide\",\n  \"widely\",\n  \"wife\",\n  \"wild\",\n  \"will\",\n  \"willing\",\n  \"win\",\n  \"wind\",\n  \"window\",\n  \"wing\",\n  \"winter\",\n  \"wire\",\n  \"wise\",\n  \"wish\",\n  \"with\",\n  \"within\",\n  \"without\",\n  \"wolf\",\n  \"women\",\n  \"won\",\n  \"wonder\",\n  \"wonderful\",\n  \"wood\",\n  \"wooden\",\n  \"wool\",\n  \"word\",\n  \"wore\",\n  \"work\",\n  \"worker\",\n  \"world\",\n  \"worried\",\n  \"worry\",\n  \"worse\",\n  \"worth\",\n  \"would\",\n  \"wrapped\",\n  \"write\",\n  \"writer\",\n  \"writing\",\n  \"written\",\n  \"wrong\",\n  \"wrote\",\n  \"yard\",\n  \"year\",\n  \"yellow\",\n  \"yes\",\n  \"yesterday\",\n  \"yet\",\n  \"you\",\n  \"young\",\n  \"younger\",\n  \"your\",\n  \"yourself\",\n  \"youth\",\n  \"zero\",\n  \"zebra\",\n  \"zipper\",\n  \"zoo\",\n  \"zulu\",\n];\n\nconst shortestWordSize = wordList.reduce((shortestWord, currentWord) =>\n  currentWord.length < shortestWord.length ? currentWord : shortestWord\n).length;\n\nconst longestWordSize = wordList.reduce((longestWord, currentWord) =>\n  currentWord.length > longestWord.length ? currentWord : longestWord\n).length;\n\nexport function generate(options) {\n  // initalize random number generator for words if options.seed is provided\n  const random = options?.seed ? new seedrandom(options.seed) : null;\n\n  const { minLength, maxLength, ...rest } = options || {};\n\n  function word() {\n    let min =\n      typeof minLength !== \"number\"\n        ? shortestWordSize\n        : limitWordSize(minLength);\n\n    const max =\n      typeof maxLength !== \"number\"\n        ? longestWordSize\n        : limitWordSize(maxLength);\n\n    if (min > max) min = max;\n\n    let rightSize = false;\n    let wordUsed;\n    while (!rightSize) {\n      wordUsed = generateRandomWord();\n      rightSize = wordUsed.length <= max && wordUsed.length >= min;\n    }\n    return wordUsed;\n  }\n\n  function generateRandomWord() {\n    return wordList[randInt(wordList.length)];\n  }\n\n  // limits the size of words to the minimum and maximum possible\n  function limitWordSize(wordSize) {\n    if (wordSize < shortestWordSize) wordSize = shortestWordSize;\n    if (wordSize > longestWordSize) wordSize = longestWordSize;\n    return wordSize;\n  }\n\n  // random int as seeded by options.seed if applicable, or Math.random() otherwise\n  function randInt(lessThan) {\n    const r = random ? random() : Math.random();\n    return Math.floor(r * lessThan);\n  }\n\n  // No arguments = generate one word\n  if (options === undefined) {\n    return word();\n  }\n\n  // Just a number = return that many words\n  if (typeof options === \"number\") {\n    options = { exactly: options };\n  } else if (Object.keys(rest).length === 0) {\n    return word();\n  }\n\n  // options supported: exactly, min, max, join\n  if (options.exactly) {\n    options.min = options.exactly;\n    options.max = options.exactly;\n  }\n\n  // not a number = one word par string\n  if (typeof options.wordsPerString !== \"number\") {\n    options.wordsPerString = 1;\n  }\n\n  //not a function = returns the raw word\n  if (typeof options.formatter !== \"function\") {\n    options.formatter = (word) => word;\n  }\n\n  //not a string = separator is a space\n  if (typeof options.separator !== \"string\") {\n    options.separator = \" \";\n  }\n\n  const total = options.min + randInt(options.max + 1 - options.min);\n  let results = [];\n  let token = \"\";\n  let relativeIndex = 0;\n\n  for (let i = 0; i < total * options.wordsPerString; i++) {\n    if (relativeIndex === options.wordsPerString - 1) {\n      token += options.formatter(word(), relativeIndex);\n    } else {\n      token += options.formatter(word(), relativeIndex) + options.separator;\n    }\n    relativeIndex++;\n    if ((i + 1) % options.wordsPerString === 0) {\n      results.push(token);\n      token = \"\";\n      relativeIndex = 0;\n    }\n  }\n  if (typeof options.join === \"string\") {\n    results = results.join(options.join);\n  }\n\n  return results;\n}\n\nexport function count(options) {\n  let { minLength, maxLength } = options || {};\n\n  if (typeof minLength !== \"number\") {\n    minLength = shortestWordSize;\n  }\n\n  if (typeof maxLength !== \"number\") {\n    maxLength = longestWordSize;\n  }\n\n  return wordList.filter(\n    (word) => word.length >= minLength && word.length <= maxLength\n  ).length;\n}\n"],"names":["getFormGroupUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","FormGroupRoot","styled","name","overridesResolver","props","styles","ownerState","root","row","_ref","_extends","display","flexDirection","flexWrap","React","inProps","ref","useThemeProps","className","other","_objectWithoutPropertiesLoose","muiFormControl","useFormControl","fcs","formControlState","states","error","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","actions","children","defaultValue","nameProp","onChange","value","valueProp","rootRef","setValueState","useControlled","controlled","default","focus","input","current","querySelector","handleRef","useForkRef","useId","contextValue","event","target","RadioGroupContext","FormGroup","role","undefined","createSvgIcon","d","RadioButtonIconRoot","position","RadioButtonIconBackground","RadioButtonUncheckedIcon","transform","RadioButtonIconDot","RadioButtonCheckedIcon","theme","left","transition","transitions","create","easing","easeIn","duration","shortest","checked","easeOut","fontSize","_jsxs","background","dot","getRadioUtilityClass","RadioRoot","SwitchBase","shouldForwardProp","prop","rootShouldForwardProp","capitalize","color","vars","palette","text","secondary","disableRipple","backgroundColor","action","activeChannel","mainChannel","hoverOpacity","alpha","active","main","radioClasses","disabled","defaultCheckedIcon","RadioButtonIcon","defaultIcon","_defaultIcon$props$fo","_defaultCheckedIcon$p","checkedProp","checkedIcon","icon","onChangeProp","size","radioGroup","createChainedFunction","a","b","String","type","getUnit","match","toUnitless","length","parseFloat","getSkeletonUtilityClass","_t","_t2","_t3","_t4","_","t","pulseKeyframe","keyframes","waveKeyframe","SkeletonRoot","variant","animation","hasChildren","withChildren","width","fitContent","height","heightAuto","radiusUnit","shape","borderRadius","radiusValue","Skeleton","bg","primary","mode","marginTop","marginBottom","transformOrigin","Math","round","content","visibility","maxWidth","_ref2","css","_ref3","hover","component","style","Boolean","as","alea","require","xor128","xorwow","xorshift7","xor4096","tychei","sr","module","exports","global","define","Alea","seed","me","this","mash","n","data","i","h","charCodeAt","Mash","next","s0","c","s1","s2","copy","f","impl","opts","xg","state","prng","int32","double","quick","XorGen","strseed","floor","k","result","x","y","z","w","v","X","j","limit","max","init","slice","Date","push","pool","math","nodecrypto","startdenom","pow","significance","overflow","mask","seedrandom","options","callback","key","shortseed","mixkey","flatten","entropy","tostring","out","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","e","browser","navigator","plugins","screen","autoseed","arc4","ARC4","g","S","pass","is_math_call","keylen","s","count","r","obj","depth","typ","smear","stringseed","fromCharCode","apply","random","ex","self","client","Client","fetch","url","uri","isURL","isNode","Object","assign","method","json","qs","URLSearchParams","fetchOptions","connection","agent","fetchAgent","fetchPromise","headers","body","response","then","res","statusCode","status","err","xhr","XMLHttpRequest","open","setRequestHeader","responseType","addEventListener","_ev","readyState","send","_global","window","_WebSocket","WebSocket","_fetch","api","commands","EventEmitter","logger","parse","Queue","_apiWarned","get","channels","identity","clientId","_globalDefaultChannel","channel","globalDefaultChannel","_skipMembership","skipMembership","_skipUpdatingEmotesets","skipUpdatingEmotesets","_updateEmotesetsTimer","_updateEmotesetsTimerDelay","updateEmotesetsTimer","maxReconnectAttempts","Infinity","maxReconnectInterval","reconnect","reconnectDecay","reconnectInterval","reconnecting","reconnections","reconnectTimer","secure","server","port","emotes","emotesets","currentLatency","globaluserstate","lastJoined","latency","moderators","pingLoop","pingTimeout","reason","username","userstate","wasCloseCalled","ws","level","debug","log","setLevel","forEach","part","index","theArray","call","setMaxListeners","inherits","methodName","prototype","emits","types","values","val","emit","concat","warn","arguments","handleMessage","message","listenerCount","JSON","stringify","params","msg","msgid","tags","badges","badgeInfo","unescapeIRC","prefix","command","_isConnected","currDate","getTime","clearTimeout","info","setInterval","setTimeout","close","clearInterval","timeout","joinInterval","joinQueue","joinChannels","Set","add","join","catch","nullArr","noticeArr","channelTrueArr","channelFalseArr","noticeAndNull","noticeAndMsgid","basicLog","listSplit","split","mods","toLowerCase","filter","endsWith","vips","remainingHost","isNaN","parseInt","includes","plan","planName","methods","prime","streakMonths","recipient","giftSubCount","sender","viewers","ritualName","msgSplit","deletedMessage","disconnect","connect","isJustinfan","getUsername","_updateEmoteset","hasOwn","slow","enabled","nick","isSelf","indexOf","splice","from","autohost","extractNumber","messagesLogLevel","actionMessage","rewardtype","Promise","resolve","reject","_openConnection","once","connectionOptions","onmessage","_onMessage","bind","onerror","_onError","onclose","_onClose","onopen","_onOpen","justinfan","_getToken","token","password","caps","passwordOption","trim","str","_getPromiseDelay","_sendCommand","delay","fn","promiseDelay","chan","_sendMessage","splitLine","keys","id","emote","isRegex","code","emoteRegex","emoteString","transformEmotes","sets","setsChanges","setEmotesetTimer","emoticon_sets","getOptions","getChannels","isMod","off","removeListener","tmi","followersonly","minutes","followersonlyoff","r9kbeta","r9kbetaoff","seconds","slowoff","_reject","ban","clear","newColor","commercial","deletemessage","messageUUID","emoteonly","emoteonlyoff","followersmode","followersmodeoff","host","remaining","eventName","hasFulfilled","listener","joinedChannel","on","mod","leave","ping","r9kmode","r9kmodeoff","raw","say","startsWith","substr","slowmode","slowmodeoff","subscribers","subscribersoff","isInteger","unban","unhost","unmod","unvip","vip","whisper","_resolve","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","TypeError","er","handler","len","args","listeners","Error","Array","addListener","m","newListener","warned","console","trace","fired","hasOwnProperty","charAt","searchFor","substring","list","removeAllListeners","evlistener","emitter","currentLevel","levels","formatDate","fatal","nonspaceRegex","parseComplexTag","tagKey","splA","splB","splC","tagIsString","spl","parts","lastIndex","regex","RegExp","unescapeHtml","exec","test","transformed","formTags","escapeIRC","nextspace","rawTags","tag","pair","constructor","defaultDelay","queue","at","actionMessageRegex","justinFanRegex","unescapeIRCRegex","escapeIRCRegex","ircEscapedChars","ircUnescapedChars","urlRegex","regexEmoteRegex","time","isFinite","int","toNumber","num","precision","factor","replace","replaceAll","safe","p","addWord","line","word","lastSpace","lastIndexOf","date","hours","getHours","mins","getMinutes","ctor","superCtor","super_","TempCtor","process","toString","wordList","shortestWordSize","reduce","shortestWord","currentWord","longestWordSize","longestWord","generate","minLength","maxLength","rest","min","limitWordSize","wordUsed","rightSize","randInt","wordSize","lessThan","exactly","wordsPerString","formatter","separator","total","results","relativeIndex"],"sourceRoot":""}