"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[419],{5419:function(t,e,a){a.r(e);var o=a(2791),n=a(7564),r=a(6787),c=a(184);const i=new r.A({channels:[new URLSearchParams(window.location.search).get("login")]}),l=new n.p;function s(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}const m=new URLSearchParams(window.location.search);e.default=()=>{var t,e,a,n;const[r,d]=(0,o.useState)(null!==(t=localStorage.getItem("marathon_moderation_action"))&&void 0!==t?t:0),[u,_]=(0,o.useState)(null!==(e=localStorage.getItem("marathon_moderation_action_total"))&&void 0!==e?e:0),[g,h]=(0,o.useState)(null!==(a=localStorage.getItem("marathon_moderation_action_need"))&&void 0!==a?a:0),[S,b]=(0,o.useState)(null!==(n=localStorage.getItem("marathon_subs"))&&void 0!==n?n:0);return(0,o.useEffect)((()=>{!async function(){document.title="LsCo Software - Modding Marathon",document.body.style.backgroundColor="initial !important";const t=new URLSearchParams(window.location.search).get("access_token"),e=new URLSearchParams(window.location.search).get("login"),a=new URLSearchParams(window.location.search).get("id"),o=(await(async(t,e)=>{const a=await fetch("https://api.modscanner.com/twitch/user/"+t);return a.ok?[...(await a.json()).moderating.map((t=>t.id)),e]:[]})(e,a)).map((t=>`chat_moderator_actions.${a}.${t}`));l.onDisconnect(((t,e)=>{console.log("[PubSub] Disconnected",e)})),l.onListenError(((t,e)=>{console.error(`[PubSub] An error has occurred on topic '${t}':`,e)})),l.onConnect((async()=>{console.log("[PubSub] Connected"),await l.listen(o,t)})),l.onMessage((async(t,e)=>{if("chat_moderator_actions"===t.split(".").shift()&&e.data.created_by_user_id===a)switch(e.data.moderation_action){case"delete":case"timeout":case"ban":{const t=Number(localStorage.getItem("marathon_moderation_action"))+1,e=Number(localStorage.getItem("marathon_moderation_action_total"))+1;localStorage.setItem("marathon_moderation_action",t),localStorage.setItem("marathon_moderation_action_total",e),d(t),_(e);break}}})),i.onSub((()=>{var t;const e=Number(localStorage.getItem("marathon_subs"))+1;localStorage.setItem("marathon_subs",e),b(e);const a=null!==(t=Number(localStorage.getItem("marathon_moderation_action_need"))+m.get("countup"))&&void 0!==t?t:5;localStorage.setItem("marathon_moderation_action_need",a),h(a)})),i.onResub((()=>{var t;const e=Number(localStorage.getItem("marathon_subs"))+1;localStorage.setItem("marathon_subs",e),b(e);const a=null!==(t=Number(localStorage.getItem("marathon_moderation_action_need"))+m.get("countup"))&&void 0!==t?t:5;localStorage.setItem("marathon_moderation_action_need",a),h(a)})),i.onSubGift((()=>{var t;const e=Number(localStorage.getItem("marathon_subs"))+1;localStorage.setItem("marathon_subs",e),b(e);const a=null!==(t=Number(localStorage.getItem("marathon_moderation_action_need"))+m.get("countup"))&&void 0!==t?t:5;localStorage.setItem("marathon_moderation_action_need",a),h(a)})),l.connect(),i.connect()}()}),[]),(0,c.jsxs)("div",{style:{fontFamily:"Comic Neue",fontSize:"xx-large",textAlign:"end",verticalAlign:"middle",textShadow:"4px 4px 6px rgba(0, 0, 0, 0.4)",margin:"2.5rem"},children:["Subs: ",(0,c.jsx)("peg",{children:s(S)})," - Mod Actions: ",s(r),"/",s(Number(g))," - Total:"," ",s(u)]})}}}]);
//# sourceMappingURL=419.71f56c07.chunk.js.map